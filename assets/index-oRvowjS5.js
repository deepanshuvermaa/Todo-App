(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=l(c);fetch(c.href,u)}})();function kp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dd={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function _v(){if(Hf)return Ur;Hf=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(i,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var p in c)p!=="key"&&(u[p]=c[p])}else u=c;return c=u.ref,{$$typeof:s,type:i,key:h,ref:c!==void 0?c:null,props:u}}return Ur.Fragment=n,Ur.jsx=l,Ur.jsxs=l,Ur}var Vf;function zv(){return Vf||(Vf=1,dd.exports=_v()),dd.exports}var t=zv(),ud={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function Hv(){if(Uf)return be;Uf=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),b=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function R(I,W,re){this.props=I,this.context=W,this.refs=T,this.updater=re||M}R.prototype.isReactComponent={},R.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=R.prototype;function A(I,W,re){this.props=I,this.context=W,this.refs=T,this.updater=re||M}var H=A.prototype=new N;H.constructor=A,O(H,R.prototype),H.isPureReactComponent=!0;var C=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function U(I,W,re,te,oe,le){return re=le.ref,{$$typeof:s,type:I,key:W,ref:re!==void 0?re:null,props:le}}function y(I,W){return U(I.type,W,void 0,void 0,void 0,I.props)}function v(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function L(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(re){return W[re]})}var S=/\/+/g;function V(I,W){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):W.toString(36)}function z(){}function q(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(z,z):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Q(I,W,re,te,oe){var le=typeof I;(le==="undefined"||le==="boolean")&&(I=null);var ce=!1;if(I===null)ce=!0;else switch(le){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(I.$$typeof){case s:case n:ce=!0;break;case f:return ce=I._init,Q(ce(I._payload),W,re,te,oe)}}if(ce)return oe=oe(I),ce=te===""?"."+V(I,0):te,C(oe)?(re="",ce!=null&&(re=ce.replace(S,"$&/")+"/"),Q(oe,W,re,"",function(ve){return ve})):oe!=null&&(v(oe)&&(oe=y(oe,re+(oe.key==null||I&&I.key===oe.key?"":(""+oe.key).replace(S,"$&/")+"/")+ce)),W.push(oe)),1;ce=0;var Re=te===""?".":te+":";if(C(I))for(var he=0;he<I.length;he++)te=I[he],le=Re+V(te,he),ce+=Q(te,W,re,le,oe);else if(he=j(I),typeof he=="function")for(I=he.call(I),he=0;!(te=I.next()).done;)te=te.value,le=Re+V(te,he++),ce+=Q(te,W,re,le,oe);else if(le==="object"){if(typeof I.then=="function")return Q(q(I),W,re,te,oe);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ce}function B(I,W,re){if(I==null)return I;var te=[],oe=0;return Q(I,te,"","",function(le){return W.call(re,le,oe++)}),te}function P(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(re){(I._status===0||I._status===-1)&&(I._status=1,I._result=re)},function(re){(I._status===0||I._status===-1)&&(I._status=2,I._result=re)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var ee=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ae(){}return be.Children={map:B,forEach:function(I,W,re){B(I,function(){W.apply(this,arguments)},re)},count:function(I){var W=0;return B(I,function(){W++}),W},toArray:function(I){return B(I,function(W){return W})||[]},only:function(I){if(!v(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},be.Component=R,be.Fragment=l,be.Profiler=c,be.PureComponent=A,be.StrictMode=i,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,be.__COMPILER_RUNTIME={__proto__:null,c:function(I){return _.H.useMemoCache(I)}},be.cache=function(I){return function(){return I.apply(null,arguments)}},be.cloneElement=function(I,W,re){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var te=O({},I.props),oe=I.key,le=void 0;if(W!=null)for(ce in W.ref!==void 0&&(le=void 0),W.key!==void 0&&(oe=""+W.key),W)!D.call(W,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&W.ref===void 0||(te[ce]=W[ce]);var ce=arguments.length-2;if(ce===1)te.children=re;else if(1<ce){for(var Re=Array(ce),he=0;he<ce;he++)Re[he]=arguments[he+2];te.children=Re}return U(I.type,oe,void 0,void 0,le,te)},be.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},be.createElement=function(I,W,re){var te,oe={},le=null;if(W!=null)for(te in W.key!==void 0&&(le=""+W.key),W)D.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=W[te]);var ce=arguments.length-2;if(ce===1)oe.children=re;else if(1<ce){for(var Re=Array(ce),he=0;he<ce;he++)Re[he]=arguments[he+2];oe.children=Re}if(I&&I.defaultProps)for(te in ce=I.defaultProps,ce)oe[te]===void 0&&(oe[te]=ce[te]);return U(I,le,void 0,void 0,null,oe)},be.createRef=function(){return{current:null}},be.forwardRef=function(I){return{$$typeof:p,render:I}},be.isValidElement=v,be.lazy=function(I){return{$$typeof:f,_payload:{_status:-1,_result:I},_init:P}},be.memo=function(I,W){return{$$typeof:x,type:I,compare:W===void 0?null:W}},be.startTransition=function(I){var W=_.T,re={};_.T=re;try{var te=I(),oe=_.S;oe!==null&&oe(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ae,ee)}catch(le){ee(le)}finally{_.T=W}},be.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},be.use=function(I){return _.H.use(I)},be.useActionState=function(I,W,re){return _.H.useActionState(I,W,re)},be.useCallback=function(I,W){return _.H.useCallback(I,W)},be.useContext=function(I){return _.H.useContext(I)},be.useDebugValue=function(){},be.useDeferredValue=function(I,W){return _.H.useDeferredValue(I,W)},be.useEffect=function(I,W,re){var te=_.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(I,W)},be.useId=function(){return _.H.useId()},be.useImperativeHandle=function(I,W,re){return _.H.useImperativeHandle(I,W,re)},be.useInsertionEffect=function(I,W){return _.H.useInsertionEffect(I,W)},be.useLayoutEffect=function(I,W){return _.H.useLayoutEffect(I,W)},be.useMemo=function(I,W){return _.H.useMemo(I,W)},be.useOptimistic=function(I,W){return _.H.useOptimistic(I,W)},be.useReducer=function(I,W,re){return _.H.useReducer(I,W,re)},be.useRef=function(I){return _.H.useRef(I)},be.useState=function(I){return _.H.useState(I)},be.useSyncExternalStore=function(I,W,re){return _.H.useSyncExternalStore(I,W,re)},be.useTransition=function(){return _.H.useTransition()},be.version="19.1.1",be}var Pf;function ou(){return Pf||(Pf=1,ud.exports=Hv()),ud.exports}var k=ou();const Nl=kp(k);var hd={exports:{}},Pr={},md={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function Vv(){return If||(If=1,(function(s){function n(B,P){var ee=B.length;B.push(P);e:for(;0<ee;){var ae=ee-1>>>1,I=B[ae];if(0<c(I,P))B[ae]=P,B[ee]=I,ee=ae;else break e}}function l(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var P=B[0],ee=B.pop();if(ee!==P){B[0]=ee;e:for(var ae=0,I=B.length,W=I>>>1;ae<W;){var re=2*(ae+1)-1,te=B[re],oe=re+1,le=B[oe];if(0>c(te,ee))oe<I&&0>c(le,te)?(B[ae]=le,B[oe]=ee,ae=oe):(B[ae]=te,B[re]=ee,ae=re);else if(oe<I&&0>c(le,ee))B[ae]=le,B[oe]=ee,ae=oe;else break e}}return P}function c(B,P){var ee=B.sortIndex-P.sortIndex;return ee!==0?ee:B.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],x=[],f=1,b=null,j=3,M=!1,O=!1,T=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function C(B){for(var P=l(x);P!==null;){if(P.callback===null)i(x);else if(P.startTime<=B)i(x),P.sortIndex=P.expirationTime,n(g,P);else break;P=l(x)}}function _(B){if(T=!1,C(B),!O)if(l(g)!==null)O=!0,D||(D=!0,V());else{var P=l(x);P!==null&&Q(_,P.startTime-B)}}var D=!1,U=-1,y=5,v=-1;function L(){return R?!0:!(s.unstable_now()-v<y)}function S(){if(R=!1,D){var B=s.unstable_now();v=B;var P=!0;try{e:{O=!1,T&&(T=!1,A(U),U=-1),M=!0;var ee=j;try{t:{for(C(B),b=l(g);b!==null&&!(b.expirationTime>B&&L());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,j=b.priorityLevel;var I=ae(b.expirationTime<=B);if(B=s.unstable_now(),typeof I=="function"){b.callback=I,C(B),P=!0;break t}b===l(g)&&i(g),C(B)}else i(g);b=l(g)}if(b!==null)P=!0;else{var W=l(x);W!==null&&Q(_,W.startTime-B),P=!1}}break e}finally{b=null,j=ee,M=!1}P=void 0}}finally{P?V():D=!1}}}var V;if(typeof H=="function")V=function(){H(S)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=S,V=function(){q.postMessage(null)}}else V=function(){N(S,0)};function Q(B,P){U=N(function(){B(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(B){switch(j){case 1:case 2:case 3:var P=3;break;default:P=j}var ee=j;j=P;try{return B()}finally{j=ee}},s.unstable_requestPaint=function(){R=!0},s.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=j;j=B;try{return P()}finally{j=ee}},s.unstable_scheduleCallback=function(B,P,ee){var ae=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,B){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ee+I,B={id:f++,callback:P,priorityLevel:B,startTime:ee,expirationTime:I,sortIndex:-1},ee>ae?(B.sortIndex=ee,n(x,B),l(g)===null&&B===l(x)&&(T?(A(U),U=-1):T=!0,Q(_,ee-ae))):(B.sortIndex=I,n(g,B),O||M||(O=!0,D||(D=!0,V()))),B},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(B){var P=j;return function(){var ee=j;j=P;try{return B.apply(this,arguments)}finally{j=ee}}}})(fd)),fd}var qf;function Uv(){return qf||(qf=1,md.exports=Vv()),md.exports}var gd={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function Pv(){if($f)return Ct;$f=1;var s=ou();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)x+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,x,f){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:x,implementation:f}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ct.createPortal=function(g,x){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return u(g,x,null,f)},Ct.flushSync=function(g){var x=h.T,f=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=x,i.p=f,i.d.f()}},Ct.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(g,x))},Ct.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Ct.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var f=x.as,b=p(f,x.crossOrigin),j=typeof x.integrity=="string"?x.integrity:void 0,M=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;f==="style"?i.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:b,integrity:j,fetchPriority:M}):f==="script"&&i.d.X(g,{crossOrigin:b,integrity:j,fetchPriority:M,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ct.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var f=p(x.as,x.crossOrigin);i.d.M(g,{crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(g)},Ct.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var f=x.as,b=p(f,x.crossOrigin);i.d.L(g,f,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ct.preloadModule=function(g,x){if(typeof g=="string")if(x){var f=p(x.as,x.crossOrigin);i.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(g)},Ct.requestFormReset=function(g){i.d.r(g)},Ct.unstable_batchedUpdates=function(g,x){return g(x)},Ct.useFormState=function(g,x,f){return h.H.useFormState(g,x,f)},Ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ct.version="19.1.1",Ct}var Ff;function Iv(){if(Ff)return gd.exports;Ff=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),gd.exports=Pv(),gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function qv(){if(Gf)return Pr;Gf=1;var s=Uv(),n=ou(),l=Iv();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,r=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(r=a.return),e=a.return;while(e)}return a.tag===3?r:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var r=e,o=a;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return p(d),e;if(m===o)return p(d),a;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=m;else{for(var w=!1,E=d.child;E;){if(E===r){w=!0,r=d,o=m;break}if(E===o){w=!0,o=d,r=m;break}E=E.sibling}if(!w){for(E=m.child;E;){if(E===r){w=!0,r=m,o=d;break}if(E===o){w=!0,o=m,r=d;break}E=E.sibling}if(!w)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:a}function x(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=x(e),a!==null)return a;e=e.sibling}return null}var f=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),H=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=S&&e[S]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList";case v:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case H:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case C:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return a=e.displayName||null,a!==null?a:q(e.type)||"Memo";case y:a=e._payload,e=e._init;try{return q(e(a))}catch{}}return null}var Q=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],I=-1;function W(e){return{current:e}}function re(e){0>I||(e.current=ae[I],ae[I]=null,I--)}function te(e,a){I++,ae[I]=e.current,e.current=a}var oe=W(null),le=W(null),ce=W(null),Re=W(null);function he(e,a){switch(te(ce,a),te(le,e),te(oe,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?hf(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=hf(a),e=mf(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(oe),te(oe,e)}function ve(){re(oe),re(le),re(ce)}function $e(e){e.memoizedState!==null&&te(Re,e);var a=oe.current,r=mf(a,e.type);a!==r&&(te(le,e),te(oe,r))}function ye(e){le.current===e&&(re(oe),re(le)),Re.current===e&&(re(Re),Br._currentValue=ee)}var Be=Object.prototype.hasOwnProperty,Je=s.unstable_scheduleCallback,_e=s.unstable_cancelCallback,De=s.unstable_shouldYield,je=s.unstable_requestPaint,Pe=s.unstable_now,Te=s.unstable_getCurrentPriorityLevel,Ie=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,na=s.unstable_NormalPriority,qt=s.unstable_LowPriority,Pa=s.unstable_IdlePriority,ht=s.log,$t=s.unstable_setDisableYieldValue,Ge=null,ze=null;function mt(e){if(typeof ht=="function"&&$t(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ge,e)}catch{}}var bt=Math.clz32?Math.clz32:Ft,hi=Math.log,Ia=Math.LN2;function Ft(e){return e>>>=0,e===0?32:31-(hi(e)/Ia|0)|0}var ca=256,xs=4194304;function ys(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,a,r){var o=e.pendingLanes;if(o===0)return 0;var d=0,m=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~m,o!==0?d=ys(o):(w&=E,w!==0?d=ys(w):r||(r=E&~e,r!==0&&(d=ys(r))))):(E=o&~m,E!==0?d=ys(E):w!==0?d=ys(w):r||(r=o&~e,r!==0&&(d=ys(r)))),d===0?0:a!==0&&a!==d&&(a&m)===0&&(m=d&-d,r=a&-a,m>=r||m===32&&(r&4194048)!==0)?a:d}function $n(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function ky(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wu(){var e=ca;return ca<<=1,(ca&4194048)===0&&(ca=256),e}function Ku(){var e=xs;return xs<<=1,(xs&62914560)===0&&(xs=4194304),e}function Zl(e){for(var a=[],r=0;31>r;r++)a.push(e);return a}function Fn(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ny(e,a,r,o,d,m){var w=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,$=e.expirationTimes,X=e.hiddenUpdates;for(r=w&~r;0<r;){var se=31-bt(r),ie=1<<se;E[se]=0,$[se]=-1;var Z=X[se];if(Z!==null)for(X[se]=null,se=0;se<Z.length;se++){var J=Z[se];J!==null&&(J.lane&=-536870913)}r&=~ie}o!==0&&Qu(e,o,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(w&~a))}function Qu(e,a,r){e.pendingLanes|=a,e.suspendedLanes&=~a;var o=31-bt(a);e.entangledLanes|=a,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Xu(e,a){var r=e.entangledLanes|=a;for(e=e.entanglements;r;){var o=31-bt(r),d=1<<o;d&a|e[o]&a&&(e[o]|=a),r&=~d}}function Jl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zu(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Rf(e.type))}function Sy(e,a){var r=P.p;try{return P.p=e,a()}finally{P.p=r}}var qa=Math.random().toString(36).slice(2),Nt="__reactFiber$"+qa,Dt="__reactProps$"+qa,Is="__reactContainer$"+qa,to="__reactEvents$"+qa,Cy="__reactListeners$"+qa,Ty="__reactHandles$"+qa,Ju="__reactResources$"+qa,Gn="__reactMarker$"+qa;function ao(e){delete e[Nt],delete e[Dt],delete e[to],delete e[Cy],delete e[Ty]}function qs(e){var a=e[Nt];if(a)return a;for(var r=e.parentNode;r;){if(a=r[Is]||r[Nt]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(e=xf(e);e!==null;){if(r=e[Nt])return r;e=xf(e)}return a}e=r,r=e.parentNode}return null}function $s(e){if(e=e[Nt]||e[Is]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function Yn(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function Fs(e){var a=e[Ju];return a||(a=e[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ft(e){e[Gn]=!0}var eh=new Set,th={};function bs(e,a){Gs(e,a),Gs(e+"Capture",a)}function Gs(e,a){for(th[e]=a,e=0;e<a.length;e++)eh.add(a[e])}var Ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ah={},sh={};function Ay(e){return Be.call(sh,e)?!0:Be.call(ah,e)?!1:Ey.test(e)?sh[e]=!0:(ah[e]=!0,!1)}function fi(e,a,r){if(Ay(a))if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+r)}}function gi(e,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+r)}}function ja(e,a,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(a,r,""+o)}}var so,nh;function Ys(e){if(so===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);so=a&&a[1]||"",nh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+so+e+nh}var no=!1;function ro(e,a){if(!e||no)return"";no=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var Z=J}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(J){Z=J}e.call(ie.prototype)}}else{try{throw Error()}catch(J){Z=J}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),w=m[0],E=m[1];if(w&&E){var $=w.split(`
`),X=E.split(`
`);for(d=o=0;o<$.length&&!$[o].includes("DetermineComponentFrameRoot");)o++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(o===$.length||d===X.length)for(o=$.length-1,d=X.length-1;1<=o&&0<=d&&$[o]!==X[d];)d--;for(;1<=o&&0<=d;o--,d--)if($[o]!==X[d]){if(o!==1||d!==1)do if(o--,d--,0>d||$[o]!==X[d]){var se=`
`+$[o].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=o&&0<=d);break}}}finally{no=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ys(r):""}function Dy(e){switch(e.tag){case 26:case 27:case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 15:return ro(e.type,!1);case 11:return ro(e.type.render,!1);case 1:return ro(e.type,!0);case 31:return Ys("Activity");default:return""}}function rh(e){try{var a="";do a+=Dy(e),e=e.return;while(e);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ih(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function My(e){var a=ih(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),o=""+e[a];if(!e.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,m=r.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return d.call(this)},set:function(w){o=""+w,m.call(this,w)}}),Object.defineProperty(e,a,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function pi(e){e._valueTracker||(e._valueTracker=My(e))}function lh(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return e&&(o=ih(e)?e.checked?"true":"false":e.value),e=o,e!==r?(a.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ry=/[\n"\\]/g;function Yt(e){return e.replace(Ry,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function io(e,a,r,o,d,m,w,E){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),a!=null?w==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Gt(a)):e.value!==""+Gt(a)&&(e.value=""+Gt(a)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),a!=null?lo(e,w,Gt(a)):r!=null?lo(e,w,Gt(r)):o!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Gt(E):e.removeAttribute("name")}function oh(e,a,r,o,d,m,w,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),a!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;r=r!=null?""+Gt(r):"",a=a!=null?""+Gt(a):r,E||a===e.value||(e.value=a),e.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function lo(e,a,r){a==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ws(e,a,r,o){if(e=e.options,a){a={};for(var d=0;d<r.length;d++)a["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=a.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),a=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}a!==null||e[d].disabled||(a=e[d])}a!==null&&(a.selected=!0)}}function ch(e,a,r){if(a!=null&&(a=""+Gt(a),a!==e.value&&(e.value=a),r==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=r!=null?""+Gt(r):""}function dh(e,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(Q(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=Gt(a),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function Ks(e,a){if(a){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=a;return}}e.textContent=a}var Ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uh(e,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":o?e.setProperty(a,r):typeof r!="number"||r===0||Ly.has(a)?a==="float"?e.cssFloat=r:e[a]=(""+r).trim():e[a]=r+"px"}function hh(e,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&r[d]!==o&&uh(e,d,o)}else for(var m in a)a.hasOwnProperty(m)&&uh(e,m,a[m])}function oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),By=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(e){return By.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var co=null;function uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qs=null,Xs=null;function mh(e){var a=$s(e);if(a&&(e=a.stateNode)){var r=e[Dt]||null;e:switch(e=a.stateNode,a.type){case"input":if(io(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==e&&o.form===e.form){var d=o[Dt]||null;if(!d)throw Error(i(90));io(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===e.form&&lh(o)}break e;case"textarea":ch(e,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Ws(e,!!r.multiple,a,!1)}}}var ho=!1;function fh(e,a,r){if(ho)return e(a,r);ho=!0;try{var o=e(a);return o}finally{if(ho=!1,(Qs!==null||Xs!==null)&&(sl(),Qs&&(a=Qs,e=Xs,Xs=Qs=null,mh(a),e)))for(a=0;a<e.length;a++)mh(e[a])}}function Wn(e,a){var r=e.stateNode;if(r===null)return null;var o=r[Dt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(wa)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{mo=!1}var $a=null,fo=null,bi=null;function gh(){if(bi)return bi;var e,a=fo,r=a.length,o,d="value"in $a?$a.value:$a.textContent,m=d.length;for(e=0;e<r&&a[e]===d[e];e++);var w=r-e;for(o=1;o<=w&&a[r-o]===d[m-o];o++);return bi=d.slice(e,1<o?1-o:void 0)}function vi(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function ph(){return!1}function Mt(e){function a(r,o,d,m,w){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ji:ph,this.isPropagationStopped=ph,this}return f(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),a}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Mt(vs),Qn=f({},vs,{view:0,detail:0}),_y=Mt(Qn),go,po,Xn,ki=f({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(go=e.screenX-Xn.screenX,po=e.screenY-Xn.screenY):po=go=0,Xn=e),go)},movementY:function(e){return"movementY"in e?e.movementY:po}}),xh=Mt(ki),zy=f({},ki,{dataTransfer:0}),Hy=Mt(zy),Vy=f({},Qn,{relatedTarget:0}),xo=Mt(Vy),Uy=f({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Py=Mt(Uy),Iy=f({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qy=Mt(Iy),$y=f({},vs,{data:0}),yh=Mt($y),Fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Yy[e])?!!a[e]:!1}function yo(){return Wy}var Ky=f({},Qn,{key:function(e){if(e.key){var a=Fy[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qy=Mt(Ky),Xy=f({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=Mt(Xy),Zy=f({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),Jy=Mt(Zy),eb=f({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=Mt(eb),ab=f({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=Mt(ab),nb=f({},vs,{newState:0,oldState:0}),rb=Mt(nb),ib=[9,13,27,32],bo=wa&&"CompositionEvent"in window,Zn=null;wa&&"documentMode"in document&&(Zn=document.documentMode);var lb=wa&&"TextEvent"in window&&!Zn,vh=wa&&(!bo||Zn&&8<Zn&&11>=Zn),jh=" ",wh=!1;function kh(e,a){switch(e){case"keyup":return ib.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function ob(e,a){switch(e){case"compositionend":return Nh(a);case"keypress":return a.which!==32?null:(wh=!0,jh);case"textInput":return e=a.data,e===jh&&wh?null:e;default:return null}}function cb(e,a){if(Zs)return e==="compositionend"||!bo&&kh(e,a)?(e=gh(),bi=fo=$a=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return vh&&a.locale!=="ko"?null:a.data;default:return null}}var db={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!db[e.type]:a==="textarea"}function Ch(e,a,r,o){Qs?Xs?Xs.push(o):Xs=[o]:Qs=o,a=cl(a,"onChange"),0<a.length&&(r=new wi("onChange","change",null,r,o),e.push({event:r,listeners:a}))}var Jn=null,er=null;function ub(e){lf(e,0)}function Ni(e){var a=Yn(e);if(lh(a))return e}function Th(e,a){if(e==="change")return a}var Eh=!1;if(wa){var vo;if(wa){var jo="oninput"in document;if(!jo){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),jo=typeof Ah.oninput=="function"}vo=jo}else vo=!1;Eh=vo&&(!document.documentMode||9<document.documentMode)}function Dh(){Jn&&(Jn.detachEvent("onpropertychange",Mh),er=Jn=null)}function Mh(e){if(e.propertyName==="value"&&Ni(er)){var a=[];Ch(a,er,e,uo(e)),fh(ub,a)}}function hb(e,a,r){e==="focusin"?(Dh(),Jn=a,er=r,Jn.attachEvent("onpropertychange",Mh)):e==="focusout"&&Dh()}function mb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(er)}function fb(e,a){if(e==="click")return Ni(a)}function gb(e,a){if(e==="input"||e==="change")return Ni(a)}function pb(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var _t=typeof Object.is=="function"?Object.is:pb;function tr(e,a){if(_t(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var r=Object.keys(e),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!Be.call(a,d)||!_t(e[d],a[d]))return!1}return!0}function Rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lh(e,a){var r=Rh(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=a&&o>=a)return{node:r,offset:a-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rh(r)}}function Oh(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Oh(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Bh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=xi(e.document);a instanceof e.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)e=a.contentWindow;else break;a=xi(e.document)}return a}function wo(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var xb=wa&&"documentMode"in document&&11>=document.documentMode,Js=null,ko=null,ar=null,No=!1;function _h(e,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;No||Js==null||Js!==xi(o)||(o=Js,"selectionStart"in o&&wo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ar&&tr(ar,o)||(ar=o,o=cl(ko,"onSelect"),0<o.length&&(a=new wi("onSelect","select",null,a,r),e.push({event:a,listeners:o}),a.target=Js)))}function js(e,a){var r={};return r[e.toLowerCase()]=a.toLowerCase(),r["Webkit"+e]="webkit"+a,r["Moz"+e]="moz"+a,r}var en={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},So={},zh={};wa&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete en.animationend.animation,delete en.animationiteration.animation,delete en.animationstart.animation),"TransitionEvent"in window||delete en.transitionend.transition);function ws(e){if(So[e])return So[e];if(!en[e])return e;var a=en[e],r;for(r in a)if(a.hasOwnProperty(r)&&r in zh)return So[e]=a[r];return e}var Hh=ws("animationend"),Vh=ws("animationiteration"),Uh=ws("animationstart"),yb=ws("transitionrun"),bb=ws("transitionstart"),vb=ws("transitioncancel"),Ph=ws("transitionend"),Ih=new Map,Co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Co.push("scrollEnd");function ra(e,a){Ih.set(e,a),bs(a,[e])}var qh=new WeakMap;function Wt(e,a){if(typeof e=="object"&&e!==null){var r=qh.get(e);return r!==void 0?r:(a={value:e,source:a,stack:rh(a)},qh.set(e,a),a)}return{value:e,source:a,stack:rh(a)}}var Kt=[],tn=0,To=0;function Si(){for(var e=tn,a=To=tn=0;a<e;){var r=Kt[a];Kt[a++]=null;var o=Kt[a];Kt[a++]=null;var d=Kt[a];Kt[a++]=null;var m=Kt[a];if(Kt[a++]=null,o!==null&&d!==null){var w=o.pending;w===null?d.next=d:(d.next=w.next,w.next=d),o.pending=d}m!==0&&$h(r,d,m)}}function Ci(e,a,r,o){Kt[tn++]=e,Kt[tn++]=a,Kt[tn++]=r,Kt[tn++]=o,To|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Eo(e,a,r,o){return Ci(e,a,r,o),Ti(e)}function an(e,a){return Ci(e,null,null,a),Ti(e)}function $h(e,a,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var d=!1,m=e.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&a!==null&&(d=31-bt(r),e=m.hiddenUpdates,o=e[d],o===null?e[d]=[a]:o.push(a),a.lane=r|536870912),m):null}function Ti(e){if(50<Tr)throw Tr=0,Oc=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var sn={};function jb(e,a,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,a,r,o){return new jb(e,a,r,o)}function Ao(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ka(e,a){var r=e.alternate;return r===null?(r=zt(e.tag,a,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=a,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,a=e.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Fh(e,a){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,a=r.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Ei(e,a,r,o,d,m){var w=0;if(o=e,typeof e=="function")Ao(e)&&(w=1);else if(typeof e=="string")w=kv(e,r,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case v:return e=zt(31,r,a,d),e.elementType=v,e.lanes=m,e;case O:return ks(r.children,d,m,a);case T:w=8,d|=24;break;case R:return e=zt(12,r,a,d|2),e.elementType=R,e.lanes=m,e;case _:return e=zt(13,r,a,d),e.elementType=_,e.lanes=m,e;case D:return e=zt(19,r,a,d),e.elementType=D,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case H:w=10;break e;case A:w=9;break e;case C:w=11;break e;case U:w=14;break e;case y:w=16,o=null;break e}w=29,r=Error(i(130,e===null?"null":typeof e,"")),o=null}return a=zt(w,r,a,d),a.elementType=e,a.type=o,a.lanes=m,a}function ks(e,a,r,o){return e=zt(7,e,o,a),e.lanes=r,e}function Do(e,a,r){return e=zt(6,e,null,a),e.lanes=r,e}function Mo(e,a,r){return a=zt(4,e.children!==null?e.children:[],e.key,a),a.lanes=r,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var nn=[],rn=0,Ai=null,Di=0,Qt=[],Xt=0,Ns=null,Na=1,Sa="";function Ss(e,a){nn[rn++]=Di,nn[rn++]=Ai,Ai=e,Di=a}function Gh(e,a,r){Qt[Xt++]=Na,Qt[Xt++]=Sa,Qt[Xt++]=Ns,Ns=e;var o=Na;e=Sa;var d=32-bt(o)-1;o&=~(1<<d),r+=1;var m=32-bt(a)+d;if(30<m){var w=d-d%5;m=(o&(1<<w)-1).toString(32),o>>=w,d-=w,Na=1<<32-bt(a)+d|r<<d|o,Sa=m+e}else Na=1<<m|r<<d|o,Sa=e}function Ro(e){e.return!==null&&(Ss(e,1),Gh(e,1,0))}function Lo(e){for(;e===Ai;)Ai=nn[--rn],nn[rn]=null,Di=nn[--rn],nn[rn]=null;for(;e===Ns;)Ns=Qt[--Xt],Qt[Xt]=null,Sa=Qt[--Xt],Qt[Xt]=null,Na=Qt[--Xt],Qt[Xt]=null}var Et=null,tt=null,Ae=!1,Cs=null,da=!1,Oo=Error(i(519));function Ts(e){var a=Error(i(418,""));throw rr(Wt(a,e)),Oo}function Yh(e){var a=e.stateNode,r=e.type,o=e.memoizedProps;switch(a[Nt]=e,a[Dt]=o,r){case"dialog":Se("cancel",a),Se("close",a);break;case"iframe":case"object":case"embed":Se("load",a);break;case"video":case"audio":for(r=0;r<Ar.length;r++)Se(Ar[r],a);break;case"source":Se("error",a);break;case"img":case"image":case"link":Se("error",a),Se("load",a);break;case"details":Se("toggle",a);break;case"input":Se("invalid",a),oh(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),pi(a);break;case"select":Se("invalid",a);break;case"textarea":Se("invalid",a),dh(a,o.value,o.defaultValue,o.children),pi(a)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||uf(a.textContent,r)?(o.popover!=null&&(Se("beforetoggle",a),Se("toggle",a)),o.onScroll!=null&&Se("scroll",a),o.onScrollEnd!=null&&Se("scrollend",a),o.onClick!=null&&(a.onclick=dl),a=!0):a=!1,a||Ts(e)}function Wh(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 13:da=!1;return;case 27:case 3:da=!0;return;default:Et=Et.return}}function sr(e){if(e!==Et)return!1;if(!Ae)return Wh(e),Ae=!0,!1;var a=e.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Qc(e.type,e.memoizedProps)),r=!r),r&&tt&&Ts(e),Wh(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(a===0){tt=la(e.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;e=e.nextSibling}tt=null}}else a===27?(a=tt,is(e.type)?(e=ed,ed=null,tt=e):tt=a):tt=Et?la(e.stateNode.nextSibling):null;return!0}function nr(){tt=Et=null,Ae=!1}function Kh(){var e=Cs;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Cs=null),e}function rr(e){Cs===null?Cs=[e]:Cs.push(e)}var Bo=W(null),Es=null,Ca=null;function Fa(e,a,r){te(Bo,a._currentValue),a._currentValue=r}function Ta(e){e._currentValue=Bo.current,re(Bo)}function _o(e,a,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),e===r)break;e=e.return}}function zo(e,a,r,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var w=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var $=0;$<a.length;$++)if(E.context===a[$]){m.lanes|=r,E=m.alternate,E!==null&&(E.lanes|=r),_o(m.return,r,e),o||(w=null);break e}m=E.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(i(341));w.lanes|=r,m=w.alternate,m!==null&&(m.lanes|=r),_o(w,r,e),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===e){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function ir(e,a,r,o){e=null;for(var d=a,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var E=d.type;_t(d.pendingProps.value,w.value)||(e!==null?e.push(E):e=[E])}}else if(d===Re.current){if(w=d.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Br):e=[Br])}d=d.return}e!==null&&zo(a,e,r,o),a.flags|=262144}function Mi(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Es=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function St(e){return Qh(Es,e)}function Ri(e,a){return Es===null&&As(e),Qh(e,a)}function Qh(e,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Ca===null){if(e===null)throw Error(i(308));Ca=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Ca=Ca.next=a;return r}var wb=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){a.aborted=!0,e.forEach(function(r){return r()})}},kb=s.unstable_scheduleCallback,Nb=s.unstable_NormalPriority,dt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ho(){return{controller:new wb,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&kb(Nb,function(){e.controller.abort()})}var or=null,Vo=0,ln=0,on=null;function Sb(e,a){if(or===null){var r=or=[];Vo=0,ln=Pc(),on={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Vo++,a.then(Xh,Xh),a}function Xh(){if(--Vo===0&&or!==null){on!==null&&(on.status="fulfilled");var e=or;or=null,ln=0,on=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Cb(e,a){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<r.length;d++)(0,r[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var Zh=B.S;B.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Sb(e,a),Zh!==null&&Zh(e,a)};var Ds=W(null);function Uo(){var e=Ds.current;return e!==null?e:Fe.pooledCache}function Li(e,a){a===null?te(Ds,Ds.current):te(Ds,a.pool)}function Jh(){var e=Uo();return e===null?null:{parent:dt._currentValue,pool:e}}var cr=Error(i(460)),em=Error(i(474)),Oi=Error(i(542)),Po={then:function(){}};function tm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bi(){}function am(e,a,r){switch(r=e[r],r===void 0?e.push(a):r!==a&&(a.then(Bi,Bi),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nm(e),e;default:if(typeof a.status=="string")a.then(Bi,Bi);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,nm(e),e}throw dr=a,cr}}var dr=null;function sm(){if(dr===null)throw Error(i(459));var e=dr;return dr=null,e}function nm(e){if(e===cr||e===Oi)throw Error(i(483))}var Ga=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qo(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,a,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Le&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=Ti(e),$h(e,null,r),a}return Ci(e,o,a,r),Ti(e)}function ur(e,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var o=a.lanes;o&=e.pendingLanes,r|=o,a.lanes=r,Xu(e,r)}}function $o(e,a){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=w:m=m.next=w,r=r.next}while(r!==null);m===null?d=m=a:m=m.next=a}else d=m=a;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=a:e.next=a,r.lastBaseUpdate=a}var Fo=!1;function hr(){if(Fo){var e=on;if(e!==null)throw e}}function mr(e,a,r,o){Fo=!1;var d=e.updateQueue;Ga=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var $=E,X=$.next;$.next=null,w===null?m=X:w.next=X,w=$;var se=e.alternate;se!==null&&(se=se.updateQueue,E=se.lastBaseUpdate,E!==w&&(E===null?se.firstBaseUpdate=X:E.next=X,se.lastBaseUpdate=$))}if(m!==null){var ie=d.baseState;w=0,se=X=$=null,E=m;do{var Z=E.lane&-536870913,J=Z!==E.lane;if(J?(Ce&Z)===Z:(o&Z)===Z){Z!==0&&Z===ln&&(Fo=!0),se!==null&&(se=se.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=e,fe=E;Z=a;var Ue=r;switch(fe.tag){case 1:if(pe=fe.payload,typeof pe=="function"){ie=pe.call(Ue,ie,Z);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=fe.payload,Z=typeof pe=="function"?pe.call(Ue,ie,Z):pe,Z==null)break e;ie=f({},ie,Z);break e;case 2:Ga=!0}}Z=E.callback,Z!==null&&(e.flags|=64,J&&(e.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},se===null?(X=se=J,$=ie):se=se.next=J,w|=Z;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;J=E,E=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);se===null&&($=ie),d.baseState=$,d.firstBaseUpdate=X,d.lastBaseUpdate=se,m===null&&(d.shared.lanes=0),as|=w,e.lanes=w,e.memoizedState=ie}}function rm(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function im(e,a){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)rm(r[e],a)}var cn=W(null),_i=W(0);function lm(e,a){e=Oa,te(_i,e),te(cn,a),Oa=e|a.baseLanes}function Go(){te(_i,Oa),te(cn,cn.current)}function Yo(){Oa=_i.current,re(cn),re(_i)}var Ka=0,we=null,He=null,lt=null,zi=!1,dn=!1,Ms=!1,Hi=0,fr=0,un=null,Tb=0;function nt(){throw Error(i(321))}function Wo(e,a){if(a===null)return!1;for(var r=0;r<a.length&&r<e.length;r++)if(!_t(e[r],a[r]))return!1;return!0}function Ko(e,a,r,o,d,m){return Ka=m,we=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=e===null||e.memoizedState===null?$m:Fm,Ms=!1,m=r(o,d),Ms=!1,dn&&(m=cm(a,r,o,d)),om(e),m}function om(e){B.H=$i;var a=He!==null&&He.next!==null;if(Ka=0,lt=He=we=null,zi=!1,fr=0,un=null,a)throw Error(i(300));e===null||gt||(e=e.dependencies,e!==null&&Mi(e)&&(gt=!0))}function cm(e,a,r,o){we=e;var d=0;do{if(dn&&(un=null),fr=0,dn=!1,25<=d)throw Error(i(301));if(d+=1,lt=He=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=Ob,m=a(r,o)}while(dn);return m}function Eb(){var e=B.H,a=e.useState()[0];return a=typeof a.then=="function"?gr(a):a,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(we.flags|=1024),a}function Qo(){var e=Hi!==0;return Hi=0,e}function Xo(e,a,r){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~r}function Zo(e){if(zi){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}zi=!1}Ka=0,lt=He=we=null,dn=!1,fr=Hi=0,un=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?we.memoizedState=lt=e:lt=lt.next=e,lt}function ot(){if(He===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var a=lt===null?we.memoizedState:lt.next;if(a!==null)lt=a,He=e;else{if(e===null)throw we.alternate===null?Error(i(467)):Error(i(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},lt===null?we.memoizedState=lt=e:lt=lt.next=e}return lt}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gr(e){var a=fr;return fr+=1,un===null&&(un=[]),e=am(un,e,a),a=we,(lt===null?a.memoizedState:lt.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?$m:Fm),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gr(e);if(e.$$typeof===H)return St(e)}throw Error(i(438,String(e)))}function ec(e){var a=null,r=we.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=Jo(),we.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(e),o=0;o<e;o++)r[o]=L;return a.index++,r}function Ea(e,a){return typeof a=="function"?a(e):a}function Ui(e){var a=ot();return tc(a,He,e)}function tc(e,a,r){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=e.baseQueue,m=o.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}a.baseQueue=d=m,o.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{a=d.next;var E=w=null,$=null,X=a,se=!1;do{var ie=X.lane&-536870913;if(ie!==X.lane?(Ce&ie)===ie:(Ka&ie)===ie){var Z=X.revertLane;if(Z===0)$!==null&&($=$.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ie===ln&&(se=!0);else if((Ka&Z)===Z){X=X.next,Z===ln&&(se=!0);continue}else ie={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(E=$=ie,w=m):$=$.next=ie,we.lanes|=Z,as|=Z;ie=X.action,Ms&&r(m,ie),m=X.hasEagerState?X.eagerState:r(m,ie)}else Z={lane:ie,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},$===null?(E=$=Z,w=m):$=$.next=Z,we.lanes|=ie,as|=ie;X=X.next}while(X!==null&&X!==a);if($===null?w=m:$.next=E,!_t(m,e.memoizedState)&&(gt=!0,se&&(r=on,r!==null)))throw r;e.memoizedState=m,e.baseState=w,e.baseQueue=$,o.lastRenderedState=m}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ac(e){var a=ot(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var o=r.dispatch,d=r.pending,m=a.memoizedState;if(d!==null){r.pending=null;var w=d=d.next;do m=e(m,w.action),w=w.next;while(w!==d);_t(m,a.memoizedState)||(gt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),r.lastRenderedState=m}return[m,o]}function dm(e,a,r){var o=we,d=ot(),m=Ae;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=a();var w=!_t((He||d).memoizedState,r);w&&(d.memoizedState=r,gt=!0),d=d.queue;var E=mm.bind(null,o,d,e);if(pr(2048,8,E,[e]),d.getSnapshot!==a||w||lt!==null&&lt.memoizedState.tag&1){if(o.flags|=2048,hn(9,Pi(),hm.bind(null,o,d,r,a),null),Fe===null)throw Error(i(349));m||(Ka&124)!==0||um(o,a,r)}return r}function um(e,a,r){e.flags|=16384,e={getSnapshot:a,value:r},a=we.updateQueue,a===null?(a=Jo(),we.updateQueue=a,a.stores=[e]):(r=a.stores,r===null?a.stores=[e]:r.push(e))}function hm(e,a,r,o){a.value=r,a.getSnapshot=o,fm(a)&&gm(e)}function mm(e,a,r){return r(function(){fm(a)&&gm(e)})}function fm(e){var a=e.getSnapshot;e=e.value;try{var r=a();return!_t(e,r)}catch{return!0}}function gm(e){var a=an(e,2);a!==null&&It(a,e,2)}function sc(e){var a=Rt();if(typeof e=="function"){var r=e;if(e=r(),Ms){mt(!0);try{r()}finally{mt(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},a}function pm(e,a,r,o){return e.baseState=r,tc(e,He,typeof o=="function"?o:Ea)}function Ab(e,a,r,o,d){if(qi(e))throw Error(i(485));if(e=a.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};B.T!==null?r(!0):m.isTransition=!1,o(m),r=a.pending,r===null?(m.next=a.pending=m,xm(a,m)):(m.next=r.next,a.pending=r.next=m)}}function xm(e,a){var r=a.action,o=a.payload,d=e.state;if(a.isTransition){var m=B.T,w={};B.T=w;try{var E=r(d,o),$=B.S;$!==null&&$(w,E),ym(e,a,E)}catch(X){nc(e,a,X)}finally{B.T=m}}else try{m=r(d,o),ym(e,a,m)}catch(X){nc(e,a,X)}}function ym(e,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){bm(e,a,o)},function(o){return nc(e,a,o)}):bm(e,a,r)}function bm(e,a,r){a.status="fulfilled",a.value=r,vm(a),e.state=r,a=e.pending,a!==null&&(r=a.next,r===a?e.pending=null:(r=r.next,a.next=r,xm(e,r)))}function nc(e,a,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,vm(a),a=a.next;while(a!==o)}e.action=null}function vm(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function jm(e,a){return a}function wm(e,a){if(Ae){var r=Fe.formState;if(r!==null){e:{var o=we;if(Ae){if(tt){t:{for(var d=tt,m=da;d.nodeType!==8;){if(!m){d=null;break t}if(d=la(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){tt=la(d.nextSibling),o=d.data==="F!";break e}}Ts(o)}o=!1}o&&(a=r[0])}}return r=Rt(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:a},r.queue=o,r=Pm.bind(null,we,o),o.dispatch=r,o=sc(!1),m=cc.bind(null,we,!1,o.queue),o=Rt(),d={state:a,dispatch:null,action:e,pending:null},o.queue=d,r=Ab.bind(null,we,d,m,r),d.dispatch=r,o.memoizedState=e,[a,r,!1]}function km(e){var a=ot();return Nm(a,He,e)}function Nm(e,a,r){if(a=tc(e,a,jm)[0],e=Ui(Ea)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=gr(a)}catch(w){throw w===cr?Oi:w}else o=a;a=ot();var d=a.queue,m=d.dispatch;return r!==a.memoizedState&&(we.flags|=2048,hn(9,Pi(),Db.bind(null,d,r),null)),[o,m,e]}function Db(e,a){e.action=a}function Sm(e){var a=ot(),r=He;if(r!==null)return Nm(a,r,e);ot(),a=a.memoizedState,r=ot();var o=r.queue.dispatch;return r.memoizedState=e,[a,o,!1]}function hn(e,a,r,o){return e={tag:e,create:r,deps:o,inst:a,next:null},a=we.updateQueue,a===null&&(a=Jo(),we.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,a.lastEffect=e),e}function Pi(){return{destroy:void 0,resource:void 0}}function Cm(){return ot().memoizedState}function Ii(e,a,r,o){var d=Rt();o=o===void 0?null:o,we.flags|=e,d.memoizedState=hn(1|a,Pi(),r,o)}function pr(e,a,r,o){var d=ot();o=o===void 0?null:o;var m=d.memoizedState.inst;He!==null&&o!==null&&Wo(o,He.memoizedState.deps)?d.memoizedState=hn(a,m,r,o):(we.flags|=e,d.memoizedState=hn(1|a,m,r,o))}function Tm(e,a){Ii(8390656,8,e,a)}function Em(e,a){pr(2048,8,e,a)}function Am(e,a){return pr(4,2,e,a)}function Dm(e,a){return pr(4,4,e,a)}function Mm(e,a){if(typeof a=="function"){e=e();var r=a(e);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Rm(e,a,r){r=r!=null?r.concat([e]):null,pr(4,4,Mm.bind(null,a,e),r)}function rc(){}function Lm(e,a){var r=ot();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&Wo(a,o[1])?o[0]:(r.memoizedState=[e,a],e)}function Om(e,a){var r=ot();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&Wo(a,o[1]))return o[0];if(o=e(),Ms){mt(!0);try{e()}finally{mt(!1)}}return r.memoizedState=[o,a],o}function ic(e,a,r){return r===void 0||(Ka&1073741824)!==0?e.memoizedState=a:(e.memoizedState=r,e=z0(),we.lanes|=e,as|=e,r)}function Bm(e,a,r,o){return _t(r,a)?r:cn.current!==null?(e=ic(e,r,o),_t(e,a)||(gt=!0),e):(Ka&42)===0?(gt=!0,e.memoizedState=r):(e=z0(),we.lanes|=e,as|=e,a)}function _m(e,a,r,o,d){var m=P.p;P.p=m!==0&&8>m?m:8;var w=B.T,E={};B.T=E,cc(e,!1,a,r);try{var $=d(),X=B.S;if(X!==null&&X(E,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var se=Cb($,o);xr(e,a,se,Pt(e))}else xr(e,a,o,Pt(e))}catch(ie){xr(e,a,{then:function(){},status:"rejected",reason:ie},Pt())}finally{P.p=m,B.T=w}}function Mb(){}function lc(e,a,r,o){if(e.tag!==5)throw Error(i(476));var d=zm(e).queue;_m(e,d,a,ee,r===null?Mb:function(){return Hm(e),r(o)})}function zm(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:ee},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:r},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Hm(e){var a=zm(e).next.queue;xr(e,a,{},Pt())}function oc(){return St(Br)}function Vm(){return ot().memoizedState}function Um(){return ot().memoizedState}function Rb(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var r=Pt();e=Ya(r);var o=Wa(a,e,r);o!==null&&(It(o,a,r),ur(o,a,r)),a={cache:Ho()},e.payload=a;return}a=a.return}}function Lb(e,a,r){var o=Pt();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qi(e)?Im(a,r):(r=Eo(e,a,r,o),r!==null&&(It(r,e,o),qm(r,a,o)))}function Pm(e,a,r){var o=Pt();xr(e,a,r,o)}function xr(e,a,r,o){var d={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Im(a,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var w=a.lastRenderedState,E=m(w,r);if(d.hasEagerState=!0,d.eagerState=E,_t(E,w))return Ci(e,a,d,0),Fe===null&&Si(),!1}catch{}finally{}if(r=Eo(e,a,d,o),r!==null)return It(r,e,o),qm(r,a,o),!0}return!1}function cc(e,a,r,o){if(o={lane:2,revertLane:Pc(),action:o,hasEagerState:!1,eagerState:null,next:null},qi(e)){if(a)throw Error(i(479))}else a=Eo(e,r,o,2),a!==null&&It(a,e,2)}function qi(e){var a=e.alternate;return e===we||a!==null&&a===we}function Im(e,a){dn=zi=!0;var r=e.pending;r===null?a.next=a:(a.next=r.next,r.next=a),e.pending=a}function qm(e,a,r){if((r&4194048)!==0){var o=a.lanes;o&=e.pendingLanes,r|=o,a.lanes=r,Xu(e,r)}}var $i={readContext:St,use:Vi,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},$m={readContext:St,use:Vi,useCallback:function(e,a){return Rt().memoizedState=[e,a===void 0?null:a],e},useContext:St,useEffect:Tm,useImperativeHandle:function(e,a,r){r=r!=null?r.concat([e]):null,Ii(4194308,4,Mm.bind(null,a,e),r)},useLayoutEffect:function(e,a){return Ii(4194308,4,e,a)},useInsertionEffect:function(e,a){Ii(4,2,e,a)},useMemo:function(e,a){var r=Rt();a=a===void 0?null:a;var o=e();if(Ms){mt(!0);try{e()}finally{mt(!1)}}return r.memoizedState=[o,a],o},useReducer:function(e,a,r){var o=Rt();if(r!==void 0){var d=r(a);if(Ms){mt(!0);try{r(a)}finally{mt(!1)}}}else d=a;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=Lb.bind(null,we,e),[o.memoizedState,e]},useRef:function(e){var a=Rt();return e={current:e},a.memoizedState=e},useState:function(e){e=sc(e);var a=e.queue,r=Pm.bind(null,we,a);return a.dispatch=r,[e.memoizedState,r]},useDebugValue:rc,useDeferredValue:function(e,a){var r=Rt();return ic(r,e,a)},useTransition:function(){var e=sc(!1);return e=_m.bind(null,we,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,r){var o=we,d=Rt();if(Ae){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),Fe===null)throw Error(i(349));(Ce&124)!==0||um(o,a,r)}d.memoizedState=r;var m={value:r,getSnapshot:a};return d.queue=m,Tm(mm.bind(null,o,m,e),[e]),o.flags|=2048,hn(9,Pi(),hm.bind(null,o,m,r,a),null),r},useId:function(){var e=Rt(),a=Fe.identifierPrefix;if(Ae){var r=Sa,o=Na;r=(o&~(1<<32-bt(o)-1)).toString(32)+r,a="«"+a+"R"+r,r=Hi++,0<r&&(a+="H"+r.toString(32)),a+="»"}else r=Tb++,a="«"+a+"r"+r.toString(32)+"»";return e.memoizedState=a},useHostTransitionStatus:oc,useFormState:wm,useActionState:wm,useOptimistic:function(e){var a=Rt();a.memoizedState=a.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=cc.bind(null,we,!0,r),r.dispatch=a,[e,a]},useMemoCache:ec,useCacheRefresh:function(){return Rt().memoizedState=Rb.bind(null,we)}},Fm={readContext:St,use:Vi,useCallback:Lm,useContext:St,useEffect:Em,useImperativeHandle:Rm,useInsertionEffect:Am,useLayoutEffect:Dm,useMemo:Om,useReducer:Ui,useRef:Cm,useState:function(){return Ui(Ea)},useDebugValue:rc,useDeferredValue:function(e,a){var r=ot();return Bm(r,He.memoizedState,e,a)},useTransition:function(){var e=Ui(Ea)[0],a=ot().memoizedState;return[typeof e=="boolean"?e:gr(e),a]},useSyncExternalStore:dm,useId:Vm,useHostTransitionStatus:oc,useFormState:km,useActionState:km,useOptimistic:function(e,a){var r=ot();return pm(r,He,e,a)},useMemoCache:ec,useCacheRefresh:Um},Ob={readContext:St,use:Vi,useCallback:Lm,useContext:St,useEffect:Em,useImperativeHandle:Rm,useInsertionEffect:Am,useLayoutEffect:Dm,useMemo:Om,useReducer:ac,useRef:Cm,useState:function(){return ac(Ea)},useDebugValue:rc,useDeferredValue:function(e,a){var r=ot();return He===null?ic(r,e,a):Bm(r,He.memoizedState,e,a)},useTransition:function(){var e=ac(Ea)[0],a=ot().memoizedState;return[typeof e=="boolean"?e:gr(e),a]},useSyncExternalStore:dm,useId:Vm,useHostTransitionStatus:oc,useFormState:Sm,useActionState:Sm,useOptimistic:function(e,a){var r=ot();return He!==null?pm(r,He,e,a):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ec,useCacheRefresh:Um},mn=null,yr=0;function Fi(e){var a=yr;return yr+=1,mn===null&&(mn=[]),am(mn,e,a)}function br(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Gi(e,a){throw a.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Gm(e){var a=e._init;return a(e._payload)}function Ym(e){function a(G,F){if(e){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function r(G,F){if(!e)return null;for(;F!==null;)a(G,F),F=F.sibling;return null}function o(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function d(G,F){return G=ka(G,F),G.index=0,G.sibling=null,G}function m(G,F,K){return G.index=K,e?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=67108866,F):K):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function w(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function E(G,F,K,ne){return F===null||F.tag!==6?(F=Do(K,G.mode,ne),F.return=G,F):(F=d(F,K),F.return=G,F)}function $(G,F,K,ne){var ue=K.type;return ue===O?se(G,F,K.props.children,ne,K.key):F!==null&&(F.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===y&&Gm(ue)===F.type)?(F=d(F,K.props),br(F,K),F.return=G,F):(F=Ei(K.type,K.key,K.props,null,G.mode,ne),br(F,K),F.return=G,F)}function X(G,F,K,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Mo(K,G.mode,ne),F.return=G,F):(F=d(F,K.children||[]),F.return=G,F)}function se(G,F,K,ne,ue){return F===null||F.tag!==7?(F=ks(K,G.mode,ne,ue),F.return=G,F):(F=d(F,K),F.return=G,F)}function ie(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Do(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return K=Ei(F.type,F.key,F.props,null,G.mode,K),br(K,F),K.return=G,K;case M:return F=Mo(F,G.mode,K),F.return=G,F;case y:var ne=F._init;return F=ne(F._payload),ie(G,F,K)}if(Q(F)||V(F))return F=ks(F,G.mode,K,null),F.return=G,F;if(typeof F.then=="function")return ie(G,Fi(F),K);if(F.$$typeof===H)return ie(G,Ri(G,F),K);Gi(G,F)}return null}function Z(G,F,K,ne){var ue=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ue!==null?null:E(G,F,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return K.key===ue?$(G,F,K,ne):null;case M:return K.key===ue?X(G,F,K,ne):null;case y:return ue=K._init,K=ue(K._payload),Z(G,F,K,ne)}if(Q(K)||V(K))return ue!==null?null:se(G,F,K,ne,null);if(typeof K.then=="function")return Z(G,F,Fi(K),ne);if(K.$$typeof===H)return Z(G,F,Ri(G,K),ne);Gi(G,K)}return null}function J(G,F,K,ne,ue){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return G=G.get(K)||null,E(F,G,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case j:return G=G.get(ne.key===null?K:ne.key)||null,$(F,G,ne,ue);case M:return G=G.get(ne.key===null?K:ne.key)||null,X(F,G,ne,ue);case y:var ke=ne._init;return ne=ke(ne._payload),J(G,F,K,ne,ue)}if(Q(ne)||V(ne))return G=G.get(K)||null,se(F,G,ne,ue,null);if(typeof ne.then=="function")return J(G,F,K,Fi(ne),ue);if(ne.$$typeof===H)return J(G,F,K,Ri(F,ne),ue);Gi(F,ne)}return null}function pe(G,F,K,ne){for(var ue=null,ke=null,me=F,ge=F=0,xt=null;me!==null&&ge<K.length;ge++){me.index>ge?(xt=me,me=null):xt=me.sibling;var Ee=Z(G,me,K[ge],ne);if(Ee===null){me===null&&(me=xt);break}e&&me&&Ee.alternate===null&&a(G,me),F=m(Ee,F,ge),ke===null?ue=Ee:ke.sibling=Ee,ke=Ee,me=xt}if(ge===K.length)return r(G,me),Ae&&Ss(G,ge),ue;if(me===null){for(;ge<K.length;ge++)me=ie(G,K[ge],ne),me!==null&&(F=m(me,F,ge),ke===null?ue=me:ke.sibling=me,ke=me);return Ae&&Ss(G,ge),ue}for(me=o(me);ge<K.length;ge++)xt=J(me,G,ge,K[ge],ne),xt!==null&&(e&&xt.alternate!==null&&me.delete(xt.key===null?ge:xt.key),F=m(xt,F,ge),ke===null?ue=xt:ke.sibling=xt,ke=xt);return e&&me.forEach(function(us){return a(G,us)}),Ae&&Ss(G,ge),ue}function fe(G,F,K,ne){if(K==null)throw Error(i(151));for(var ue=null,ke=null,me=F,ge=F=0,xt=null,Ee=K.next();me!==null&&!Ee.done;ge++,Ee=K.next()){me.index>ge?(xt=me,me=null):xt=me.sibling;var us=Z(G,me,Ee.value,ne);if(us===null){me===null&&(me=xt);break}e&&me&&us.alternate===null&&a(G,me),F=m(us,F,ge),ke===null?ue=us:ke.sibling=us,ke=us,me=xt}if(Ee.done)return r(G,me),Ae&&Ss(G,ge),ue;if(me===null){for(;!Ee.done;ge++,Ee=K.next())Ee=ie(G,Ee.value,ne),Ee!==null&&(F=m(Ee,F,ge),ke===null?ue=Ee:ke.sibling=Ee,ke=Ee);return Ae&&Ss(G,ge),ue}for(me=o(me);!Ee.done;ge++,Ee=K.next())Ee=J(me,G,ge,Ee.value,ne),Ee!==null&&(e&&Ee.alternate!==null&&me.delete(Ee.key===null?ge:Ee.key),F=m(Ee,F,ge),ke===null?ue=Ee:ke.sibling=Ee,ke=Ee);return e&&me.forEach(function(Bv){return a(G,Bv)}),Ae&&Ss(G,ge),ue}function Ue(G,F,K,ne){if(typeof K=="object"&&K!==null&&K.type===O&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case j:e:{for(var ue=K.key;F!==null;){if(F.key===ue){if(ue=K.type,ue===O){if(F.tag===7){r(G,F.sibling),ne=d(F,K.props.children),ne.return=G,G=ne;break e}}else if(F.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===y&&Gm(ue)===F.type){r(G,F.sibling),ne=d(F,K.props),br(ne,K),ne.return=G,G=ne;break e}r(G,F);break}else a(G,F);F=F.sibling}K.type===O?(ne=ks(K.props.children,G.mode,ne,K.key),ne.return=G,G=ne):(ne=Ei(K.type,K.key,K.props,null,G.mode,ne),br(ne,K),ne.return=G,G=ne)}return w(G);case M:e:{for(ue=K.key;F!==null;){if(F.key===ue)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){r(G,F.sibling),ne=d(F,K.children||[]),ne.return=G,G=ne;break e}else{r(G,F);break}else a(G,F);F=F.sibling}ne=Mo(K,G.mode,ne),ne.return=G,G=ne}return w(G);case y:return ue=K._init,K=ue(K._payload),Ue(G,F,K,ne)}if(Q(K))return pe(G,F,K,ne);if(V(K)){if(ue=V(K),typeof ue!="function")throw Error(i(150));return K=ue.call(K),fe(G,F,K,ne)}if(typeof K.then=="function")return Ue(G,F,Fi(K),ne);if(K.$$typeof===H)return Ue(G,F,Ri(G,K),ne);Gi(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(r(G,F.sibling),ne=d(F,K),ne.return=G,G=ne):(r(G,F),ne=Do(K,G.mode,ne),ne.return=G,G=ne),w(G)):r(G,F)}return function(G,F,K,ne){try{yr=0;var ue=Ue(G,F,K,ne);return mn=null,ue}catch(me){if(me===cr||me===Oi)throw me;var ke=zt(29,me,null,G.mode);return ke.lanes=ne,ke.return=G,ke}finally{}}}var fn=Ym(!0),Wm=Ym(!1),Zt=W(null),ua=null;function Qa(e){var a=e.alternate;te(ut,ut.current&1),te(Zt,e),ua===null&&(a===null||cn.current!==null||a.memoizedState!==null)&&(ua=e)}function Km(e){if(e.tag===22){if(te(ut,ut.current),te(Zt,e),ua===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(ua=e)}}else Xa()}function Xa(){te(ut,ut.current),te(Zt,Zt.current)}function Aa(e){re(Zt),ua===e&&(ua=null),re(ut)}var ut=W(0);function Yi(e){for(var a=e;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Jc(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function dc(e,a,r,o){a=e.memoizedState,r=r(o,a),r=r==null?a:f({},a,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var uc={enqueueSetState:function(e,a,r){e=e._reactInternals;var o=Pt(),d=Ya(o);d.payload=a,r!=null&&(d.callback=r),a=Wa(e,d,o),a!==null&&(It(a,e,o),ur(a,e,o))},enqueueReplaceState:function(e,a,r){e=e._reactInternals;var o=Pt(),d=Ya(o);d.tag=1,d.payload=a,r!=null&&(d.callback=r),a=Wa(e,d,o),a!==null&&(It(a,e,o),ur(a,e,o))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var r=Pt(),o=Ya(r);o.tag=2,a!=null&&(o.callback=a),a=Wa(e,o,r),a!==null&&(It(a,e,r),ur(a,e,r))}};function Qm(e,a,r,o,d,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,w):a.prototype&&a.prototype.isPureReactComponent?!tr(r,o)||!tr(d,m):!0}function Xm(e,a,r,o){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==e&&uc.enqueueReplaceState(a,a.state,null)}function Rs(e,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(e=e.defaultProps){r===a&&(r=f({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}var Wi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Zm(e){Wi(e)}function Jm(e){console.error(e)}function e0(e){Wi(e)}function Ki(e,a){try{var r=e.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function t0(e,a,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function hc(e,a,r){return r=Ya(r),r.tag=3,r.payload={element:null},r.callback=function(){Ki(e,a)},r}function a0(e){return e=Ya(e),e.tag=3,e}function s0(e,a,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;e.payload=function(){return d(m)},e.callback=function(){t0(a,r,o)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){t0(a,r,o),typeof d!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function Bb(e,a,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&ir(a,r,d,!0),r=Zt.current,r!==null){switch(r.tag){case 13:return ua===null?_c():r.alternate===null&&at===0&&(at=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Po?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),Hc(e,o,d)),!1;case 22:return r.flags|=65536,o===Po?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),Hc(e,o,d)),!1}throw Error(i(435,r.tag))}return Hc(e,o,d),_c(),!1}if(Ae)return a=Zt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==Oo&&(e=Error(i(422),{cause:o}),rr(Wt(e,r)))):(o!==Oo&&(a=Error(i(423),{cause:o}),rr(Wt(a,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=Wt(o,r),d=hc(e.stateNode,o,d),$o(e,d),at!==4&&(at=2)),!1;var m=Error(i(520),{cause:o});if(m=Wt(m,r),Cr===null?Cr=[m]:Cr.push(m),at!==4&&(at=2),a===null)return!0;o=Wt(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=hc(r.stateNode,o,e),$o(r,e),!1;case 1:if(a=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=a0(d),s0(d,e,r,o),$o(r,d),!1}r=r.return}while(r!==null);return!1}var n0=Error(i(461)),gt=!1;function vt(e,a,r,o){a.child=e===null?Wm(a,null,r,o):fn(a,e.child,r,o)}function r0(e,a,r,o,d){r=r.render;var m=a.ref;if("ref"in o){var w={};for(var E in o)E!=="ref"&&(w[E]=o[E])}else w=o;return As(a),o=Ko(e,a,r,w,m,d),E=Qo(),e!==null&&!gt?(Xo(e,a,d),Da(e,a,d)):(Ae&&E&&Ro(a),a.flags|=1,vt(e,a,o,d),a.child)}function i0(e,a,r,o,d){if(e===null){var m=r.type;return typeof m=="function"&&!Ao(m)&&m.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=m,l0(e,a,m,o,d)):(e=Ei(r.type,null,o,a,a.mode,d),e.ref=a.ref,e.return=a,a.child=e)}if(m=e.child,!vc(e,d)){var w=m.memoizedProps;if(r=r.compare,r=r!==null?r:tr,r(w,o)&&e.ref===a.ref)return Da(e,a,d)}return a.flags|=1,e=ka(m,o),e.ref=a.ref,e.return=a,a.child=e}function l0(e,a,r,o,d){if(e!==null){var m=e.memoizedProps;if(tr(m,o)&&e.ref===a.ref)if(gt=!1,a.pendingProps=o=m,vc(e,d))(e.flags&131072)!==0&&(gt=!0);else return a.lanes=e.lanes,Da(e,a,d)}return mc(e,a,r,o,d)}function o0(e,a,r){var o=a.pendingProps,d=o.children,m=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=m!==null?m.baseLanes|r:r,e!==null){for(d=a.child=e.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;a.childLanes=m&~o}else a.childLanes=0,a.child=null;return c0(e,a,o,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Li(a,m!==null?m.cachePool:null),m!==null?lm(a,m):Go(),Km(a);else return a.lanes=a.childLanes=536870912,c0(e,a,m!==null?m.baseLanes|r:r,r)}else m!==null?(Li(a,m.cachePool),lm(a,m),Xa(),a.memoizedState=null):(e!==null&&Li(a,null),Go(),Xa());return vt(e,a,d,r),a.child}function c0(e,a,r,o){var d=Uo();return d=d===null?null:{parent:dt._currentValue,pool:d},a.memoizedState={baseLanes:r,cachePool:d},e!==null&&Li(a,null),Go(),Km(a),e!==null&&ir(e,a,o,!0),null}function Qi(e,a){var r=a.ref;if(r===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(a.flags|=4194816)}}function mc(e,a,r,o,d){return As(a),r=Ko(e,a,r,o,void 0,d),o=Qo(),e!==null&&!gt?(Xo(e,a,d),Da(e,a,d)):(Ae&&o&&Ro(a),a.flags|=1,vt(e,a,r,d),a.child)}function d0(e,a,r,o,d,m){return As(a),a.updateQueue=null,r=cm(a,o,r,d),om(e),o=Qo(),e!==null&&!gt?(Xo(e,a,m),Da(e,a,m)):(Ae&&o&&Ro(a),a.flags|=1,vt(e,a,r,m),a.child)}function u0(e,a,r,o,d){if(As(a),a.stateNode===null){var m=sn,w=r.contextType;typeof w=="object"&&w!==null&&(m=St(w)),m=new r(o,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=uc,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=o,m.state=a.memoizedState,m.refs={},Io(a),w=r.contextType,m.context=typeof w=="object"&&w!==null?St(w):sn,m.state=a.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(dc(a,r,w,o),m.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&uc.enqueueReplaceState(m,m.state,null),mr(a,o,m,d),hr(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(e===null){m=a.stateNode;var E=a.memoizedProps,$=Rs(r,E);m.props=$;var X=m.context,se=r.contextType;w=sn,typeof se=="object"&&se!==null&&(w=St(se));var ie=r.getDerivedStateFromProps;se=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||X!==w)&&Xm(a,m,o,w),Ga=!1;var Z=a.memoizedState;m.state=Z,mr(a,o,m,d),hr(),X=a.memoizedState,E||Z!==X||Ga?(typeof ie=="function"&&(dc(a,r,ie,o),X=a.memoizedState),($=Ga||Qm(a,r,$,o,Z,X,w))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=X),m.props=o,m.state=X,m.context=w,o=$):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{m=a.stateNode,qo(e,a),w=a.memoizedProps,se=Rs(r,w),m.props=se,ie=a.pendingProps,Z=m.context,X=r.contextType,$=sn,typeof X=="object"&&X!==null&&($=St(X)),E=r.getDerivedStateFromProps,(X=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ie||Z!==$)&&Xm(a,m,o,$),Ga=!1,Z=a.memoizedState,m.state=Z,mr(a,o,m,d),hr();var J=a.memoizedState;w!==ie||Z!==J||Ga||e!==null&&e.dependencies!==null&&Mi(e.dependencies)?(typeof E=="function"&&(dc(a,r,E,o),J=a.memoizedState),(se=Ga||Qm(a,r,se,o,Z,J,$)||e!==null&&e.dependencies!==null&&Mi(e.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,J,$),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,J,$)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=J),m.props=o,m.state=J,m.context=$,o=se):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),o=!1)}return m=o,Qi(e,a),o=(a.flags&128)!==0,m||o?(m=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,e!==null&&o?(a.child=fn(a,e.child,null,d),a.child=fn(a,null,r,d)):vt(e,a,r,d),a.memoizedState=m.state,e=a.child):e=Da(e,a,d),e}function h0(e,a,r,o){return nr(),a.flags|=256,vt(e,a,r,o),a.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(e){return{baseLanes:e,cachePool:Jh()}}function pc(e,a,r){return e=e!==null?e.childLanes&~r:0,a&&(e|=Jt),e}function m0(e,a,r){var o=a.pendingProps,d=!1,m=(a.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),w&&(d=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ae){if(d?Qa(a):Xa(),Ae){var E=tt,$;if($=E){e:{for($=E,E=da;$.nodeType!==8;){if(!E){E=null;break e}if($=la($.nextSibling),$===null){E=null;break e}}E=$}E!==null?(a.memoizedState={dehydrated:E,treeContext:Ns!==null?{id:Na,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},$=zt(18,null,null,0),$.stateNode=E,$.return=a,a.child=$,Et=a,tt=null,$=!0):$=!1}$||Ts(a)}if(E=a.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Jc(E)?a.lanes=32:a.lanes=536870912,null;Aa(a)}return E=o.children,o=o.fallback,d?(Xa(),d=a.mode,E=Xi({mode:"hidden",children:E},d),o=ks(o,d,r,null),E.return=a,o.return=a,E.sibling=o,a.child=E,d=a.child,d.memoizedState=gc(r),d.childLanes=pc(e,w,r),a.memoizedState=fc,o):(Qa(a),xc(a,E))}if($=e.memoizedState,$!==null&&(E=$.dehydrated,E!==null)){if(m)a.flags&256?(Qa(a),a.flags&=-257,a=yc(e,a,r)):a.memoizedState!==null?(Xa(),a.child=e.child,a.flags|=128,a=null):(Xa(),d=o.fallback,E=a.mode,o=Xi({mode:"visible",children:o.children},E),d=ks(d,E,r,null),d.flags|=2,o.return=a,d.return=a,o.sibling=d,a.child=o,fn(a,e.child,null,r),o=a.child,o.memoizedState=gc(r),o.childLanes=pc(e,w,r),a.memoizedState=fc,a=d);else if(Qa(a),Jc(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var X=w.dgst;w=X,o=Error(i(419)),o.stack="",o.digest=w,rr({value:o,source:null,stack:null}),a=yc(e,a,r)}else if(gt||ir(e,a,r,!1),w=(r&e.childLanes)!==0,gt||w){if(w=Fe,w!==null&&(o=r&-r,o=(o&42)!==0?1:Jl(o),o=(o&(w.suspendedLanes|r))!==0?0:o,o!==0&&o!==$.retryLane))throw $.retryLane=o,an(e,o),It(w,e,o),n0;E.data==="$?"||_c(),a=yc(e,a,r)}else E.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=$.treeContext,tt=la(E.nextSibling),Et=a,Ae=!0,Cs=null,da=!1,e!==null&&(Qt[Xt++]=Na,Qt[Xt++]=Sa,Qt[Xt++]=Ns,Na=e.id,Sa=e.overflow,Ns=a),a=xc(a,o.children),a.flags|=4096);return a}return d?(Xa(),d=o.fallback,E=a.mode,$=e.child,X=$.sibling,o=ka($,{mode:"hidden",children:o.children}),o.subtreeFlags=$.subtreeFlags&65011712,X!==null?d=ka(X,d):(d=ks(d,E,r,null),d.flags|=2),d.return=a,o.return=a,o.sibling=d,a.child=o,o=d,d=a.child,E=e.child.memoizedState,E===null?E=gc(r):($=E.cachePool,$!==null?(X=dt._currentValue,$=$.parent!==X?{parent:X,pool:X}:$):$=Jh(),E={baseLanes:E.baseLanes|r,cachePool:$}),d.memoizedState=E,d.childLanes=pc(e,w,r),a.memoizedState=fc,o):(Qa(a),r=e.child,e=r.sibling,r=ka(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,e!==null&&(w=a.deletions,w===null?(a.deletions=[e],a.flags|=16):w.push(e)),a.child=r,a.memoizedState=null,r)}function xc(e,a){return a=Xi({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Xi(e,a){return e=zt(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yc(e,a,r){return fn(a,e.child,null,r),e=xc(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function f0(e,a,r){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a),_o(e.return,a,r)}function bc(e,a,r,o,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=d)}function g0(e,a,r){var o=a.pendingProps,d=o.revealOrder,m=o.tail;if(vt(e,a,o.children,r),o=ut.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f0(e,r,a);else if(e.tag===19)f0(e,r,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(te(ut,o),d){case"forwards":for(r=a.child,d=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=a.child,a.child=null):(d=r.sibling,r.sibling=null),bc(a,!1,d,r,m);break;case"backwards":for(r=null,d=a.child,a.child=null;d!==null;){if(e=d.alternate,e!==null&&Yi(e)===null){a.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}bc(a,!0,r,null,m);break;case"together":bc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Da(e,a,r){if(e!==null&&(a.dependencies=e.dependencies),as|=a.lanes,(r&a.childLanes)===0)if(e!==null){if(ir(e,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,r=ka(e,e.pendingProps),a.child=r,r.return=a;e.sibling!==null;)e=e.sibling,r=r.sibling=ka(e,e.pendingProps),r.return=a;r.sibling=null}return a.child}function vc(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Mi(e)))}function _b(e,a,r){switch(a.tag){case 3:he(a,a.stateNode.containerInfo),Fa(a,dt,e.memoizedState.cache),nr();break;case 27:case 5:$e(a);break;case 4:he(a,a.stateNode.containerInfo);break;case 10:Fa(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Qa(a),a.flags|=128,null):(r&a.child.childLanes)!==0?m0(e,a,r):(Qa(a),e=Da(e,a,r),e!==null?e.sibling:null);Qa(a);break;case 19:var d=(e.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(ir(e,a,r,!1),o=(r&a.childLanes)!==0),d){if(o)return g0(e,a,r);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(ut,ut.current),o)break;return null;case 22:case 23:return a.lanes=0,o0(e,a,r);case 24:Fa(a,dt,e.memoizedState.cache)}return Da(e,a,r)}function p0(e,a,r){if(e!==null)if(e.memoizedProps!==a.pendingProps)gt=!0;else{if(!vc(e,r)&&(a.flags&128)===0)return gt=!1,_b(e,a,r);gt=(e.flags&131072)!==0}else gt=!1,Ae&&(a.flags&1048576)!==0&&Gh(a,Di,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var o=a.elementType,d=o._init;if(o=d(o._payload),a.type=o,typeof o=="function")Ao(o)?(e=Rs(o,e),a.tag=1,a=u0(null,a,o,e,r)):(a.tag=0,a=mc(null,a,o,e,r));else{if(o!=null){if(d=o.$$typeof,d===C){a.tag=11,a=r0(null,a,o,e,r);break e}else if(d===U){a.tag=14,a=i0(null,a,o,e,r);break e}}throw a=q(o)||o,Error(i(306,a,""))}}return a;case 0:return mc(e,a,a.type,a.pendingProps,r);case 1:return o=a.type,d=Rs(o,a.pendingProps),u0(e,a,o,d,r);case 3:e:{if(he(a,a.stateNode.containerInfo),e===null)throw Error(i(387));o=a.pendingProps;var m=a.memoizedState;d=m.element,qo(e,a),mr(a,o,null,r);var w=a.memoizedState;if(o=w.cache,Fa(a,dt,o),o!==m.cache&&zo(a,[dt],r,!0),hr(),o=w.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=h0(e,a,o,r);break e}else if(o!==d){d=Wt(Error(i(424)),a),rr(d),a=h0(e,a,o,r);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=la(e.firstChild),Et=a,Ae=!0,Cs=null,da=!0,r=Wm(a,null,o,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nr(),o===d){a=Da(e,a,r);break e}vt(e,a,o,r)}a=a.child}return a;case 26:return Qi(e,a),e===null?(r=jf(a.type,null,a.pendingProps,null))?a.memoizedState=r:Ae||(r=a.type,e=a.pendingProps,o=ul(ce.current).createElement(r),o[Nt]=a,o[Dt]=e,wt(o,r,e),ft(o),a.stateNode=o):a.memoizedState=jf(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return $e(a),e===null&&Ae&&(o=a.stateNode=yf(a.type,a.pendingProps,ce.current),Et=a,da=!0,d=tt,is(a.type)?(ed=d,tt=la(o.firstChild)):tt=d),vt(e,a,a.pendingProps.children,r),Qi(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ae&&((d=o=tt)&&(o=dv(o,a.type,a.pendingProps,da),o!==null?(a.stateNode=o,Et=a,tt=la(o.firstChild),da=!1,d=!0):d=!1),d||Ts(a)),$e(a),d=a.type,m=a.pendingProps,w=e!==null?e.memoizedProps:null,o=m.children,Qc(d,m)?o=null:w!==null&&Qc(d,w)&&(a.flags|=32),a.memoizedState!==null&&(d=Ko(e,a,Eb,null,null,r),Br._currentValue=d),Qi(e,a),vt(e,a,o,r),a.child;case 6:return e===null&&Ae&&((e=r=tt)&&(r=uv(r,a.pendingProps,da),r!==null?(a.stateNode=r,Et=a,tt=null,e=!0):e=!1),e||Ts(a)),null;case 13:return m0(e,a,r);case 4:return he(a,a.stateNode.containerInfo),o=a.pendingProps,e===null?a.child=fn(a,null,o,r):vt(e,a,o,r),a.child;case 11:return r0(e,a,a.type,a.pendingProps,r);case 7:return vt(e,a,a.pendingProps,r),a.child;case 8:return vt(e,a,a.pendingProps.children,r),a.child;case 12:return vt(e,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,Fa(a,a.type,o.value),vt(e,a,o.children,r),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,As(a),d=St(d),o=o(d),a.flags|=1,vt(e,a,o,r),a.child;case 14:return i0(e,a,a.type,a.pendingProps,r);case 15:return l0(e,a,a.type,a.pendingProps,r);case 19:return g0(e,a,r);case 31:return o=a.pendingProps,r=a.mode,o={mode:o.mode,children:o.children},e===null?(r=Xi(o,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=ka(e.child,o),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return o0(e,a,r);case 24:return As(a),o=St(dt),e===null?(d=Uo(),d===null&&(d=Fe,m=Ho(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),a.memoizedState={parent:o,cache:d},Io(a),Fa(a,dt,d)):((e.lanes&r)!==0&&(qo(e,a),mr(a,null,null,r),hr()),d=e.memoizedState,m=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Fa(a,dt,o)):(o=m.cache,Fa(a,dt,o),o!==d.cache&&zo(a,[dt],r,!0))),vt(e,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ma(e){e.flags|=4}function x0(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cf(a)){if(a=Zt.current,a!==null&&((Ce&4194048)===Ce?ua!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||a!==ua))throw dr=Po,em;e.flags|=8192}}function Zi(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ku():536870912,e.lanes|=a,yn|=a)}function vr(e,a){if(!Ae)switch(e.tailMode){case"hidden":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Qe(e){var a=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(a)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=r,a}function zb(e,a,r){var o=a.pendingProps;switch(Lo(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(a),null;case 1:return Qe(a),null;case 3:return r=a.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ta(dt),ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sr(a)?Ma(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Kh())),Qe(a),null;case 26:return r=a.memoizedState,e===null?(Ma(a),r!==null?(Qe(a),x0(a,r)):(Qe(a),a.flags&=-16777217)):r?r!==e.memoizedState?(Ma(a),Qe(a),x0(a,r)):(Qe(a),a.flags&=-16777217):(e.memoizedProps!==o&&Ma(a),Qe(a),a.flags&=-16777217),null;case 27:ye(a),r=ce.current;var d=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==o&&Ma(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return Qe(a),null}e=oe.current,sr(a)?Yh(a):(e=yf(d,o,r),a.stateNode=e,Ma(a))}return Qe(a),null;case 5:if(ye(a),r=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==o&&Ma(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return Qe(a),null}if(e=oe.current,sr(a))Yh(a);else{switch(d=ul(ce.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?d.createElement(r,{is:o.is}):d.createElement(r)}}e[Nt]=a,e[Dt]=o;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=e;e:switch(wt(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ma(a)}}return Qe(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==o&&Ma(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(e=ce.current,sr(a)){if(e=a.stateNode,r=a.memoizedProps,o=null,d=Et,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[Nt]=a,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||uf(e.nodeValue,r)),e||Ts(a)}else e=ul(e).createTextNode(o),e[Nt]=a,a.stateNode=e}return Qe(a),null;case 13:if(o=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=sr(a),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Nt]=a}else nr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qe(a),d=!1}else d=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Aa(a),a):(Aa(a),null)}if(Aa(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)}return r!==e&&r&&(a.child.flags|=8192),Zi(a,a.updateQueue),Qe(a),null;case 4:return ve(),e===null&&Fc(a.stateNode.containerInfo),Qe(a),null;case 10:return Ta(a.type),Qe(a),null;case 19:if(re(ut),d=a.memoizedState,d===null)return Qe(a),null;if(o=(a.flags&128)!==0,m=d.rendering,m===null)if(o)vr(d,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(m=Yi(e),m!==null){for(a.flags|=128,vr(d,!1),e=m.updateQueue,a.updateQueue=e,Zi(a,e),a.subtreeFlags=0,e=r,r=a.child;r!==null;)Fh(r,e),r=r.sibling;return te(ut,ut.current&1|2),a.child}e=e.sibling}d.tail!==null&&Pe()>tl&&(a.flags|=128,o=!0,vr(d,!1),a.lanes=4194304)}else{if(!o)if(e=Yi(m),e!==null){if(a.flags|=128,o=!0,e=e.updateQueue,a.updateQueue=e,Zi(a,e),vr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ae)return Qe(a),null}else 2*Pe()-d.renderingStartTime>tl&&r!==536870912&&(a.flags|=128,o=!0,vr(d,!1),a.lanes=4194304);d.isBackwards?(m.sibling=a.child,a.child=m):(e=d.last,e!==null?e.sibling=m:a.child=m,d.last=m)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Pe(),a.sibling=null,e=ut.current,te(ut,o?e&1|2:e&1),a):(Qe(a),null);case 22:case 23:return Aa(a),Yo(),o=a.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(Qe(a),a.subtreeFlags&6&&(a.flags|=8192)):Qe(a),r=a.updateQueue,r!==null&&Zi(a,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),e!==null&&re(Ds),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Ta(dt),Qe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Hb(e,a){switch(Lo(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Ta(dt),ve(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return ye(a),null;case 13:if(Aa(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));nr()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return re(ut),null;case 4:return ve(),null;case 10:return Ta(a.type),null;case 22:case 23:return Aa(a),Yo(),e!==null&&re(Ds),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Ta(dt),null;case 25:return null;default:return null}}function y0(e,a){switch(Lo(a),a.tag){case 3:Ta(dt),ve();break;case 26:case 27:case 5:ye(a);break;case 4:ve();break;case 13:Aa(a);break;case 19:re(ut);break;case 10:Ta(a.type);break;case 22:case 23:Aa(a),Yo(),e!==null&&re(Ds);break;case 24:Ta(dt)}}function jr(e,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){o=void 0;var m=r.create,w=r.inst;o=m(),w.destroy=o}r=r.next}while(r!==d)}}catch(E){qe(a,a.return,E)}}function Za(e,a,r){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&e)===e){var w=o.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,d=a;var $=r,X=E;try{X()}catch(se){qe(d,$,se)}}}o=o.next}while(o!==m)}}catch(se){qe(a,a.return,se)}}function b0(e){var a=e.updateQueue;if(a!==null){var r=e.stateNode;try{im(a,r)}catch(o){qe(e,e.return,o)}}}function v0(e,a,r){r.props=Rs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){qe(e,a,o)}}function wr(e,a){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(d){qe(e,a,d)}}function ha(e,a){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){qe(e,a,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){qe(e,a,d)}else r.current=null}function j0(e){var a=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){qe(e,e.return,d)}}function jc(e,a,r){try{var o=e.stateNode;rv(o,e.type,r,a),o[Dt]=a}catch(d){qe(e,e.return,d)}}function w0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&is(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&is(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,a,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(e),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=dl));else if(o!==4&&(o===27&&is(e.type)&&(r=e.stateNode,a=null),e=e.child,e!==null))for(kc(e,a,r),e=e.sibling;e!==null;)kc(e,a,r),e=e.sibling}function Ji(e,a,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,a?r.insertBefore(e,a):r.appendChild(e);else if(o!==4&&(o===27&&is(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ji(e,a,r),e=e.sibling;e!==null;)Ji(e,a,r),e=e.sibling}function k0(e){var a=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);wt(a,o,r),a[Nt]=e,a[Dt]=r}catch(m){qe(e,e.return,m)}}var Ra=!1,rt=!1,Nc=!1,N0=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Vb(e,a){if(e=e.containerInfo,Wc=xl,e=Bh(e),wo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var w=0,E=-1,$=-1,X=0,se=0,ie=e,Z=null;t:for(;;){for(var J;ie!==r||d!==0&&ie.nodeType!==3||(E=w+d),ie!==m||o!==0&&ie.nodeType!==3||($=w+o),ie.nodeType===3&&(w+=ie.nodeValue.length),(J=ie.firstChild)!==null;)Z=ie,ie=J;for(;;){if(ie===e)break t;if(Z===r&&++X===d&&(E=w),Z===m&&++se===o&&($=w),(J=ie.nextSibling)!==null)break;ie=Z,Z=ie.parentNode}ie=J}r=E===-1||$===-1?null:{start:E,end:$}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kc={focusedElem:e,selectionRange:r},xl=!1,pt=a;pt!==null;)if(a=pt,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,pt=e;else for(;pt!==null;){switch(a=pt,m=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=a,d=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var pe=Rs(r.type,d,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(fe){qe(r,r.return,fe)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,r=e.nodeType,r===9)Zc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,pt=e;break}pt=a.return}}function S0(e,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ja(e,r),o&4&&jr(5,r);break;case 1:if(Ja(e,r),o&4)if(e=r.stateNode,a===null)try{e.componentDidMount()}catch(w){qe(r,r.return,w)}else{var d=Rs(r.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(d,a,e.__reactInternalSnapshotBeforeUpdate)}catch(w){qe(r,r.return,w)}}o&64&&b0(r),o&512&&wr(r,r.return);break;case 3:if(Ja(e,r),o&64&&(e=r.updateQueue,e!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{im(e,a)}catch(w){qe(r,r.return,w)}}break;case 27:a===null&&o&4&&k0(r);case 26:case 5:Ja(e,r),a===null&&o&4&&j0(r),o&512&&wr(r,r.return);break;case 12:Ja(e,r);break;case 13:Ja(e,r),o&4&&E0(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Wb.bind(null,r),hv(e,r))));break;case 22:if(o=r.memoizedState!==null||Ra,!o){a=a!==null&&a.memoizedState!==null||rt,d=Ra;var m=rt;Ra=o,(rt=a)&&!m?es(e,r,(r.subtreeFlags&8772)!==0):Ja(e,r),Ra=d,rt=m}break;case 30:break;default:Ja(e,r)}}function C0(e){var a=e.alternate;a!==null&&(e.alternate=null,C0(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&ao(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Lt=!1;function La(e,a,r){for(r=r.child;r!==null;)T0(e,a,r),r=r.sibling}function T0(e,a,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ge,r)}catch{}switch(r.tag){case 26:rt||ha(r,a),La(e,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||ha(r,a);var o=Ye,d=Lt;is(r.type)&&(Ye=r.stateNode,Lt=!1),La(e,a,r),Mr(r.stateNode),Ye=o,Lt=d;break;case 5:rt||ha(r,a);case 6:if(o=Ye,d=Lt,Ye=null,La(e,a,r),Ye=o,Lt=d,Ye!==null)if(Lt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(r.stateNode)}catch(m){qe(r,a,m)}else try{Ye.removeChild(r.stateNode)}catch(m){qe(r,a,m)}break;case 18:Ye!==null&&(Lt?(e=Ye,pf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Vr(e)):pf(Ye,r.stateNode));break;case 4:o=Ye,d=Lt,Ye=r.stateNode.containerInfo,Lt=!0,La(e,a,r),Ye=o,Lt=d;break;case 0:case 11:case 14:case 15:rt||Za(2,r,a),rt||Za(4,r,a),La(e,a,r);break;case 1:rt||(ha(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&v0(r,a,o)),La(e,a,r);break;case 21:La(e,a,r);break;case 22:rt=(o=rt)||r.memoizedState!==null,La(e,a,r),rt=o;break;default:La(e,a,r)}}function E0(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vr(e)}catch(r){qe(a,a.return,r)}}function Ub(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new N0),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new N0),a;default:throw Error(i(435,e.tag))}}function Sc(e,a){var r=Ub(e);a.forEach(function(o){var d=Kb.bind(null,e,o);r.has(o)||(r.add(o),o.then(d,d))})}function Ht(e,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],m=e,w=a,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(is(E.type)){Ye=E.stateNode,Lt=!1;break e}break;case 5:Ye=E.stateNode,Lt=!1;break e;case 3:case 4:Ye=E.stateNode.containerInfo,Lt=!0;break e}E=E.return}if(Ye===null)throw Error(i(160));T0(m,w,d),Ye=null,Lt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)A0(a,e),a=a.sibling}var ia=null;function A0(e,a){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(a,e),Vt(e),o&4&&(Za(3,e,e.return),jr(3,e),Za(5,e,e.return));break;case 1:Ht(a,e),Vt(e),o&512&&(rt||r===null||ha(r,r.return)),o&64&&Ra&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=ia;if(Ht(a,e),Vt(e),o&512&&(rt||r===null||ha(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Gn]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),wt(m,o,r),m[Nt]=e,ft(m),o=m;break e;case"link":var w=Nf("link","href",d).get(o+(r.href||""));if(w){for(var E=0;E<w.length;E++)if(m=w[E],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(E,1);break t}}m=d.createElement(o),wt(m,o,r),d.head.appendChild(m);break;case"meta":if(w=Nf("meta","content",d).get(o+(r.content||""))){for(E=0;E<w.length;E++)if(m=w[E],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(E,1);break t}}m=d.createElement(o),wt(m,o,r),d.head.appendChild(m);break;default:throw Error(i(468,o))}m[Nt]=e,ft(m),o=m}e.stateNode=o}else Sf(d,e.type,e.stateNode);else e.stateNode=kf(d,o,e.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Sf(d,e.type,e.stateNode):kf(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ht(a,e),Vt(e),o&512&&(rt||r===null||ha(r,r.return)),r!==null&&o&4&&jc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ht(a,e),Vt(e),o&512&&(rt||r===null||ha(r,r.return)),e.flags&32){d=e.stateNode;try{Ks(d,"")}catch(J){qe(e,e.return,J)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,jc(e,d,r!==null?r.memoizedProps:d)),o&1024&&(Nc=!0);break;case 6:if(Ht(a,e),Vt(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(J){qe(e,e.return,J)}}break;case 3:if(fl=null,d=ia,ia=hl(a.containerInfo),Ht(a,e),ia=d,Vt(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Vr(a.containerInfo)}catch(J){qe(e,e.return,J)}Nc&&(Nc=!1,D0(e));break;case 4:o=ia,ia=hl(e.stateNode.containerInfo),Ht(a,e),Vt(e),ia=o;break;case 12:Ht(a,e),Vt(e);break;case 13:Ht(a,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Mc=Pe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 22:d=e.memoizedState!==null;var $=r!==null&&r.memoizedState!==null,X=Ra,se=rt;if(Ra=X||d,rt=se||$,Ht(a,e),rt=se,Ra=X,Vt(e),o&8192)e:for(a=e.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(r===null||$||Ra||rt||Ls(e)),r=null,a=e;;){if(a.tag===5||a.tag===26){if(r===null){$=r=a;try{if(m=$.stateNode,d)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=$.stateNode;var ie=$.memoizedProps.style,Z=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){qe($,$.return,J)}}}else if(a.tag===6){if(r===null){$=a;try{$.stateNode.nodeValue=d?"":$.memoizedProps}catch(J){qe($,$.return,J)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Sc(e,r))));break;case 19:Ht(a,e),Vt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Sc(e,o)));break;case 30:break;case 21:break;default:Ht(a,e),Vt(e)}}function Vt(e){var a=e.flags;if(a&2){try{for(var r,o=e.return;o!==null;){if(w0(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,m=wc(e);Ji(e,m,d);break;case 5:var w=r.stateNode;r.flags&32&&(Ks(w,""),r.flags&=-33);var E=wc(e);Ji(e,E,w);break;case 3:case 4:var $=r.stateNode.containerInfo,X=wc(e);kc(e,X,$);break;default:throw Error(i(161))}}catch(se){qe(e,e.return,se)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function D0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;D0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ja(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)S0(e,a.alternate,a),a=a.sibling}function Ls(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Za(4,a,a.return),Ls(a);break;case 1:ha(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&v0(a,a.return,r),Ls(a);break;case 27:Mr(a.stateNode);case 26:case 5:ha(a,a.return),Ls(a);break;case 22:a.memoizedState===null&&Ls(a);break;case 30:Ls(a);break;default:Ls(a)}e=e.sibling}}function es(e,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=e,m=a,w=m.flags;switch(m.tag){case 0:case 11:case 15:es(d,m,r),jr(4,m);break;case 1:if(es(d,m,r),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){qe(o,o.return,X)}if(o=m,d=o.updateQueue,d!==null){var E=o.stateNode;try{var $=d.shared.hiddenCallbacks;if($!==null)for(d.shared.hiddenCallbacks=null,d=0;d<$.length;d++)rm($[d],E)}catch(X){qe(o,o.return,X)}}r&&w&64&&b0(m),wr(m,m.return);break;case 27:k0(m);case 26:case 5:es(d,m,r),r&&o===null&&w&4&&j0(m),wr(m,m.return);break;case 12:es(d,m,r);break;case 13:es(d,m,r),r&&w&4&&E0(d,m);break;case 22:m.memoizedState===null&&es(d,m,r),wr(m,m.return);break;case 30:break;default:es(d,m,r)}a=a.sibling}}function Cc(e,a){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&lr(r))}function Tc(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&lr(e))}function ma(e,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)M0(e,a,r,o),a=a.sibling}function M0(e,a,r,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:ma(e,a,r,o),d&2048&&jr(9,a);break;case 1:ma(e,a,r,o);break;case 3:ma(e,a,r,o),d&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&lr(e)));break;case 12:if(d&2048){ma(e,a,r,o),e=a.stateNode;try{var m=a.memoizedProps,w=m.id,E=m.onPostCommit;typeof E=="function"&&E(w,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch($){qe(a,a.return,$)}}else ma(e,a,r,o);break;case 13:ma(e,a,r,o);break;case 23:break;case 22:m=a.stateNode,w=a.alternate,a.memoizedState!==null?m._visibility&2?ma(e,a,r,o):kr(e,a):m._visibility&2?ma(e,a,r,o):(m._visibility|=2,gn(e,a,r,o,(a.subtreeFlags&10256)!==0)),d&2048&&Cc(w,a);break;case 24:ma(e,a,r,o),d&2048&&Tc(a.alternate,a);break;default:ma(e,a,r,o)}}function gn(e,a,r,o,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=e,w=a,E=r,$=o,X=w.flags;switch(w.tag){case 0:case 11:case 15:gn(m,w,E,$,d),jr(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?gn(m,w,E,$,d):kr(m,w):(se._visibility|=2,gn(m,w,E,$,d)),d&&X&2048&&Cc(w.alternate,w);break;case 24:gn(m,w,E,$,d),d&&X&2048&&Tc(w.alternate,w);break;default:gn(m,w,E,$,d)}a=a.sibling}}function kr(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=e,o=a,d=o.flags;switch(o.tag){case 22:kr(r,o),d&2048&&Cc(o.alternate,o);break;case 24:kr(r,o),d&2048&&Tc(o.alternate,o);break;default:kr(r,o)}a=a.sibling}}var Nr=8192;function pn(e){if(e.subtreeFlags&Nr)for(e=e.child;e!==null;)R0(e),e=e.sibling}function R0(e){switch(e.tag){case 26:pn(e),e.flags&Nr&&e.memoizedState!==null&&Sv(ia,e.memoizedState,e.memoizedProps);break;case 5:pn(e);break;case 3:case 4:var a=ia;ia=hl(e.stateNode.containerInfo),pn(e),ia=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Nr,Nr=16777216,pn(e),Nr=a):pn(e));break;default:pn(e)}}function L0(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Sr(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];pt=o,B0(o,e)}L0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)O0(e),e=e.sibling}function O0(e){switch(e.tag){case 0:case 11:case 15:Sr(e),e.flags&2048&&Za(9,e,e.return);break;case 3:Sr(e);break;case 12:Sr(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,el(e)):Sr(e);break;default:Sr(e)}}function el(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];pt=o,B0(o,e)}L0(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Za(8,a,a.return),el(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,el(a));break;default:el(a)}e=e.sibling}}function B0(e,a){for(;pt!==null;){var r=pt;switch(r.tag){case 0:case 11:case 15:Za(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lr(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,pt=o;else e:for(r=e;pt!==null;){o=pt;var d=o.sibling,m=o.return;if(C0(o),o===r){pt=null;break e}if(d!==null){d.return=m,pt=d;break e}pt=m}}}var Pb={getCacheForType:function(e){var a=St(dt),r=a.data.get(e);return r===void 0&&(r=e(),a.data.set(e,r)),r}},Ib=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,Ne=null,Ce=0,Oe=0,Ut=null,ts=!1,xn=!1,Ec=!1,Oa=0,at=0,as=0,Os=0,Ac=0,Jt=0,yn=0,Cr=null,Ot=null,Dc=!1,Mc=0,tl=1/0,al=null,ss=null,jt=0,ns=null,bn=null,vn=0,Rc=0,Lc=null,_0=null,Tr=0,Oc=null;function Pt(){if((Le&2)!==0&&Ce!==0)return Ce&-Ce;if(B.T!==null){var e=ln;return e!==0?e:Pc()}return Zu()}function z0(){Jt===0&&(Jt=(Ce&536870912)===0||Ae?Wu():536870912);var e=Zt.current;return e!==null&&(e.flags|=32),Jt}function It(e,a,r){(e===Fe&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(jn(e,0),rs(e,Ce,Jt,!1)),Fn(e,r),((Le&2)===0||e!==Fe)&&(e===Fe&&((Le&2)===0&&(Os|=r),at===4&&rs(e,Ce,Jt,!1)),fa(e))}function H0(e,a,r){if((Le&6)!==0)throw Error(i(327));var o=!r&&(a&124)===0&&(a&e.expiredLanes)===0||$n(e,a),d=o?Fb(e,a):zc(e,a,!0),m=o;do{if(d===0){xn&&!o&&rs(e,a,0,!1);break}else{if(r=e.current.alternate,m&&!qb(r)){d=zc(e,a,!1),m=!1;continue}if(d===2){if(m=a,e.errorRecoveryDisabledLanes&m)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var E=e;d=Cr;var $=E.current.memoizedState.isDehydrated;if($&&(jn(E,w).flags|=256),w=zc(E,w,!1),w!==2){if(Ec&&!$){E.errorRecoveryDisabledLanes|=m,Os|=m,d=4;break e}m=Ot,Ot=d,m!==null&&(Ot===null?Ot=m:Ot.push.apply(Ot,m))}d=w}if(m=!1,d!==2)continue}}if(d===1){jn(e,0),rs(e,a,0,!0);break}e:{switch(o=e,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:rs(o,a,Jt,!ts);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Mc+300-Pe(),10<d)){if(rs(o,a,Jt,!ts),mi(o,0,!0)!==0)break e;o.timeoutHandle=ff(V0.bind(null,o,r,Ot,al,Dc,a,Jt,Os,yn,ts,m,2,-0,0),d);break e}V0(o,r,Ot,al,Dc,a,Jt,Os,yn,ts,m,0,-0,0)}}break}while(!0);fa(e)}function V0(e,a,r,o,d,m,w,E,$,X,se,ie,Z,J){if(e.timeoutHandle=-1,ie=a.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Or={stylesheets:null,count:0,unsuspend:Nv},R0(a),ie=Cv(),ie!==null)){e.cancelPendingCommit=ie(G0.bind(null,e,a,m,r,o,d,w,E,$,se,1,Z,J)),rs(e,m,w,!X);return}G0(e,a,m,r,o,d,w,E,$)}function qb(e){for(var a=e;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],m=d.getSnapshot;d=d.value;try{if(!_t(m(),d))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function rs(e,a,r,o){a&=~Ac,a&=~Os,e.suspendedLanes|=a,e.pingedLanes&=~a,o&&(e.warmLanes|=a),o=e.expirationTimes;for(var d=a;0<d;){var m=31-bt(d),w=1<<m;o[m]=-1,d&=~w}r!==0&&Qu(e,r,a)}function sl(){return(Le&6)===0?(Er(0),!1):!0}function Bc(){if(Ne!==null){if(Oe===0)var e=Ne.return;else e=Ne,Ca=Es=null,Zo(e),mn=null,yr=0,e=Ne;for(;e!==null;)y0(e.alternate,e),e=e.return;Ne=null}}function jn(e,a){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,lv(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Bc(),Fe=e,Ne=r=ka(e.current,null),Ce=a,Oe=0,Ut=null,ts=!1,xn=$n(e,a),Ec=!1,yn=Jt=Ac=Os=as=at=0,Ot=Cr=null,Dc=!1,(a&8)!==0&&(a|=a&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=a;0<o;){var d=31-bt(o),m=1<<d;a|=e[d],o&=~m}return Oa=a,Si(),r}function U0(e,a){we=null,B.H=$i,a===cr||a===Oi?(a=sm(),Oe=3):a===em?(a=sm(),Oe=4):Oe=a===n0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ut=a,Ne===null&&(at=1,Ki(e,Wt(a,e.current)))}function P0(){var e=B.H;return B.H=$i,e===null?$i:e}function I0(){var e=B.A;return B.A=Pb,e}function _c(){at=4,ts||(Ce&4194048)!==Ce&&Zt.current!==null||(xn=!0),(as&134217727)===0&&(Os&134217727)===0||Fe===null||rs(Fe,Ce,Jt,!1)}function zc(e,a,r){var o=Le;Le|=2;var d=P0(),m=I0();(Fe!==e||Ce!==a)&&(al=null,jn(e,a)),a=!1;var w=at;e:do try{if(Oe!==0&&Ne!==null){var E=Ne,$=Ut;switch(Oe){case 8:Bc(),w=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(a=!0);var X=Oe;if(Oe=0,Ut=null,wn(e,E,$,X),r&&xn){w=0;break e}break;default:X=Oe,Oe=0,Ut=null,wn(e,E,$,X)}}$b(),w=at;break}catch(se){U0(e,se)}while(!0);return a&&e.shellSuspendCounter++,Ca=Es=null,Le=o,B.H=d,B.A=m,Ne===null&&(Fe=null,Ce=0,Si()),w}function $b(){for(;Ne!==null;)q0(Ne)}function Fb(e,a){var r=Le;Le|=2;var o=P0(),d=I0();Fe!==e||Ce!==a?(al=null,tl=Pe()+500,jn(e,a)):xn=$n(e,a);e:do try{if(Oe!==0&&Ne!==null){a=Ne;var m=Ut;t:switch(Oe){case 1:Oe=0,Ut=null,wn(e,a,m,1);break;case 2:case 9:if(tm(m)){Oe=0,Ut=null,$0(a);break}a=function(){Oe!==2&&Oe!==9||Fe!==e||(Oe=7),fa(e)},m.then(a,a);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:tm(m)?(Oe=0,Ut=null,$0(a)):(Oe=0,Ut=null,wn(e,a,m,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var E=Ne;if(!w||Cf(w)){Oe=0,Ut=null;var $=E.sibling;if($!==null)Ne=$;else{var X=E.return;X!==null?(Ne=X,nl(X)):Ne=null}break t}}Oe=0,Ut=null,wn(e,a,m,5);break;case 6:Oe=0,Ut=null,wn(e,a,m,6);break;case 8:Bc(),at=6;break e;default:throw Error(i(462))}}Gb();break}catch(se){U0(e,se)}while(!0);return Ca=Es=null,B.H=o,B.A=d,Le=r,Ne!==null?0:(Fe=null,Ce=0,Si(),at)}function Gb(){for(;Ne!==null&&!De();)q0(Ne)}function q0(e){var a=p0(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,a===null?nl(e):Ne=a}function $0(e){var a=e,r=a.alternate;switch(a.tag){case 15:case 0:a=d0(r,a,a.pendingProps,a.type,void 0,Ce);break;case 11:a=d0(r,a,a.pendingProps,a.type.render,a.ref,Ce);break;case 5:Zo(a);default:y0(r,a),a=Ne=Fh(a,Oa),a=p0(r,a,Oa)}e.memoizedProps=e.pendingProps,a===null?nl(e):Ne=a}function wn(e,a,r,o){Ca=Es=null,Zo(a),mn=null,yr=0;var d=a.return;try{if(Bb(e,d,a,r,Ce)){at=1,Ki(e,Wt(r,e.current)),Ne=null;return}}catch(m){if(d!==null)throw Ne=d,m;at=1,Ki(e,Wt(r,e.current)),Ne=null;return}a.flags&32768?(Ae||o===1?e=!0:xn||(Ce&536870912)!==0?e=!1:(ts=e=!0,(o===2||o===9||o===3||o===6)&&(o=Zt.current,o!==null&&o.tag===13&&(o.flags|=16384))),F0(a,e)):nl(a)}function nl(e){var a=e;do{if((a.flags&32768)!==0){F0(a,ts);return}e=a.return;var r=zb(a.alternate,a,Oa);if(r!==null){Ne=r;return}if(a=a.sibling,a!==null){Ne=a;return}Ne=a=e}while(a!==null);at===0&&(at=5)}function F0(e,a){do{var r=Hb(e.alternate,e);if(r!==null){r.flags&=32767,Ne=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=r}while(e!==null);at=6,Ne=null}function G0(e,a,r,o,d,m,w,E,$){e.cancelPendingCommit=null;do rl();while(jt!==0);if((Le&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=To,Ny(e,r,m,w,E,$),e===Fe&&(Ne=Fe=null,Ce=0),bn=a,ns=e,vn=r,Rc=m,Lc=d,_0=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qb(na,function(){return X0(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,d=P.p,P.p=2,w=Le,Le|=4;try{Vb(e,a,r)}finally{Le=w,P.p=d,B.T=o}}jt=1,Y0(),W0(),K0()}}function Y0(){if(jt===1){jt=0;var e=ns,a=bn,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var o=P.p;P.p=2;var d=Le;Le|=4;try{A0(a,e);var m=Kc,w=Bh(e.containerInfo),E=m.focusedElem,$=m.selectionRange;if(w!==E&&E&&E.ownerDocument&&Oh(E.ownerDocument.documentElement,E)){if($!==null&&wo(E)){var X=$.start,se=$.end;if(se===void 0&&(se=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(se,E.value.length);else{var ie=E.ownerDocument||document,Z=ie&&ie.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),pe=E.textContent.length,fe=Math.min($.start,pe),Ue=$.end===void 0?fe:Math.min($.end,pe);!J.extend&&fe>Ue&&(w=Ue,Ue=fe,fe=w);var G=Lh(E,fe),F=Lh(E,Ue);if(G&&F&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(G.node,G.offset),J.removeAllRanges(),fe>Ue?(J.addRange(K),J.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),J.addRange(K))}}}}for(ie=[],J=E;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ie.length;E++){var ne=ie[E];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}xl=!!Wc,Kc=Wc=null}finally{Le=d,P.p=o,B.T=r}}e.current=a,jt=2}}function W0(){if(jt===2){jt=0;var e=ns,a=bn,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var o=P.p;P.p=2;var d=Le;Le|=4;try{S0(e,a.alternate,a)}finally{Le=d,P.p=o,B.T=r}}jt=3}}function K0(){if(jt===4||jt===3){jt=0,je();var e=ns,a=bn,r=vn,o=_0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?jt=5:(jt=0,bn=ns=null,Q0(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ss=null),eo(r),a=a.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ge,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=B.T,d=P.p,P.p=2,B.T=null;try{for(var m=e.onRecoverableError,w=0;w<o.length;w++){var E=o[w];m(E.value,{componentStack:E.stack})}}finally{B.T=a,P.p=d}}(vn&3)!==0&&rl(),fa(e),d=e.pendingLanes,(r&4194090)!==0&&(d&42)!==0?e===Oc?Tr++:(Tr=0,Oc=e):Tr=0,Er(0)}}function Q0(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,lr(a)))}function rl(e){return Y0(),W0(),K0(),X0()}function X0(){if(jt!==5)return!1;var e=ns,a=Rc;Rc=0;var r=eo(vn),o=B.T,d=P.p;try{P.p=32>r?32:r,B.T=null,r=Lc,Lc=null;var m=ns,w=vn;if(jt=0,bn=ns=null,vn=0,(Le&6)!==0)throw Error(i(331));var E=Le;if(Le|=4,O0(m.current),M0(m,m.current,w,r),Le=E,Er(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ge,m)}catch{}return!0}finally{P.p=d,B.T=o,Q0(e,a)}}function Z0(e,a,r){a=Wt(r,a),a=hc(e.stateNode,a,2),e=Wa(e,a,2),e!==null&&(Fn(e,2),fa(e))}function qe(e,a,r){if(e.tag===3)Z0(e,e,r);else for(;a!==null;){if(a.tag===3){Z0(a,e,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ss===null||!ss.has(o))){e=Wt(r,e),r=a0(2),o=Wa(a,r,2),o!==null&&(s0(r,o,a,e),Fn(o,2),fa(o));break}}a=a.return}}function Hc(e,a,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Ib;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(r)||(Ec=!0,d.add(r),e=Yb.bind(null,e,a,r),a.then(e,e))}function Yb(e,a,r){var o=e.pingCache;o!==null&&o.delete(a),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Fe===e&&(Ce&r)===r&&(at===4||at===3&&(Ce&62914560)===Ce&&300>Pe()-Mc?(Le&2)===0&&jn(e,0):Ac|=r,yn===Ce&&(yn=0)),fa(e)}function J0(e,a){a===0&&(a=Ku()),e=an(e,a),e!==null&&(Fn(e,a),fa(e))}function Wb(e){var a=e.memoizedState,r=0;a!==null&&(r=a.retryLane),J0(e,r)}function Kb(e,a){var r=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),J0(e,r)}function Qb(e,a){return Je(e,a)}var il=null,kn=null,Vc=!1,ll=!1,Uc=!1,Bs=0;function fa(e){e!==kn&&e.next===null&&(kn===null?il=kn=e:kn=kn.next=e),ll=!0,Vc||(Vc=!0,Zb())}function Er(e,a){if(!Uc&&ll){Uc=!0;do for(var r=!1,o=il;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var w=o.suspendedLanes,E=o.pingedLanes;m=(1<<31-bt(42|e)+1)-1,m&=d&~(w&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,sf(o,m))}else m=Ce,m=mi(o,o===Fe?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||$n(o,m)||(r=!0,sf(o,m));o=o.next}while(r);Uc=!1}}function Xb(){ef()}function ef(){ll=Vc=!1;var e=0;Bs!==0&&(iv()&&(e=Bs),Bs=0);for(var a=Pe(),r=null,o=il;o!==null;){var d=o.next,m=tf(o,a);m===0?(o.next=null,r===null?il=d:r.next=d,d===null&&(kn=r)):(r=o,(e!==0||(m&3)!==0)&&(ll=!0)),o=d}Er(e)}function tf(e,a){for(var r=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var w=31-bt(m),E=1<<w,$=d[w];$===-1?((E&r)===0||(E&o)!==0)&&(d[w]=ky(E,a)):$<=a&&(e.expiredLanes|=E),m&=~E}if(a=Fe,r=Ce,r=mi(e,e===a?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===a&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_e(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$n(e,r)){if(a=r&-r,a===e.callbackPriority)return a;switch(o!==null&&_e(o),eo(r)){case 2:case 8:r=et;break;case 32:r=na;break;case 268435456:r=Pa;break;default:r=na}return o=af.bind(null,e),r=Je(r,o),e.callbackPriority=a,e.callbackNode=r,a}return o!==null&&o!==null&&_e(o),e.callbackPriority=2,e.callbackNode=null,2}function af(e,a){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(rl()&&e.callbackNode!==r)return null;var o=Ce;return o=mi(e,e===Fe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(H0(e,o,a),tf(e,Pe()),e.callbackNode!=null&&e.callbackNode===r?af.bind(null,e):null)}function sf(e,a){if(rl())return null;H0(e,a,!0)}function Zb(){ov(function(){(Le&6)!==0?Je(Ie,Xb):ef()})}function Pc(){return Bs===0&&(Bs=Wu()),Bs}function nf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yi(""+e)}function rf(e,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,e.id&&r.setAttribute("form",e.id),a.parentNode.insertBefore(r,a),e=new FormData(e),r.parentNode.removeChild(r),e}function Jb(e,a,r,o,d){if(a==="submit"&&r&&r.stateNode===d){var m=nf((d[Dt]||null).action),w=o.submitter;w&&(a=(a=w[Dt]||null)?nf(a.formAction):w.getAttribute("formAction"),a!==null&&(m=a,w=null));var E=new wi("action","action",null,o,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Bs!==0){var $=w?rf(d,w):new FormData(d);lc(r,{pending:!0,data:$,method:d.method,action:m},null,$)}}else typeof m=="function"&&(E.preventDefault(),$=w?rf(d,w):new FormData(d),lc(r,{pending:!0,data:$,method:d.method,action:m},m,$))},currentTarget:d}]})}}for(var Ic=0;Ic<Co.length;Ic++){var qc=Co[Ic],ev=qc.toLowerCase(),tv=qc[0].toUpperCase()+qc.slice(1);ra(ev,"on"+tv)}ra(Hh,"onAnimationEnd"),ra(Vh,"onAnimationIteration"),ra(Uh,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(yb,"onTransitionRun"),ra(bb,"onTransitionStart"),ra(vb,"onTransitionCancel"),ra(Ph,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),av=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ar));function lf(e,a){a=(a&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],d=o.event;o=o.listeners;e:{var m=void 0;if(a)for(var w=o.length-1;0<=w;w--){var E=o[w],$=E.instance,X=E.currentTarget;if(E=E.listener,$!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=X;try{m(d)}catch(se){Wi(se)}d.currentTarget=null,m=$}else for(w=0;w<o.length;w++){if(E=o[w],$=E.instance,X=E.currentTarget,E=E.listener,$!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=X;try{m(d)}catch(se){Wi(se)}d.currentTarget=null,m=$}}}}function Se(e,a){var r=a[to];r===void 0&&(r=a[to]=new Set);var o=e+"__bubble";r.has(o)||(of(a,e,2,!1),r.add(o))}function $c(e,a,r){var o=0;a&&(o|=4),of(r,e,o,a)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Fc(e){if(!e[ol]){e[ol]=!0,eh.forEach(function(r){r!=="selectionchange"&&(av.has(r)||$c(r,!1,e),$c(r,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[ol]||(a[ol]=!0,$c("selectionchange",!1,a))}}function of(e,a,r,o){switch(Rf(a)){case 2:var d=Av;break;case 8:d=Dv;break;default:d=rd}r=d.bind(null,a,r,e),d=void 0,!mo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(a,r,{capture:!0,passive:d}):e.addEventListener(a,r,!0):d!==void 0?e.addEventListener(a,r,{passive:d}):e.addEventListener(a,r,!1)}function Gc(e,a,r,o,d){var m=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var w=o.tag;if(w===3||w===4){var E=o.stateNode.containerInfo;if(E===d)break;if(w===4)for(w=o.return;w!==null;){var $=w.tag;if(($===3||$===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;E!==null;){if(w=qs(E),w===null)return;if($=w.tag,$===5||$===6||$===26||$===27){o=m=w;continue e}E=E.parentNode}}o=o.return}fh(function(){var X=m,se=uo(r),ie=[];e:{var Z=Ih.get(e);if(Z!==void 0){var J=wi,pe=e;switch(e){case"keypress":if(vi(r)===0)break e;case"keydown":case"keyup":J=Qy;break;case"focusin":pe="focus",J=xo;break;case"focusout":pe="blur",J=xo;break;case"beforeblur":case"afterblur":J=xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Jy;break;case Hh:case Vh:case Uh:J=Py;break;case Ph:J=tb;break;case"scroll":case"scrollend":J=_y;break;case"wheel":J=sb;break;case"copy":case"cut":case"paste":J=qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=bh;break;case"toggle":case"beforetoggle":J=rb}var fe=(a&4)!==0,Ue=!fe&&(e==="scroll"||e==="scrollend"),G=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var F=X,K;F!==null;){var ne=F;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||G===null||(ne=Wn(F,G),ne!=null&&fe.push(Dr(F,ne,K))),Ue)break;F=F.return}0<fe.length&&(Z=new J(Z,pe,null,r,se),ie.push({event:Z,listeners:fe}))}}if((a&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",Z&&r!==co&&(pe=r.relatedTarget||r.fromElement)&&(qs(pe)||pe[Is]))break e;if((J||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(pe=r.relatedTarget||r.toElement,J=X,pe=pe?qs(pe):null,pe!==null&&(Ue=u(pe),fe=pe.tag,pe!==Ue||fe!==5&&fe!==27&&fe!==6)&&(pe=null)):(J=null,pe=X),J!==pe)){if(fe=xh,ne="onMouseLeave",G="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(fe=bh,ne="onPointerLeave",G="onPointerEnter",F="pointer"),Ue=J==null?Z:Yn(J),K=pe==null?Z:Yn(pe),Z=new fe(ne,F+"leave",J,r,se),Z.target=Ue,Z.relatedTarget=K,ne=null,qs(se)===X&&(fe=new fe(G,F+"enter",pe,r,se),fe.target=K,fe.relatedTarget=Ue,ne=fe),Ue=ne,J&&pe)t:{for(fe=J,G=pe,F=0,K=fe;K;K=Nn(K))F++;for(K=0,ne=G;ne;ne=Nn(ne))K++;for(;0<F-K;)fe=Nn(fe),F--;for(;0<K-F;)G=Nn(G),K--;for(;F--;){if(fe===G||G!==null&&fe===G.alternate)break t;fe=Nn(fe),G=Nn(G)}fe=null}else fe=null;J!==null&&cf(ie,Z,J,fe,!1),pe!==null&&Ue!==null&&cf(ie,Ue,pe,fe,!0)}}e:{if(Z=X?Yn(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ue=Th;else if(Sh(Z))if(Eh)ue=gb;else{ue=mb;var ke=hb}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&oo(X.elementType)&&(ue=Th):ue=fb;if(ue&&(ue=ue(e,X))){Ch(ie,ue,r,se);break e}ke&&ke(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&lo(Z,"number",Z.value)}switch(ke=X?Yn(X):window,e){case"focusin":(Sh(ke)||ke.contentEditable==="true")&&(Js=ke,ko=X,ar=null);break;case"focusout":ar=ko=Js=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,_h(ie,r,se);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":_h(ie,r,se)}var me;if(bo)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Zs?kh(e,r)&&(ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ge="onCompositionStart");ge&&(vh&&r.locale!=="ko"&&(Zs||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Zs&&(me=gh()):($a=se,fo="value"in $a?$a.value:$a.textContent,Zs=!0)),ke=cl(X,ge),0<ke.length&&(ge=new yh(ge,e,null,r,se),ie.push({event:ge,listeners:ke}),me?ge.data=me:(me=Nh(r),me!==null&&(ge.data=me)))),(me=lb?ob(e,r):cb(e,r))&&(ge=cl(X,"onBeforeInput"),0<ge.length&&(ke=new yh("onBeforeInput","beforeinput",null,r,se),ie.push({event:ke,listeners:ge}),ke.data=me)),Jb(ie,e,X,r,se)}lf(ie,a)})}function Dr(e,a,r){return{instance:e,listener:a,currentTarget:r}}function cl(e,a){for(var r=a+"Capture",o=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Wn(e,r),d!=null&&o.unshift(Dr(e,d,m)),d=Wn(e,a),d!=null&&o.push(Dr(e,d,m))),e.tag===3)return o;e=e.return}return[]}function Nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cf(e,a,r,o,d){for(var m=a._reactName,w=[];r!==null&&r!==o;){var E=r,$=E.alternate,X=E.stateNode;if(E=E.tag,$!==null&&$===o)break;E!==5&&E!==26&&E!==27||X===null||($=X,d?(X=Wn(r,m),X!=null&&w.unshift(Dr(r,X,$))):d||(X=Wn(r,m),X!=null&&w.push(Dr(r,X,$)))),r=r.return}w.length!==0&&e.push({event:a,listeners:w})}var sv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function df(e){return(typeof e=="string"?e:""+e).replace(sv,`
`).replace(nv,"")}function uf(e,a){return a=df(a),df(e)===a}function dl(){}function Ve(e,a,r,o,d,m){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Ks(e,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Ks(e,""+o);break;case"className":gi(e,"class",o);break;case"tabIndex":gi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,r,o);break;case"style":hh(e,o,m);break;case"data":if(a!=="object"){gi(e,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=yi(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(a!=="input"&&Ve(e,a,"name",d.name,d,null),Ve(e,a,"formEncType",d.formEncType,d,null),Ve(e,a,"formMethod",d.formMethod,d,null),Ve(e,a,"formTarget",d.formTarget,d,null)):(Ve(e,a,"encType",d.encType,d,null),Ve(e,a,"method",d.method,d,null),Ve(e,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=yi(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=dl);break;case"onScroll":o!=null&&Se("scroll",e);break;case"onScrollEnd":o!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=yi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Se("beforetoggle",e),Se("toggle",e),fi(e,"popover",o);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Oy.get(r)||r,fi(e,r,o))}}function Yc(e,a,r,o,d,m){switch(r){case"style":hh(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Ks(e,o):(typeof o=="number"||typeof o=="bigint")&&Ks(e,""+o);break;case"onScroll":o!=null&&Se("scroll",e);break;case"onScrollEnd":o!=null&&Se("scrollend",e);break;case"onClick":o!=null&&(e.onclick=dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!th.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),a=r.slice(2,d?r.length-7:void 0),m=e[Dt]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(a,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(a,o,d);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):fi(e,r,o)}}}function wt(e,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var o=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var w=r[m];if(w!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(e,a,m,w,r,null)}}d&&Ve(e,a,"srcSet",r.srcSet,r,null),o&&Ve(e,a,"src",r.src,r,null);return;case"input":Se("invalid",e);var E=m=w=d=null,$=null,X=null;for(o in r)if(r.hasOwnProperty(o)){var se=r[o];if(se!=null)switch(o){case"name":d=se;break;case"type":w=se;break;case"checked":$=se;break;case"defaultChecked":X=se;break;case"value":m=se;break;case"defaultValue":E=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Ve(e,a,o,se,r,null)}}oh(e,m,E,$,X,w,d,!1),pi(e);return;case"select":Se("invalid",e),o=w=m=null;for(d in r)if(r.hasOwnProperty(d)&&(E=r[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":w=E;break;case"multiple":o=E;default:Ve(e,a,d,E,r,null)}a=m,r=w,e.multiple=!!o,a!=null?Ws(e,!!o,a,!1):r!=null&&Ws(e,!!o,r,!0);return;case"textarea":Se("invalid",e),m=d=o=null;for(w in r)if(r.hasOwnProperty(w)&&(E=r[w],E!=null))switch(w){case"value":o=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Ve(e,a,w,E,r,null)}dh(e,o,d,m),pi(e);return;case"option":for($ in r)if(r.hasOwnProperty($)&&(o=r[$],o!=null))switch($){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ve(e,a,$,o,r,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(o=0;o<Ar.length;o++)Se(Ar[o],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(o=r[X],o!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ve(e,a,X,o,r,null)}return;default:if(oo(a)){for(se in r)r.hasOwnProperty(se)&&(o=r[se],o!==void 0&&Yc(e,a,se,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Ve(e,a,E,o,r,null))}function rv(e,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,w=null,E=null,$=null,X=null,se=null;for(J in r){var ie=r[J];if(r.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":$=ie;default:o.hasOwnProperty(J)||Ve(e,a,J,null,o,ie)}}for(var Z in o){var J=o[Z];if(ie=r[Z],o.hasOwnProperty(Z)&&(J!=null||ie!=null))switch(Z){case"type":m=J;break;case"name":d=J;break;case"checked":X=J;break;case"defaultChecked":se=J;break;case"value":w=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==ie&&Ve(e,a,Z,J,o,ie)}}io(e,w,E,$,X,se,m,d);return;case"select":J=w=E=Z=null;for(m in r)if($=r[m],r.hasOwnProperty(m)&&$!=null)switch(m){case"value":break;case"multiple":J=$;default:o.hasOwnProperty(m)||Ve(e,a,m,null,o,$)}for(d in o)if(m=o[d],$=r[d],o.hasOwnProperty(d)&&(m!=null||$!=null))switch(d){case"value":Z=m;break;case"defaultValue":E=m;break;case"multiple":w=m;default:m!==$&&Ve(e,a,d,m,o,$)}a=E,r=w,o=J,Z!=null?Ws(e,!!r,Z,!1):!!o!=!!r&&(a!=null?Ws(e,!!r,a,!0):Ws(e,!!r,r?[]:"",!1));return;case"textarea":J=Z=null;for(E in r)if(d=r[E],r.hasOwnProperty(E)&&d!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ve(e,a,E,null,o,d)}for(w in o)if(d=o[w],m=r[w],o.hasOwnProperty(w)&&(d!=null||m!=null))switch(w){case"value":Z=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&Ve(e,a,w,d,o,m)}ch(e,Z,J);return;case"option":for(var pe in r)if(Z=r[pe],r.hasOwnProperty(pe)&&Z!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:Ve(e,a,pe,null,o,Z)}for($ in o)if(Z=o[$],J=r[$],o.hasOwnProperty($)&&Z!==J&&(Z!=null||J!=null))switch($){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ve(e,a,$,Z,o,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in r)Z=r[fe],r.hasOwnProperty(fe)&&Z!=null&&!o.hasOwnProperty(fe)&&Ve(e,a,fe,null,o,Z);for(X in o)if(Z=o[X],J=r[X],o.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Ve(e,a,X,Z,o,J)}return;default:if(oo(a)){for(var Ue in r)Z=r[Ue],r.hasOwnProperty(Ue)&&Z!==void 0&&!o.hasOwnProperty(Ue)&&Yc(e,a,Ue,void 0,o,Z);for(se in o)Z=o[se],J=r[se],!o.hasOwnProperty(se)||Z===J||Z===void 0&&J===void 0||Yc(e,a,se,Z,o,J);return}}for(var G in r)Z=r[G],r.hasOwnProperty(G)&&Z!=null&&!o.hasOwnProperty(G)&&Ve(e,a,G,null,o,Z);for(ie in o)Z=o[ie],J=r[ie],!o.hasOwnProperty(ie)||Z===J||Z==null&&J==null||Ve(e,a,ie,Z,o,J)}var Wc=null,Kc=null;function ul(e){return e.nodeType===9?e:e.ownerDocument}function hf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mf(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Qc(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xc=null;function iv(){var e=window.event;return e&&e.type==="popstate"?e===Xc?!1:(Xc=e,!0):(Xc=null,!1)}var ff=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,ov=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(cv)}:ff;function cv(e){setTimeout(function(){throw e})}function is(e){return e==="head"}function pf(e,a){var r=a,o=0,d=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<o&&8>o){r=o;var w=e.ownerDocument;if(r&1&&Mr(w.documentElement),r&2&&Mr(w.body),r&4)for(r=w.head,Mr(r),w=r.firstChild;w;){var E=w.nextSibling,$=w.nodeName;w[Gn]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&w.rel.toLowerCase()==="stylesheet"||r.removeChild(w),w=E}}if(d===0){e.removeChild(m),Vr(a);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:o=r.charCodeAt(0)-48;else o=0;r=m}while(r);Vr(a)}function Zc(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Zc(r),ao(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function dv(e,a,r,o){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Gn])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=la(e.nextSibling),e===null)break}return null}function uv(e,a,r){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=la(e.nextSibling),e===null))return null;return e}function Jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hv(e,a){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")a();else{var o=function(){a(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function la(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var ed=null;function xf(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return e;a--}else r==="/$"&&a++}e=e.previousSibling}return null}function yf(e,a,r){switch(a=ul(r),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Mr(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ao(e)}var ea=new Map,bf=new Set;function hl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ba=P.d;P.d={f:mv,r:fv,D:gv,C:pv,L:xv,m:yv,X:vv,S:bv,M:jv};function mv(){var e=Ba.f(),a=sl();return e||a}function fv(e){var a=$s(e);a!==null&&a.tag===5&&a.type==="form"?Hm(a):Ba.r(e)}var Sn=typeof document>"u"?null:document;function vf(e,a,r){var o=Sn;if(o&&typeof a=="string"&&a){var d=Yt(a);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),bf.has(d)||(bf.add(d),e={rel:e,crossOrigin:r,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),wt(a,"link",e),ft(a),o.head.appendChild(a)))}}function gv(e){Ba.D(e),vf("dns-prefetch",e,null)}function pv(e,a){Ba.C(e,a),vf("preconnect",e,a)}function xv(e,a,r){Ba.L(e,a,r);var o=Sn;if(o&&e&&a){var d='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Yt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Yt(r.imageSizes)+'"]')):d+='[href="'+Yt(e)+'"]';var m=d;switch(a){case"style":m=Cn(e);break;case"script":m=Tn(e)}ea.has(m)||(e=f({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:e,as:a},r),ea.set(m,e),o.querySelector(d)!==null||a==="style"&&o.querySelector(Rr(m))||a==="script"&&o.querySelector(Lr(m))||(a=o.createElement("link"),wt(a,"link",e),ft(a),o.head.appendChild(a)))}}function yv(e,a){Ba.m(e,a);var r=Sn;if(r&&e){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Yt(o)+'"][href="'+Yt(e)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Tn(e)}if(!ea.has(m)&&(e=f({rel:"modulepreload",href:e},a),ea.set(m,e),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lr(m)))return}o=r.createElement("link"),wt(o,"link",e),ft(o),r.head.appendChild(o)}}}function bv(e,a,r){Ba.S(e,a,r);var o=Sn;if(o&&e){var d=Fs(o).hoistableStyles,m=Cn(e);a=a||"default";var w=d.get(m);if(!w){var E={loading:0,preload:null};if(w=o.querySelector(Rr(m)))E.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":a},r),(r=ea.get(m))&&td(e,r);var $=w=o.createElement("link");ft($),wt($,"link",e),$._p=new Promise(function(X,se){$.onload=X,$.onerror=se}),$.addEventListener("load",function(){E.loading|=1}),$.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ml(w,a,o)}w={type:"stylesheet",instance:w,count:1,state:E},d.set(m,w)}}}function vv(e,a){Ba.X(e,a);var r=Sn;if(r&&e){var o=Fs(r).hoistableScripts,d=Tn(e),m=o.get(d);m||(m=r.querySelector(Lr(d)),m||(e=f({src:e,async:!0},a),(a=ea.get(d))&&ad(e,a),m=r.createElement("script"),ft(m),wt(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function jv(e,a){Ba.M(e,a);var r=Sn;if(r&&e){var o=Fs(r).hoistableScripts,d=Tn(e),m=o.get(d);m||(m=r.querySelector(Lr(d)),m||(e=f({src:e,async:!0,type:"module"},a),(a=ea.get(d))&&ad(e,a),m=r.createElement("script"),ft(m),wt(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function jf(e,a,r,o){var d=(d=ce.current)?hl(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=Cn(r.href),r=Fs(d).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Cn(r.href);var m=Fs(d).hoistableStyles,w=m.get(e);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,w),(m=d.querySelector(Rr(e)))&&!m._p&&(w.instance=m,w.state.loading=5),ea.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ea.set(e,r),m||wv(d,e,r,w.state))),a&&o===null)throw Error(i(528,""));return w}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tn(r),r=Fs(d).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Cn(e){return'href="'+Yt(e)+'"'}function Rr(e){return'link[rel="stylesheet"]['+e+"]"}function wf(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function wv(e,a,r,o){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=e.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),wt(a,"link",r),ft(a),e.head.appendChild(a))}function Tn(e){return'[src="'+Yt(e)+'"]'}function Lr(e){return"script[async]"+e}function kf(e,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=e.querySelector('style[data-href~="'+Yt(r.href)+'"]');if(o)return a.instance=o,ft(o),o;var d=f({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ft(o),wt(o,"style",d),ml(o,r.precedence,e),a.instance=o;case"stylesheet":d=Cn(r.href);var m=e.querySelector(Rr(d));if(m)return a.state.loading|=4,a.instance=m,ft(m),m;o=wf(r),(d=ea.get(d))&&td(o,d),m=(e.ownerDocument||e).createElement("link"),ft(m);var w=m;return w._p=new Promise(function(E,$){w.onload=E,w.onerror=$}),wt(m,"link",o),a.state.loading|=4,ml(m,r.precedence,e),a.instance=m;case"script":return m=Tn(r.src),(d=e.querySelector(Lr(m)))?(a.instance=d,ft(d),d):(o=r,(d=ea.get(m))&&(o=f({},r),ad(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),ft(d),wt(d,"link",o),e.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,ml(o,r.precedence,e));return a.instance}function ml(e,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,w=0;w<o.length;w++){var E=o[w];if(E.dataset.precedence===a)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(e,a.firstChild))}function td(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function ad(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var fl=null;function Nf(e,a,r){if(fl===null){var o=new Map,d=fl=new Map;d.set(r,o)}else d=fl,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var m=r[d];if(!(m[Gn]||m[Nt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(a)||"";w=e+w;var E=o.get(w);E?E.push(m):o.set(w,[m])}}return o}function Sf(e,a,r){e=e.ownerDocument||e,e.head.insertBefore(r,a==="title"?e.querySelector("head > title"):null)}function kv(e,a,r){if(r===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Cf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Or=null;function Nv(){}function Sv(e,a,r){if(Or===null)throw Error(i(475));var o=Or;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Cn(r.href),m=e.querySelector(Rr(d));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=gl.bind(o),e.then(o,o)),a.state.loading|=4,a.instance=m,ft(m);return}m=e.ownerDocument||e,r=wf(r),(d=ea.get(d))&&td(r,d),m=m.createElement("link"),ft(m);var w=m;w._p=new Promise(function(E,$){w.onload=E,w.onerror=$}),wt(m,"link",r),a.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=gl.bind(o),e.addEventListener("load",a),e.addEventListener("error",a))}}function Cv(){if(Or===null)throw Error(i(475));var e=Or;return e.stylesheets&&e.count===0&&sd(e,e.stylesheets),0<e.count?function(a){var r=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r)}}:null}function gl(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pl=null;function sd(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pl=new Map,a.forEach(Tv,e),pl=null,gl.call(e))}function Tv(e,a){if(!(a.state.loading&4)){var r=pl.get(e);if(r)var o=r.get(null);else{r=new Map,pl.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var w=d[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),o=w)}o&&r.set(null,o)}d=a.instance,w=d.getAttribute("data-precedence"),m=r.get(w)||o,m===o&&r.set(null,d),r.set(w,d),this.count++,o=gl.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),a.state.loading|=4}}var Br={$$typeof:H,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Ev(e,a,r,o,d,m,w,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.hiddenUpdates=Zl(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Tf(e,a,r,o,d,m,w,E,$,X,se,ie){return e=new Ev(e,a,r,w,E,$,X,ie),a=1,m===!0&&(a|=24),m=zt(3,null,null,a),e.current=m,m.stateNode=e,a=Ho(),a.refCount++,e.pooledCache=a,a.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:a},Io(m),e}function Ef(e){return e?(e=sn,e):sn}function Af(e,a,r,o,d,m){d=Ef(d),o.context===null?o.context=d:o.pendingContext=d,o=Ya(a),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Wa(e,o,a),r!==null&&(It(r,e,a),ur(r,e,a))}function Df(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<a?r:a}}function nd(e,a){Df(e,a),(e=e.alternate)&&Df(e,a)}function Mf(e){if(e.tag===13){var a=an(e,67108864);a!==null&&It(a,e,67108864),nd(e,67108864)}}var xl=!0;function Av(e,a,r,o){var d=B.T;B.T=null;var m=P.p;try{P.p=2,rd(e,a,r,o)}finally{P.p=m,B.T=d}}function Dv(e,a,r,o){var d=B.T;B.T=null;var m=P.p;try{P.p=8,rd(e,a,r,o)}finally{P.p=m,B.T=d}}function rd(e,a,r,o){if(xl){var d=id(o);if(d===null)Gc(e,a,o,yl,r),Lf(e,o);else if(Rv(d,e,a,r,o))o.stopPropagation();else if(Lf(e,o),a&4&&-1<Mv.indexOf(e)){for(;d!==null;){var m=$s(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=ys(m.pendingLanes);if(w!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var $=1<<31-bt(w);E.entanglements[1]|=$,w&=~$}fa(m),(Le&6)===0&&(tl=Pe()+500,Er(0))}}break;case 13:E=an(m,2),E!==null&&It(E,m,2),sl(),nd(m,2)}if(m=id(o),m===null&&Gc(e,a,o,yl,r),m===d)break;d=m}d!==null&&o.stopPropagation()}else Gc(e,a,o,null,r)}}function id(e){return e=uo(e),ld(e)}var yl=null;function ld(e){if(yl=null,e=qs(e),e!==null){var a=u(e);if(a===null)e=null;else{var r=a.tag;if(r===13){if(e=h(a),e!==null)return e;e=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return yl=e,null}function Rf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case Ie:return 2;case et:return 8;case na:case qt:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var od=!1,ls=null,os=null,cs=null,_r=new Map,zr=new Map,ds=[],Mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lf(e,a){switch(e){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":_r.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(a.pointerId)}}function Hr(e,a,r,o,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},a!==null&&(a=$s(a),a!==null&&Mf(a)),e):(e.eventSystemFlags|=o,a=e.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),e)}function Rv(e,a,r,o,d){switch(a){case"focusin":return ls=Hr(ls,e,a,r,o,d),!0;case"dragenter":return os=Hr(os,e,a,r,o,d),!0;case"mouseover":return cs=Hr(cs,e,a,r,o,d),!0;case"pointerover":var m=d.pointerId;return _r.set(m,Hr(_r.get(m)||null,e,a,r,o,d)),!0;case"gotpointercapture":return m=d.pointerId,zr.set(m,Hr(zr.get(m)||null,e,a,r,o,d)),!0}return!1}function Of(e){var a=qs(e.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=h(r),a!==null){e.blockedOn=a,Sy(e.priority,function(){if(r.tag===13){var o=Pt();o=Jl(o);var d=an(r,o);d!==null&&It(d,r,o),nd(r,o)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var r=id(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);co=o,r.target.dispatchEvent(o),co=null}else return a=$s(r),a!==null&&Mf(a),e.blockedOn=r,!1;a.shift()}return!0}function Bf(e,a,r){bl(e)&&r.delete(a)}function Lv(){od=!1,ls!==null&&bl(ls)&&(ls=null),os!==null&&bl(os)&&(os=null),cs!==null&&bl(cs)&&(cs=null),_r.forEach(Bf),zr.forEach(Bf)}function vl(e,a){e.blockedOn===a&&(e.blockedOn=null,od||(od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lv)))}var jl=null;function _f(e){jl!==e&&(jl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var a=0;a<e.length;a+=3){var r=e[a],o=e[a+1],d=e[a+2];if(typeof o!="function"){if(ld(o||r)===null)continue;break}var m=$s(r);m!==null&&(e.splice(a,3),a-=3,lc(m,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Vr(e){function a($){return vl($,e)}ls!==null&&vl(ls,e),os!==null&&vl(os,e),cs!==null&&vl(cs,e),_r.forEach(a),zr.forEach(a);for(var r=0;r<ds.length;r++){var o=ds[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ds.length&&(r=ds[0],r.blockedOn===null);)Of(r),r.blockedOn===null&&ds.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],w=d[Dt]||null;if(typeof m=="function")w||_f(r);else if(w){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,w=m[Dt]||null)E=w.formAction;else if(ld(d)!==null)continue}else E=w.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),_f(r)}}}function cd(e){this._internalRoot=e}wl.prototype.render=cd.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=Pt();Af(r,o,e,a,null,null)},wl.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Af(e.current,2,null,e,null,null),sl(),a[Is]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var a=Zu();e={blockedOn:null,target:e,priority:a};for(var r=0;r<ds.length&&a!==0&&a<ds[r].priority;r++);ds.splice(r,0,e),r===0&&Of(e)}};var zf=n.version;if(zf!=="19.1.1")throw Error(i(527,zf,"19.1.1"));P.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(a),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Ov={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Ge=kl.inject(Ov),ze=kl}catch{}}return Pr.createRoot=function(e,a){if(!c(e))throw Error(i(299));var r=!1,o="",d=Zm,m=Jm,w=e0,E=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks)),a=Tf(e,1,!1,null,null,r,o,d,m,w,E,null),e[Is]=a.current,Fc(e),new cd(a)},Pr.hydrateRoot=function(e,a,r){if(!c(e))throw Error(i(299));var o=!1,d="",m=Zm,w=Jm,E=e0,$=null,X=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&($=r.unstable_transitionCallbacks),r.formState!==void 0&&(X=r.formState)),a=Tf(e,1,!0,a,r??null,o,d,m,w,E,$,X),a.context=Ef(null),r=a.current,o=Pt(),o=Jl(o),d=Ya(o),d.callback=null,Wa(r,d,o),r=o,a.current.lanes=r,Fn(a,r),fa(a),e[Is]=a.current,Fc(e),new wl(a)},Pr.version="19.1.1",Pr}var Yf;function $v(){if(Yf)return hd.exports;Yf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),hd.exports=qv(),hd.exports}var Fv=$v();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wf="popstate";function Gv(s={}){function n(i,c){let{pathname:u,search:h,hash:p}=i.location;return Od("",{pathname:u,search:h,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(i,c){return typeof c=="string"?c:Qr(c)}return Wv(n,l,null,s)}function Ze(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function ba(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Yv(){return Math.random().toString(36).substring(2,10)}function Kf(s,n){return{usr:s.state,key:s.key,idx:n}}function Od(s,n,l=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?Vn(n):n,state:l,key:n&&n.key||i||Yv()}}function Qr({pathname:s="/",search:n="",hash:l=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function Vn(s){let n={};if(s){let l=s.indexOf("#");l>=0&&(n.hash=s.substring(l),s=s.substring(0,l));let i=s.indexOf("?");i>=0&&(n.search=s.substring(i),s=s.substring(0,i)),s&&(n.pathname=s)}return n}function Wv(s,n,l,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,h=c.history,p="POP",g=null,x=f();x==null&&(x=0,h.replaceState({...h.state,idx:x},""));function f(){return(h.state||{idx:null}).idx}function b(){p="POP";let R=f(),N=R==null?null:R-x;x=R,g&&g({action:p,location:T.location,delta:N})}function j(R,N){p="PUSH";let A=Od(T.location,R,N);x=f()+1;let H=Kf(A,x),C=T.createHref(A);try{h.pushState(H,"",C)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;c.location.assign(C)}u&&g&&g({action:p,location:T.location,delta:1})}function M(R,N){p="REPLACE";let A=Od(T.location,R,N);x=f();let H=Kf(A,x),C=T.createHref(A);h.replaceState(H,"",C),u&&g&&g({action:p,location:T.location,delta:0})}function O(R){return Kv(R)}let T={get action(){return p},get location(){return s(c,h)},listen(R){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Wf,b),g=R,()=>{c.removeEventListener(Wf,b),g=null}},createHref(R){return n(c,R)},createURL:O,encodeLocation(R){let N=O(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:j,replace:M,go(R){return h.go(R)}};return T}function Kv(s,n=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(l,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Qr(s);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=l+i),new URL(i,l)}function Np(s,n,l="/"){return Qv(s,n,l,!1)}function Qv(s,n,l,i){let c=typeof n=="string"?Vn(n):n,u=za(c.pathname||"/",l);if(u==null)return null;let h=Sp(s);Xv(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let x=o2(u);p=i2(h[g],x,i)}return p}function Sp(s,n=[],l=[],i="",c=!1){let u=(h,p,g=c,x)=>{let f={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&g)return;Ze(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let b=_a([i,f.relativePath]),j=l.concat(f);h.children&&h.children.length>0&&(Ze(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Sp(h.children,n,j,b,g)),!(h.path==null&&!h.index)&&n.push({path:b,score:n2(b,h.index),routesMeta:j})};return s.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of Cp(h.path))u(h,p,!0,g)}),n}function Cp(s){let n=s.split("/");if(n.length===0)return[];let[l,...i]=n,c=l.endsWith("?"),u=l.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let h=Cp(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),c&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function Xv(s){s.sort((n,l)=>n.score!==l.score?l.score-n.score:r2(n.routesMeta.map(i=>i.childrenIndex),l.routesMeta.map(i=>i.childrenIndex)))}var Zv=/^:[\w-]+$/,Jv=3,e2=2,t2=1,a2=10,s2=-2,Qf=s=>s==="*";function n2(s,n){let l=s.split("/"),i=l.length;return l.some(Qf)&&(i+=s2),n&&(i+=e2),l.filter(c=>!Qf(c)).reduce((c,u)=>c+(Zv.test(u)?Jv:u===""?t2:a2),i)}function r2(s,n){return s.length===n.length&&s.slice(0,-1).every((i,c)=>i===n[c])?s[s.length-1]-n[n.length-1]:0}function i2(s,n,l=!1){let{routesMeta:i}=s,c={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],x=p===i.length-1,f=u==="/"?n:n.slice(u.length)||"/",b=Vl({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},f),j=g.route;if(!b&&x&&l&&!i[i.length-1].route.index&&(b=Vl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},f)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:_a([u,b.pathname]),pathnameBase:h2(_a([u,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(u=_a([u,b.pathnameBase]))}return h}function Vl(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,i]=l2(s.path,s.caseSensitive,s.end),c=n.match(l);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:i.reduce((x,{paramName:f,isOptional:b},j)=>{if(f==="*"){let O=p[j]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const M=p[j];return b&&!M?x[f]=void 0:x[f]=(M||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:h,pattern:s}}function l2(s,n=!1,l=!0){ba(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),i]}function o2(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ba(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function za(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let l=n.endsWith("/")?n.length-1:n.length,i=s.charAt(l);return i&&i!=="/"?null:s.slice(l)||"/"}function c2(s,n="/"){let{pathname:l,search:i="",hash:c=""}=typeof s=="string"?Vn(s):s;return{pathname:l?l.startsWith("/")?l:d2(l,n):n,search:m2(i),hash:f2(c)}}function d2(s,n){let l=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function pd(s,n,l,i){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u2(s){return s.filter((n,l)=>l===0||n.route.path&&n.route.path.length>0)}function Tp(s){let n=u2(s);return n.map((l,i)=>i===n.length-1?l.pathname:l.pathnameBase)}function Ep(s,n,l,i=!1){let c;typeof s=="string"?c=Vn(s):(c={...s},Ze(!c.pathname||!c.pathname.includes("?"),pd("?","pathname","search",c)),Ze(!c.pathname||!c.pathname.includes("#"),pd("#","pathname","hash",c)),Ze(!c.search||!c.search.includes("#"),pd("#","search","hash",c)));let u=s===""||c.pathname==="",h=u?"/":c.pathname,p;if(h==null)p=l;else{let b=n.length-1;if(!i&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),b-=1;c.pathname=j.join("/")}p=b>=0?n[b]:"/"}let g=c2(c,p),x=h&&h!=="/"&&h.endsWith("/"),f=(u||h===".")&&l.endsWith("/");return!g.pathname.endsWith("/")&&(x||f)&&(g.pathname+="/"),g}var _a=s=>s.join("/").replace(/\/\/+/g,"/"),h2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),m2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,f2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function g2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Ap=["POST","PUT","PATCH","DELETE"];new Set(Ap);var p2=["GET",...Ap];new Set(p2);var Un=k.createContext(null);Un.displayName="DataRouter";var Gl=k.createContext(null);Gl.displayName="DataRouterState";k.createContext(!1);var Dp=k.createContext({isTransitioning:!1});Dp.displayName="ViewTransition";var x2=k.createContext(new Map);x2.displayName="Fetchers";var y2=k.createContext(null);y2.displayName="Await";var va=k.createContext(null);va.displayName="Navigation";var ni=k.createContext(null);ni.displayName="Location";var Ua=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var cu=k.createContext(null);cu.displayName="RouteError";function b2(s,{relative:n}={}){Ze(ri(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:i}=k.useContext(va),{hash:c,pathname:u,search:h}=li(s,{relative:n}),p=u;return l!=="/"&&(p=u==="/"?l:_a([l,u])),i.createHref({pathname:p,search:h,hash:c})}function ri(){return k.useContext(ni)!=null}function gs(){return Ze(ri(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ni).location}var Mp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rp(s){k.useContext(va).static||k.useLayoutEffect(s)}function ii(){let{isDataRoute:s}=k.useContext(Ua);return s?R2():v2()}function v2(){Ze(ri(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Un),{basename:n,navigator:l}=k.useContext(va),{matches:i}=k.useContext(Ua),{pathname:c}=gs(),u=JSON.stringify(Tp(i)),h=k.useRef(!1);return Rp(()=>{h.current=!0}),k.useCallback((g,x={})=>{if(ba(h.current,Mp),!h.current)return;if(typeof g=="number"){l.go(g);return}let f=Ep(g,JSON.parse(u),c,x.relative==="path");s==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:_a([n,f.pathname])),(x.replace?l.replace:l.push)(f,x.state,x)},[n,l,u,c,s])}k.createContext(null);function li(s,{relative:n}={}){let{matches:l}=k.useContext(Ua),{pathname:i}=gs(),c=JSON.stringify(Tp(l));return k.useMemo(()=>Ep(s,JSON.parse(c),i,n==="path"),[s,c,i,n])}function j2(s,n){return Lp(s,n)}function Lp(s,n,l,i,c){Ze(ri(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(va),{matches:h}=k.useContext(Ua),p=h[h.length-1],g=p?p.params:{},x=p?p.pathname:"/",f=p?p.pathnameBase:"/",b=p&&p.route;{let A=b&&b.path||"";Op(x,!b||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let j=gs(),M;if(n){let A=typeof n=="string"?Vn(n):n;Ze(f==="/"||A.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),M=A}else M=j;let O=M.pathname||"/",T=O;if(f!=="/"){let A=f.replace(/^\//,"").split("/");T="/"+O.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=Np(s,{pathname:T});ba(b||R!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ba(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=C2(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},g,A.params),pathname:_a([f,u.encodeLocation?u.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:_a([f,u.encodeLocation?u.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),h,l,i,c);return n&&N?k.createElement(ni.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},N):N}function w2(){let s=M2(),n=g2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},n),l?k.createElement("pre",{style:c},l):null,h)}var k2=k.createElement(w2,null),N2=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){this.props.unstable_onError?this.props.unstable_onError(s,n):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?k.createElement(Ua.Provider,{value:this.props.routeContext},k.createElement(cu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S2({routeContext:s,match:n,children:l}){let i=k.useContext(Un);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ua.Provider,{value:s},l)}function C2(s,n=[],l=null,i=null,c=null){if(s==null){if(!l)return null;if(l.errors)s=l.matches;else if(n.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let u=s,h=l?.errors;if(h!=null){let x=u.findIndex(f=>f.route.id&&h?.[f.route.id]!==void 0);Ze(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let p=!1,g=-1;if(l)for(let x=0;x<u.length;x++){let f=u[x];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(g=x),f.route.id){let{loaderData:b,errors:j}=l,M=f.route.loader&&!b.hasOwnProperty(f.route.id)&&(!j||j[f.route.id]===void 0);if(f.route.lazy||M){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((x,f,b)=>{let j,M=!1,O=null,T=null;l&&(j=h&&f.route.id?h[f.route.id]:void 0,O=f.route.errorElement||k2,p&&(g<0&&b===0?(Op("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,T=null):g===b&&(M=!0,T=f.route.hydrateFallbackElement||null)));let R=n.concat(u.slice(0,b+1)),N=()=>{let A;return j?A=O:M?A=T:f.route.Component?A=k.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=x,k.createElement(S2,{match:f,routeContext:{outlet:x,matches:R,isDataRoute:l!=null},children:A})};return l&&(f.route.ErrorBoundary||f.route.errorElement||b===0)?k.createElement(N2,{location:l.location,revalidation:l.revalidation,component:O,error:j,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:i}):N()},null)}function du(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T2(s){let n=k.useContext(Un);return Ze(n,du(s)),n}function E2(s){let n=k.useContext(Gl);return Ze(n,du(s)),n}function A2(s){let n=k.useContext(Ua);return Ze(n,du(s)),n}function uu(s){let n=A2(s),l=n.matches[n.matches.length-1];return Ze(l.route.id,`${s} can only be used on routes that contain a unique "id"`),l.route.id}function D2(){return uu("useRouteId")}function M2(){let s=k.useContext(cu),n=E2("useRouteError"),l=uu("useRouteError");return s!==void 0?s:n.errors?.[l]}function R2(){let{router:s}=T2("useNavigate"),n=uu("useNavigate"),l=k.useRef(!1);return Rp(()=>{l.current=!0}),k.useCallback(async(c,u={})=>{ba(l.current,Mp),l.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:n,...u}))},[s,n])}var Xf={};function Op(s,n,l){!n&&!Xf[s]&&(Xf[s]=!0,ba(!1,l))}k.memo(L2);function L2({routes:s,future:n,state:l,unstable_onError:i}){return Lp(s,void 0,l,i,n)}function yt(s){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:s="/",children:n=null,location:l,navigationType:i="POP",navigator:c,static:u=!1}){Ze(!ri(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:h,navigator:c,static:u,future:{}}),[h,c,u]);typeof l=="string"&&(l=Vn(l));let{pathname:g="/",search:x="",hash:f="",state:b=null,key:j="default"}=l,M=k.useMemo(()=>{let O=za(g,h);return O==null?null:{location:{pathname:O,search:x,hash:f,state:b,key:j},navigationType:i}},[h,g,x,f,b,j,i]);return ba(M!=null,`<Router basename="${h}"> is not able to match the URL "${g}${x}${f}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(va.Provider,{value:p},k.createElement(ni.Provider,{children:n,value:M}))}function B2({children:s,location:n}){return j2(Bd(s),n)}function Bd(s,n=[]){let l=[];return k.Children.forEach(s,(i,c)=>{if(!k.isValidElement(i))return;let u=[...n,c];if(i.type===k.Fragment){l.push.apply(l,Bd(i.props.children,u));return}Ze(i.type===yt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Bd(i.props.children,u)),l.push(h)}),l}var Rl="get",Ll="application/x-www-form-urlencoded";function Yl(s){return s!=null&&typeof s.tagName=="string"}function _2(s){return Yl(s)&&s.tagName.toLowerCase()==="button"}function z2(s){return Yl(s)&&s.tagName.toLowerCase()==="form"}function H2(s){return Yl(s)&&s.tagName.toLowerCase()==="input"}function V2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function U2(s,n){return s.button===0&&(!n||n==="_self")&&!V2(s)}var Sl=null;function P2(){if(Sl===null)try{new FormData(document.createElement("form"),0),Sl=!1}catch{Sl=!0}return Sl}var I2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(s){return s!=null&&!I2.has(s)?(ba(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ll}"`),null):s}function q2(s,n){let l,i,c,u,h;if(z2(s)){let p=s.getAttribute("action");i=p?za(p,n):null,l=s.getAttribute("method")||Rl,c=xd(s.getAttribute("enctype"))||Ll,u=new FormData(s)}else if(_2(s)||H2(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(i=g?za(g,n):null,l=s.getAttribute("formmethod")||p.getAttribute("method")||Rl,c=xd(s.getAttribute("formenctype"))||xd(p.getAttribute("enctype"))||Ll,u=new FormData(p,s),!P2()){let{name:x,type:f,value:b}=s;if(f==="image"){let j=x?`${x}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else x&&u.append(x,b)}}else{if(Yl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Rl,i=null,c=Ll,h=s}return u&&c==="text/plain"&&(h=u,u=void 0),{action:i,method:l.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hu(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function $2(s,n,l){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${l}`:n&&za(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${l}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${l}`,i}async function F2(s,n){if(s.id in n)return n[s.id];try{let l=await import(s.module);return n[s.id]=l,l}catch(l){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Y2(s,n,l){let i=await Promise.all(s.map(async c=>{let u=n.routes[c.route.id];if(u){let h=await F2(u,l);return h.links?h.links():[]}return[]}));return X2(i.flat(1).filter(G2).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Zf(s,n,l,i,c,u){let h=(g,x)=>l[x]?g.route.id!==l[x].route.id:!0,p=(g,x)=>l[x].pathname!==g.pathname||l[x].route.path?.endsWith("*")&&l[x].params["*"]!==g.params["*"];return u==="assets"?n.filter((g,x)=>h(g,x)||p(g,x)):u==="data"?n.filter((g,x)=>{let f=i.routes[g.route.id];if(!f||!f.hasLoader)return!1;if(h(g,x)||p(g,x))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function W2(s,n,{includeHydrateFallback:l}={}){return K2(s.map(i=>{let c=n.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function K2(s){return[...new Set(s)]}function Q2(s){let n={},l=Object.keys(s).sort();for(let i of l)n[i]=s[i];return n}function X2(s,n){let l=new Set;return new Set(n),s.reduce((i,c)=>{let u=JSON.stringify(Q2(c));return l.has(u)||(l.add(u),i.push({key:u,link:c})),i},[])}function Bp(){let s=k.useContext(Un);return hu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Z2(){let s=k.useContext(Gl);return hu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var mu=k.createContext(void 0);mu.displayName="FrameworkContext";function _p(){let s=k.useContext(mu);return hu(s,"You must render this element inside a <HydratedRouter> element"),s}function J2(s,n){let l=k.useContext(mu),[i,c]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:x,onMouseLeave:f,onTouchStart:b}=n,j=k.useRef(null);k.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let T=N=>{N.forEach(A=>{h(A.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return j.current&&R.observe(j.current),()=>{R.disconnect()}}},[s]),k.useEffect(()=>{if(i){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[i]);let M=()=>{c(!0)},O=()=>{c(!1),h(!1)};return l?s!=="intent"?[u,j,{}]:[u,j,{onFocus:Ir(p,M),onBlur:Ir(g,O),onMouseEnter:Ir(x,M),onMouseLeave:Ir(f,O),onTouchStart:Ir(b,M)}]:[!1,j,{}]}function Ir(s,n){return l=>{s&&s(l),l.defaultPrevented||n(l)}}function e1({page:s,...n}){let{router:l}=Bp(),i=k.useMemo(()=>Np(l.routes,s,l.basename),[l.routes,s,l.basename]);return i?k.createElement(a1,{page:s,matches:i,...n}):null}function t1(s){let{manifest:n,routeModules:l}=_p(),[i,c]=k.useState([]);return k.useEffect(()=>{let u=!1;return Y2(s,n,l).then(h=>{u||c(h)}),()=>{u=!0}},[s,n,l]),i}function a1({page:s,matches:n,...l}){let i=gs(),{manifest:c,routeModules:u}=_p(),{basename:h}=Bp(),{loaderData:p,matches:g}=Z2(),x=k.useMemo(()=>Zf(s,n,g,c,i,"data"),[s,n,g,c,i]),f=k.useMemo(()=>Zf(s,n,g,c,i,"assets"),[s,n,g,c,i]),b=k.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let O=new Set,T=!1;if(n.forEach(N=>{let A=c.routes[N.route.id];!A||!A.hasLoader||(!x.some(H=>H.route.id===N.route.id)&&N.route.id in p&&u[N.route.id]?.shouldRevalidate||A.hasClientLoader?T=!0:O.add(N.route.id))}),O.size===0)return[];let R=$2(s,h,"data");return T&&O.size>0&&R.searchParams.set("_routes",n.filter(N=>O.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[h,p,i,c,x,n,s,u]),j=k.useMemo(()=>W2(f,c),[f,c]),M=t1(f);return k.createElement(k.Fragment,null,b.map(O=>k.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...l})),j.map(O=>k.createElement("link",{key:O,rel:"modulepreload",href:O,...l})),M.map(({key:O,link:T})=>k.createElement("link",{key:O,nonce:l.nonce,...T})))}function s1(...s){return n=>{s.forEach(l=>{typeof l=="function"?l(n):l!=null&&(l.current=n)})}}var zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zp&&(window.__reactRouterVersion="7.9.1")}catch{}function n1({basename:s,children:n,window:l}){let i=k.useRef();i.current==null&&(i.current=Gv({window:l,v5Compat:!0}));let c=i.current,[u,h]=k.useState({action:c.action,location:c.location}),p=k.useCallback(g=>{k.startTransition(()=>h(g))},[h]);return k.useLayoutEffect(()=>c.listen(p),[c,p]),k.createElement(O2,{basename:s,children:n,location:u.location,navigationType:u.action,navigator:c})}var Hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vp=k.forwardRef(function({onClick:n,discover:l="render",prefetch:i="none",relative:c,reloadDocument:u,replace:h,state:p,target:g,to:x,preventScrollReset:f,viewTransition:b,...j},M){let{basename:O}=k.useContext(va),T=typeof x=="string"&&Hp.test(x),R,N=!1;if(typeof x=="string"&&T&&(R=x,zp))try{let v=new URL(window.location.href),L=x.startsWith("//")?new URL(v.protocol+x):new URL(x),S=za(L.pathname,O);L.origin===v.origin&&S!=null?x=S+L.search+L.hash:N=!0}catch{ba(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=b2(x,{relative:c}),[H,C,_]=J2(i,j),D=o1(x,{replace:h,state:p,target:g,preventScrollReset:f,relative:c,viewTransition:b});function U(v){n&&n(v),v.defaultPrevented||D(v)}let y=k.createElement("a",{...j,..._,href:R||A,onClick:N||u?n:U,ref:s1(M,C),target:g,"data-discover":!T&&l==="render"?"true":void 0});return H&&!T?k.createElement(k.Fragment,null,y,k.createElement(e1,{page:A})):y});Vp.displayName="Link";var r1=k.forwardRef(function({"aria-current":n="page",caseSensitive:l=!1,className:i="",end:c=!1,style:u,to:h,viewTransition:p,children:g,...x},f){let b=li(h,{relative:x.relative}),j=gs(),M=k.useContext(Gl),{navigator:O,basename:T}=k.useContext(va),R=M!=null&&m1(b)&&p===!0,N=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,A=j.pathname,H=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;l||(A=A.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&T&&(H=za(H,T)||H);const C=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=A===N||!c&&A.startsWith(N)&&A.charAt(C)==="/",D=H!=null&&(H===N||!c&&H.startsWith(N)&&H.charAt(N.length)==="/"),U={isActive:_,isPending:D,isTransitioning:R},y=_?n:void 0,v;typeof i=="function"?v=i(U):v=[i,_?"active":null,D?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(U):u;return k.createElement(Vp,{...x,"aria-current":y,className:v,ref:f,style:L,to:h,viewTransition:p},typeof g=="function"?g(U):g)});r1.displayName="NavLink";var i1=k.forwardRef(({discover:s="render",fetcherKey:n,navigate:l,reloadDocument:i,replace:c,state:u,method:h=Rl,action:p,onSubmit:g,relative:x,preventScrollReset:f,viewTransition:b,...j},M)=>{let O=u1(),T=h1(p,{relative:x}),R=h.toLowerCase()==="get"?"get":"post",N=typeof p=="string"&&Hp.test(p),A=H=>{if(g&&g(H),H.defaultPrevented)return;H.preventDefault();let C=H.nativeEvent.submitter,_=C?.getAttribute("formmethod")||h;O(C||H.currentTarget,{fetcherKey:n,method:_,navigate:l,replace:c,state:u,relative:x,preventScrollReset:f,viewTransition:b})};return k.createElement("form",{ref:M,method:R,action:T,onSubmit:i?g:A,...j,"data-discover":!N&&s==="render"?"true":void 0})});i1.displayName="Form";function l1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Up(s){let n=k.useContext(Un);return Ze(n,l1(s)),n}function o1(s,{target:n,replace:l,state:i,preventScrollReset:c,relative:u,viewTransition:h}={}){let p=ii(),g=gs(),x=li(s,{relative:u});return k.useCallback(f=>{if(U2(f,n)){f.preventDefault();let b=l!==void 0?l:Qr(g)===Qr(x);p(s,{replace:b,state:i,preventScrollReset:c,relative:u,viewTransition:h})}},[g,p,x,l,i,n,s,c,u,h])}var c1=0,d1=()=>`__${String(++c1)}__`;function u1(){let{router:s}=Up("useSubmit"),{basename:n}=k.useContext(va),l=D2();return k.useCallback(async(i,c={})=>{let{action:u,method:h,encType:p,formData:g,body:x}=q2(i,n);if(c.navigate===!1){let f=c.fetcherKey||d1();await s.fetch(f,l,c.action||u,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await s.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,n,l])}function h1(s,{relative:n}={}){let{basename:l}=k.useContext(va),i=k.useContext(Ua);Ze(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...li(s||".",{relative:n})},h=gs();if(s==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(f=>f==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let f=p.toString();u.search=f?`?${f}`:""}}return(!s||s===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(u.pathname=u.pathname==="/"?l:_a([l,u.pathname])),Qr(u)}function m1(s,{relative:n}={}){let l=k.useContext(Dp);Ze(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Up("useViewTransitionState"),c=li(s,{relative:n});if(!l.isTransitioning)return!1;let u=za(l.currentLocation.pathname,i)||l.currentLocation.pathname,h=za(l.nextLocation.pathname,i)||l.nextLocation.pathname;return Vl(c.pathname,h)!=null||Vl(c.pathname,u)!=null}const Jf=s=>{let n;const l=new Set,i=(x,f)=>{const b=typeof x=="function"?x(n):x;if(!Object.is(b,n)){const j=n;n=f??(typeof b!="object"||b===null)?b:Object.assign({},n,b),l.forEach(M=>M(n,j))}},c=()=>n,p={setState:i,getState:c,getInitialState:()=>g,subscribe:x=>(l.add(x),()=>l.delete(x))},g=n=s(i,c,p);return p},f1=(s=>s?Jf(s):Jf),g1=s=>s;function p1(s,n=g1){const l=Nl.useSyncExternalStore(s.subscribe,Nl.useCallback(()=>n(s.getState()),[s,n]),Nl.useCallback(()=>n(s.getInitialState()),[s,n]));return Nl.useDebugValue(l),l}const eg=s=>{const n=f1(s),l=i=>p1(n,i);return Object.assign(l,n),l},x1=(s=>s?eg(s):eg),tg={BASE_URL:"/Todo-App/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Xr=new Map,Cl=s=>{const n=Xr.get(s);return n?Object.fromEntries(Object.entries(n.stores).map(([l,i])=>[l,i.getState()])):{}},y1=(s,n,l)=>{if(s===void 0)return{type:"untracked",connection:n.connect(l)};const i=Xr.get(l.name);if(i)return{type:"tracked",store:s,...i};const c={connection:n.connect(l),stores:{}};return Xr.set(l.name,c),{type:"tracked",store:s,...c}},b1=(s,n)=>{if(n===void 0)return;const l=Xr.get(s);l&&(delete l.stores[n],Object.keys(l.stores).length===0&&Xr.delete(s))},v1=s=>{var n,l;if(!s)return;const i=s.split(`
`),c=i.findIndex(h=>h.includes("api.setState"));if(c<0)return;const u=((n=i[c+1])==null?void 0:n.trim())||"";return(l=/.+ (.+) .+/.exec(u))==null?void 0:l[1]},j1=(s,n={})=>(l,i,c)=>{const{enabled:u,anonymousActionType:h,store:p,...g}=n;let x;try{x=(u??(tg?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!x)return s(l,i,c);const{connection:f,...b}=y1(p,x,g);let j=!0;c.setState=((T,R,N)=>{const A=l(T,R);if(!j)return A;const H=N===void 0?{type:h||v1(new Error().stack)||"anonymous"}:typeof N=="string"?{type:N}:N;return p===void 0?(f?.send(H,i()),A):(f?.send({...H,type:`${p}/${H.type}`},{...Cl(g.name),[p]:c.getState()}),A)}),c.devtools={cleanup:()=>{f&&typeof f.unsubscribe=="function"&&f.unsubscribe(),b1(g.name,p)}};const M=(...T)=>{const R=j;j=!1,l(...T),j=R},O=s(c.setState,i,c);if(b.type==="untracked"?f?.init(O):(b.stores[b.store]=c,f?.init(Object.fromEntries(Object.entries(b.stores).map(([T,R])=>[T,T===b.store?O:R.getState()])))),c.dispatchFromDevtools&&typeof c.dispatch=="function"){let T=!1;const R=c.dispatch;c.dispatch=(...N)=>{(tg?"production":void 0)!=="production"&&N[0].type==="__setState"&&!T&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),T=!0),R(...N)}}return f.subscribe(T=>{var R;switch(T.type){case"ACTION":if(typeof T.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return yd(T.payload,N=>{if(N.type==="__setState"){if(p===void 0){M(N.state);return}Object.keys(N.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const A=N.state[p];if(A==null)return;JSON.stringify(c.getState())!==JSON.stringify(A)&&M(A);return}c.dispatchFromDevtools&&typeof c.dispatch=="function"&&c.dispatch(N)});case"DISPATCH":switch(T.payload.type){case"RESET":return M(O),p===void 0?f?.init(c.getState()):f?.init(Cl(g.name));case"COMMIT":if(p===void 0){f?.init(c.getState());return}return f?.init(Cl(g.name));case"ROLLBACK":return yd(T.state,N=>{if(p===void 0){M(N),f?.init(c.getState());return}M(N[p]),f?.init(Cl(g.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return yd(T.state,N=>{if(p===void 0){M(N);return}JSON.stringify(c.getState())!==JSON.stringify(N[p])&&M(N[p])});case"IMPORT_STATE":{const{nextLiftedState:N}=T.payload,A=(R=N.computedStates.slice(-1)[0])==null?void 0:R.state;if(!A)return;M(p===void 0?A:A[p]),f?.send(null,N);return}case"PAUSE_RECORDING":return j=!j}return}}),O},w1=j1,yd=(s,n)=>{let l;try{l=JSON.parse(s)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}l!==void 0&&n(l)},k1=s=>(n,l,i)=>{const c=i.subscribe;return i.subscribe=((h,p,g)=>{let x=h;if(p){const f=g?.equalityFn||Object.is;let b=h(i.getState());x=j=>{const M=h(j);if(!f(b,M)){const O=b;p(b=M,O)}},g?.fireImmediately&&p(b,b)}return c(x)}),s(n,l,i)},N1=k1;function S1(s,n){let l;try{l=s()}catch{return}return{getItem:c=>{var u;const h=g=>g===null?null:JSON.parse(g,void 0),p=(u=l.getItem(c))!=null?u:null;return p instanceof Promise?p.then(h):h(p)},setItem:(c,u)=>l.setItem(c,JSON.stringify(u,void 0)),removeItem:c=>l.removeItem(c)}}const _d=s=>n=>{try{const l=s(n);return l instanceof Promise?l:{then(i){return _d(i)(l)},catch(i){return this}}}catch(l){return{then(i){return this},catch(i){return _d(i)(l)}}}},C1=(s,n)=>(l,i,c)=>{let u={storage:S1(()=>localStorage),partialize:T=>T,version:0,merge:(T,R)=>({...R,...T}),...n},h=!1;const p=new Set,g=new Set;let x=u.storage;if(!x)return s((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),l(...T)},i,c);const f=()=>{const T=u.partialize({...i()});return x.setItem(u.name,{state:T,version:u.version})},b=c.setState;c.setState=(T,R)=>(b(T,R),f());const j=s((...T)=>(l(...T),f()),i,c);c.getInitialState=()=>j;let M;const O=()=>{var T,R;if(!x)return;h=!1,p.forEach(A=>{var H;return A((H=i())!=null?H:j)});const N=((R=u.onRehydrateStorage)==null?void 0:R.call(u,(T=i())!=null?T:j))||void 0;return _d(x.getItem.bind(x))(u.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==u.version){if(u.migrate){const H=u.migrate(A.state,A.version);return H instanceof Promise?H.then(C=>[!0,C]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var H;const[C,_]=A;if(M=u.merge(_,(H=i())!=null?H:j),l(M,!0),C)return f()}).then(()=>{N?.(M,void 0),M=i(),h=!0,g.forEach(A=>A(M))}).catch(A=>{N?.(void 0,A)})};return c.persist={setOptions:T=>{u={...u,...T},T.storage&&(x=T.storage)},clearStorage:()=>{x?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>O(),hasHydrated:()=>h,onHydrate:T=>(p.add(T),()=>{p.delete(T)}),onFinishHydration:T=>(g.add(T),()=>{g.delete(T)})},u.skipHydration||O(),M||j},T1=C1;class E1{constructor(){this.prefix="todo_"}async get(n){try{const l=localStorage.getItem(this.prefix+n);return l?JSON.parse(l):null}catch(l){return console.error(`Error getting ${n} from localStorage:`,l),null}}async set(n,l){try{return localStorage.setItem(this.prefix+n,JSON.stringify(l)),!0}catch(i){return console.error(`Error setting ${n} in localStorage:`,i),i.name==="QuotaExceededError"&&this.handleQuotaExceeded(),!1}}async remove(n){try{return localStorage.removeItem(this.prefix+n),!0}catch(l){return console.error(`Error removing ${n} from localStorage:`,l),!1}}async clear(){try{const n=Object.keys(localStorage);for(const l of n)l.startsWith(this.prefix)&&localStorage.removeItem(l);return!0}catch(n){return console.error("Error clearing localStorage:",n),!1}}async getBatch(n){const l={};for(const i of n)l[i]=await this.get(i);return l}async setBatch(n){const l={};for(const[i,c]of Object.entries(n))l[i]=await this.set(i,c);return l}handleQuotaExceeded(){console.warn("localStorage quota exceeded, cleaning up...");try{const n=JSON.parse(localStorage.getItem(this.prefix+"tasks")||"[]"),l=new Date;l.setDate(l.getDate()-30);const i=n.filter(c=>c.completed&&c.completedDate?new Date(c.completedDate)>l:!0);localStorage.setItem(this.prefix+"tasks",JSON.stringify(i)),console.log(`Cleaned up ${n.length-i.length} old tasks`)}catch(n){console.error("Error during cleanup:",n)}}async getStorageInfo(){if("storage"in navigator&&"estimate"in navigator.storage){const l=await navigator.storage.estimate();return{usage:l.usage,quota:l.quota,percentUsed:l.usage/l.quota*100}}const n=new Blob(Object.values(localStorage)).size;return{usage:n,quota:5242880,percentUsed:n/5242880*100}}}class A1{constructor(){this.storage=chrome.storage.local}async get(n){return new Promise(l=>{this.storage.get([n],i=>{chrome.runtime.lastError?(console.error(`Error getting ${n}:`,chrome.runtime.lastError),l(null)):l(i[n]||null)})})}async set(n,l){return new Promise(i=>{this.storage.set({[n]:l},()=>{chrome.runtime.lastError?(console.error(`Error setting ${n}:`,chrome.runtime.lastError),i(!1)):i(!0)})})}async remove(n){return new Promise(l=>{this.storage.remove(n,()=>{chrome.runtime.lastError?(console.error(`Error removing ${n}:`,chrome.runtime.lastError),l(!1)):l(!0)})})}async clear(){return new Promise(n=>{this.storage.clear(()=>{chrome.runtime.lastError?(console.error("Error clearing storage:",chrome.runtime.lastError),n(!1)):n(!0)})})}async getBatch(n){return new Promise(l=>{this.storage.get(n,i=>{chrome.runtime.lastError?(console.error("Error getting batch:",chrome.runtime.lastError),l({})):l(i)})})}async setBatch(n){return new Promise(l=>{this.storage.set(n,()=>{chrome.runtime.lastError?(console.error("Error setting batch:",chrome.runtime.lastError),l(!1)):l(!0)})})}async getStorageInfo(){return new Promise(n=>{this.storage.getBytesInUse(null,l=>{const i=chrome.storage.local.QUOTA_BYTES||5242880;n({usage:l,quota:i,percentUsed:l/i*100})})})}addListener(n){chrome.storage.onChanged.addListener((l,i)=>{if(i==="local"){const c={};for(const[u,h]of Object.entries(l))c[u]={oldValue:h.oldValue,newValue:h.newValue};n(c)}})}}class D1{constructor(){this.provider=this.detectProvider(),this.cache=new Map,this.listeners=new Map}detectProvider(){return typeof chrome<"u"&&chrome.storage&&chrome.storage.local?(console.log("Storage: Using Chrome Extension storage"),new A1):(console.log("Storage: Using localStorage"),new E1)}async get(n){if(this.cache.has(n))return this.cache.get(n);const l=await this.provider.get(n);return this.cache.set(n,l),l}async set(n,l){this.cache.set(n,l),await this.provider.set(n,l),this.notifyListeners(n,l),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SYNC_DATA",key:n,value:l})}async remove(n){this.cache.delete(n),await this.provider.remove(n),this.notifyListeners(n,null)}async clear(){this.cache.clear(),await this.provider.clear()}subscribe(n,l){return this.listeners.has(n)||this.listeners.set(n,new Set),this.listeners.get(n).add(l),()=>{const i=this.listeners.get(n);i&&i.delete(l)}}notifyListeners(n,l){const i=this.listeners.get(n);i&&i.forEach(c=>c(l))}async getBatch(n){const l={},i=[];for(const c of n)this.cache.has(c)?l[c]=this.cache.get(c):i.push(c);if(i.length>0){const c=await this.provider.getBatch(i);Object.assign(l,c);for(const[u,h]of Object.entries(c))this.cache.set(u,h)}return l}async setBatch(n){for(const[l,i]of Object.entries(n))this.cache.set(l,i),this.notifyListeners(l,i);await this.provider.setBatch(n)}async migrate(n){console.log("Starting data migration...");const l={tasks:"tasks",expenses:"expenses",notes:"notes",habits:"habits",habitHistory:"habitHistory",meals:"meals",callReminders:"callReminders",completedCallReminders:"completedCallReminders",bucketList:"bucketList",journalEntries:"journalEntries",userSheetId:"userSheetId",googleAccessToken:"googleAccessToken",tokenExpiry:"tokenExpiry",userEmail:"userEmail",darkMode:"darkMode",expenseBudget:"expenseBudget",dismissedBudgetAlerts:"dismissedBudgetAlerts",habitReminders:"habitReminders",journalDraft:"journalDraft",userSheetUrl:"userSheetUrl",voiceNotes:"voiceNotes",smartWidgetSettings:"smartWidgetSettings",aiInsightsSettings:"aiInsightsSettings",streakData:"streakData",quotes:"quotes",pendingChanges:"pendingChanges"},i={};for(const[c,u]of Object.entries(l))if(n[c])try{const h=typeof n[c]=="string"?JSON.parse(n[c]):n[c];await this.set(u,h),i[u]=!0,console.log(`Migrated ${c} → ${u}`)}catch(h){console.error(`Failed to migrate ${c}:`,h)}return await this.set("migrationCompleted",{timestamp:new Date().toISOString(),version:"2.0.0",migratedKeys:Object.keys(i)}),console.log("Migration completed successfully"),i}async needsMigration(){const n=await this.get("migrationCompleted");return typeof localStorage<"u"?localStorage.getItem("tasks")!==null&&!n:!1}}const En={CLIENT_ID:"995916217406-3o8864q7ikdgjsrqr95qhgg0k25kuub7.apps.googleusercontent.com",API_KEY:"AIzaSyDcNSfA1rOQxCZ9Drm7vYosb4ewPZyzBpo",DISCOVERY_DOCS:["https://sheets.googleapis.com/$discovery/rest?version=v4"],SCOPES:"https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.file",APP_NAME:"LIFE",SHEET_NAME:"LIFE Data"};class M1{constructor(){this.gapi=null,this.google=null,this.client=null,this.accessToken=null,this.isSignedIn=!1,this.currentUser=null,this.sheetId=null,this.initializationPromise=null}async initialize(){return this.initializationPromise?this.initializationPromise:(this.initializationPromise=this._initializeServices(),this.initializationPromise)}async _initializeServices(){return new Promise((n,l)=>{if(typeof window.gapi>"u"){const i=document.createElement("script");i.src="https://apis.google.com/js/api.js",i.onload=()=>{this._loadGoogleIdentityServices(n,l)},i.onerror=()=>l(new Error("Failed to load Google API")),document.head.appendChild(i)}else this._loadGoogleIdentityServices(n,l)})}_loadGoogleIdentityServices(n,l){if(typeof window.google>"u"){const i=document.createElement("script");i.src="https://accounts.google.com/gsi/client",i.onload=()=>{this._initializeGoogleAPI(n,l)},i.onerror=()=>l(new Error("Failed to load Google Identity Services")),document.head.appendChild(i)}else this._initializeGoogleAPI(n,l)}_initializeGoogleAPI(n,l){this.gapi=window.gapi,this.google=window.google,this.gapi.load("client",async()=>{try{await this.gapi.client.init({apiKey:En.API_KEY,discoveryDocs:En.DISCOVERY_DOCS}),console.log("Google API client initialized");try{this._initializeGISClient()}catch(i){console.warn("Google Identity Services initialization failed:",i)}try{this._checkExistingAuth()}catch(i){console.warn("Existing auth check failed:",i)}n(!0)}catch(i){console.error("Failed to initialize Google API client:",i),console.warn("App will work in offline mode"),n(!1)}})}_initializeGISClient(){if(!this.google?.accounts?.oauth2)throw new Error("Google Identity Services not available");this.client=this.google.accounts.oauth2.initTokenClient({client_id:En.CLIENT_ID,scope:En.SCOPES,callback:n=>{this._handleAuthResponse(n)}}),console.log("Google Identity Services client initialized")}_checkExistingAuth(){const n=localStorage.getItem("googleAccessToken"),l=localStorage.getItem("tokenExpiry"),i=localStorage.getItem("userEmail"),c=localStorage.getItem("sheetId");n&&l&&Date.now()<parseInt(l)&&(this.accessToken=n,this.isSignedIn=!0,this.currentUser={email:i},this.sheetId=c,this.gapi.client.setToken({access_token:this.accessToken}),console.log("Restored existing Google authentication"),this._notifyAuthStateChange())}async signIn(){if(!this.client)throw new Error("Google client not initialized");return new Promise((n,l)=>{this.signInResolve=n,this.signInReject=l,this.client.requestAccessToken()})}async _handleAuthResponse(n){if(n.error){console.error("Authentication error:",n.error),this.signInReject&&this.signInReject(new Error(n.error));return}this.accessToken=n.access_token,this.isSignedIn=!0;const l=Date.now()+3600*1e3;localStorage.setItem("googleAccessToken",this.accessToken),localStorage.setItem("tokenExpiry",l.toString()),this.gapi?.client?.setToken&&this.gapi.client.setToken({access_token:this.accessToken});try{const i=await fetch("https://www.googleapis.com/oauth2/v2/userinfo",{headers:{Authorization:`Bearer ${this.accessToken}`}});i.ok?(this.currentUser=await i.json(),localStorage.setItem("userEmail",this.currentUser.email),console.log("User authenticated:",this.currentUser.email)):console.warn("Failed to get user info, but continuing with authentication");try{await this._setupSheet()}catch(c){console.error("Error setting up sheet:",c),console.warn("Google Sheets sync disabled - data will be stored locally only")}this._notifyAuthStateChange(),this.signInResolve&&this.signInResolve(this.currentUser)}catch(i){console.error("Error during authentication setup:",i),this.accessToken?(this._notifyAuthStateChange(),this.signInResolve&&this.signInResolve({email:"unknown@gmail.com"})):this.signInReject&&this.signInReject(i)}}async signOut(){localStorage.removeItem("googleAccessToken"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("userEmail"),localStorage.removeItem("sheetId"),this.accessToken=null,this.isSignedIn=!1,this.currentUser=null,this.sheetId=null,this.gapi?.client&&this.gapi.client.setToken(null),console.log("User signed out"),this._notifyAuthStateChange()}async _setupSheet(){try{await this.gapi.client.load("drive","v3");const n=await this.gapi.client.drive.files.list({q:`name='${En.SHEET_NAME}' and mimeType='application/vnd.google-apps.spreadsheet' and trashed=false`,fields:"files(id, name)"});n.result.files&&n.result.files.length>0?(this.sheetId=n.result.files[0].id,localStorage.setItem("sheetId",this.sheetId),console.log("Found existing sheet:",this.sheetId),await this._ensureSheetStructure()):await this._createNewSheet()}catch(n){throw console.error("Error setting up sheet:",n),n}}async _createNewSheet(){try{const n=await this.gapi.client.sheets.spreadsheets.create({properties:{title:En.SHEET_NAME},sheets:[{properties:{title:"Tasks"}},{properties:{title:"Expenses"}},{properties:{title:"Notes"}},{properties:{title:"Habits"}},{properties:{title:"Meals"}},{properties:{title:"Reminders"}},{properties:{title:"Journal"}},{properties:{title:"BucketList"}},{properties:{title:"Quotes"}}]});this.sheetId=n.result.spreadsheetId,localStorage.setItem("sheetId",this.sheetId),await this._initializeSheetHeaders(),console.log("Created new sheet:",this.sheetId);const l=`https://docs.google.com/spreadsheets/d/${this.sheetId}`;console.log("Sheet URL:",l)}catch(n){throw console.error("Error creating new sheet:",n),n}}async _initializeSheetHeaders(){const n=[{range:"Tasks!A1:F1",values:[["ID","Text","Completed","Date","Priority","CreatedAt"]]},{range:"Expenses!A1:F1",values:[["ID","Description","Amount","Category","Date","CreatedAt"]]},{range:"Notes!A1:F1",values:[["ID","Title","Content","Folder","Tags","CreatedAt"]]},{range:"Habits!A1:F1",values:[["ID","Name","Description","Color","Streak","CreatedAt"]]},{range:"Meals!A1:F1",values:[["ID","Name","Calories","Date","Type","CreatedAt"]]},{range:"Reminders!A1:F1",values:[["ID","Person","Phone","Date","Note","CreatedAt"]]},{range:"Journal!A1:F1",values:[["ID","Date","Mood","Entry","Gratitude","CreatedAt"]]},{range:"BucketList!A1:F1",values:[["ID","Title","Description","Status","Category","CreatedAt"]]},{range:"Quotes!A1:D1",values:[["ID","Text","Author","CreatedAt"]]}];for(const l of n)await this.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:this.sheetId,range:l.range,valueInputOption:"RAW",resource:{values:l.values}})}async _ensureSheetStructure(){try{const l=(await this.gapi.client.sheets.spreadsheets.get({spreadsheetId:this.sheetId})).result.sheets.map(u=>u.properties.title),c=["Tasks","Expenses","Notes","Habits","Meals","Reminders","Journal","BucketList","Quotes"].filter(u=>!l.includes(u));if(c.length>0){const u=c.map(h=>({addSheet:{properties:{title:h}}}));await this.gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:this.sheetId,resource:{requests:u}}),await this._initializeSheetHeaders()}}catch(n){console.error("Error ensuring sheet structure:",n)}}async syncDataToSheet(n,l,i){if(!this.isSignedIn||!this.sheetId)return console.warn("Not authenticated or no sheet ID"),!1;try{if(await this.gapi.client.sheets.spreadsheets.values.clear({spreadsheetId:this.sheetId,range:`${n}!A2:Z`}),l.length===0)return!0;const c=l.map(u=>i.map(h=>{const p=u[h.key];return typeof p=="object"?JSON.stringify(p):p||""}));return await this.gapi.client.sheets.spreadsheets.values.update({spreadsheetId:this.sheetId,range:`${n}!A2`,valueInputOption:"RAW",resource:{values:c}}),console.log(`✅ Synced ${l.length} items to ${n}`),!0}catch(c){return console.error(`Error syncing to ${n}:`,c),!1}}async loadDataFromSheet(n,l){if(!this.isSignedIn||!this.sheetId)return console.warn("Not authenticated or no sheet ID"),[];try{const u=((await this.gapi.client.sheets.spreadsheets.values.get({spreadsheetId:this.sheetId,range:`${n}!A2:Z`})).result.values||[]).map(h=>{const p={};return l.forEach((g,x)=>{let f=h[x]||"";if(g.type==="object"&&f)try{f=JSON.parse(f)}catch{}p[g.key]=f}),p}).filter(h=>h.id);return console.log(`✅ Loaded ${u.length} items from ${n}`),u}catch(i){return console.error(`Error loading from ${n}:`,i),[]}}_notifyAuthStateChange(){const n=new CustomEvent("googleAuthStateChange",{detail:{isSignedIn:this.isSignedIn,user:this.currentUser,sheetId:this.sheetId}});window.dispatchEvent(n)}getAuthState(){return{isSignedIn:this.isSignedIn,user:this.currentUser,sheetId:this.sheetId}}getSheetUrl(){return this.sheetId?`https://docs.google.com/spreadsheets/d/${this.sheetId}`:null}}const ga=new M1,de=new D1,Ke=x1(w1(N1(T1((s,n)=>({tasks:[],expenses:[],notes:[],habits:[],habitHistory:{},meals:[],callReminders:[],completedCallReminders:[],bucketList:[],visionBoard:[],journalEntries:[],quotes:[],streakData:{},alarms:[],movies:[],currentDate:new Date,currentView:"dashboard",darkMode:!1,isLoading:!1,syncStatus:"idle",isAuthenticated:!1,userEmail:null,sheetId:null,sheetUrl:null,lastSyncTime:null,pendingChanges:[],initialize:async()=>{s({isLoading:!0});try{const[l,i,c,u,h,p,g,x,f,b,j,M,O,T,R,N,A]=await Promise.all([de.get("tasks"),de.get("expenses"),de.get("notes"),de.get("habits"),de.get("habitHistory"),de.get("meals"),de.get("callReminders"),de.get("completedCallReminders"),de.get("bucketList"),de.get("visionBoard"),de.get("journalEntries"),de.get("quotes"),de.get("streakData"),de.get("darkMode"),de.get("userEmail"),de.get("userSheetId"),de.get("userSheetUrl")]);s({tasks:l||[],expenses:i||[],notes:c||[],habits:u||[],habitHistory:h||{},meals:p||[],callReminders:g||[],completedCallReminders:x||[],bucketList:f||[],visionBoard:b||[],journalEntries:j||[],quotes:M||[],streakData:O||{},darkMode:T==="enabled",userEmail:R,sheetId:N,sheetUrl:A,isLoading:!1}),await de.needsMigration()&&await n().migrateFromLegacy(),n().initializeGoogleSheets(),n().setupNetworkHandlers(),n().checkAndPerformRollover(),R&&N&&s({isAuthenticated:!0,userEmail:R,sheetId:N,sheetUrl:A})}catch(l){console.error("Failed to initialize app:",l),s({isLoading:!1})}},addTask:async l=>{const i=typeof l=="string",c=new Date().toISOString().split("T")[0],u={id:Date.now().toString(),text:i?l:l.text,date:i?c:l.date||c,time:i?null:l.time,priority:i?"medium":l.priority||"medium",duration:i?null:l.duration,location:i?null:l.location,tags:i?[]:l.tags||[],category:i?null:l.category,completed:!1,createdAt:new Date().toISOString()},h=[...n().tasks,u];return s({tasks:h}),await de.set("tasks",h),n().queuePendingChange("tasks",u),u},updateTask:async(l,i)=>{const c=n().tasks.map(u=>u.id===l?{...u,...i}:u);s({tasks:c}),await de.set("tasks",c),n().queuePendingChange("tasks",{id:l,...i})},deleteTask:async l=>{const i=n().tasks.filter(c=>c.id!==l);s({tasks:i}),await de.set("tasks",i),n().queuePendingChange("tasks",{id:l,deleted:!0})},toggleTask:async l=>{const i=n().tasks.find(u=>u.id===l);if(!i)return;const c={completed:!i.completed,completedDate:i.completed?null:new Date().toISOString()};await n().updateTask(l,c)},checkAndPerformRollover:async()=>{const l=new Date().toISOString().split("T")[0];await de.get("lastRolloverDate")!==l&&(await n().performDailyRollover(),await de.set("lastRolloverDate",l))},performDailyRollover:async()=>{const l=new Date;l.setDate(l.getDate()-1);const i=l.toISOString().split("T")[0],c=n().tasks;if(c.filter(p=>p.date===i).filter(p=>!p.completed).length>0){const p=c.map(g=>g.date===i&&!g.completed?{...g,notDone:!0}:g);s({tasks:p}),await de.set("tasks",p),n().isAuthenticated&&n().sheetId&&n().syncToSheets()}},addExpense:async l=>{const i={id:Date.now().toString(),...l,date:l.date||new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()},c=[...n().expenses,i];return s({expenses:c}),await de.set("expenses",c),n().queuePendingChange("expenses",i),i},updateExpense:async(l,i)=>{const c=n().expenses.map(u=>u.id===l?{...u,...i}:u);s({expenses:c}),await de.set("expenses",c),n().queuePendingChange("expenses",{id:l,...i})},deleteExpense:async l=>{const i=n().expenses.filter(c=>c.id!==l);s({expenses:i}),await de.set("expenses",i),n().queuePendingChange("expenses",{id:l,deleted:!0})},budget:null,budgetAlerts:[],setBudget:async l=>{s({budget:l}),await de.set("expenseBudget",l)},addHabit:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString()},c=[...n().habits,i];return s({habits:c}),await de.set("habits",c),n().queuePendingChange("habits",i),i},updateHabit:async(l,i)=>{const c=n().habits.map(u=>u.id===l?{...u,...i}:u);s({habits:c}),await de.set("habits",c),n().queuePendingChange("habits",{id:l,...i})},deleteHabit:async l=>{const i=n().habits.filter(u=>u.id!==l),c={...n().habitHistory};delete c[l],s({habits:i,habitHistory:c}),await de.set("habits",i),await de.set("habitHistory",c),n().queuePendingChange("habits",{id:l,deleted:!0})},toggleHabitDay:async(l,i)=>{const c={...n().habitHistory};c[l]||(c[l]={}),c[l][i]?delete c[l][i]:c[l][i]=!0,s({habitHistory:c}),await de.set("habitHistory",c),n().queuePendingChange("habitHistory",{habitId:l,date:i,value:c[l][i]})},addMeal:async l=>{const i={id:Date.now().toString(),...l,date:l.date||new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()},c=[...n().meals,i];return s({meals:c}),await de.set("meals",c),n().queuePendingChange("meals",i),i},updateMeal:async(l,i)=>{const c=n().meals.map(u=>u.id===l?{...u,...i}:u);s({meals:c}),await de.set("meals",c),n().queuePendingChange("meals",{id:l,...i})},deleteMeal:async l=>{const i=n().meals.filter(c=>c.id!==l);s({meals:i}),await de.set("meals",i),n().queuePendingChange("meals",{id:l,deleted:!0})},addCallReminder:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString()},c=[...n().callReminders,i];return s({callReminders:c}),await de.set("callReminders",c),n().queuePendingChange("callReminders",i),i},updateCallReminder:async(l,i)=>{const c=n().callReminders.map(u=>u.id===l?{...u,...i}:u);s({callReminders:c}),await de.set("callReminders",c),n().queuePendingChange("callReminders",{id:l,...i})},deleteCallReminder:async l=>{const i=n().callReminders.filter(c=>c.id!==l);s({callReminders:i}),await de.set("callReminders",i),n().queuePendingChange("callReminders",{id:l,deleted:!0})},completeCallReminder:async l=>{const i=n().callReminders.find(p=>p.id===l);if(!i)return;const c={...i,completedDate:new Date().toISOString()},u=n().callReminders.filter(p=>p.id!==l),h=[...n().completedCallReminders,c];s({callReminders:u,completedCallReminders:h}),await de.set("callReminders",u),await de.set("completedCallReminders",h),n().queuePendingChange("completedCallReminders",c)},addJournalEntry:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString()},c=[...n().journalEntries,i];return s({journalEntries:c}),await de.set("journalEntries",c),n().queuePendingChange("journalEntries",i),i},updateJournalEntry:async(l,i)=>{const c=n().journalEntries.map(u=>u.id===l?{...u,...i}:u);s({journalEntries:c}),await de.set("journalEntries",c),n().queuePendingChange("journalEntries",{id:l,...i})},deleteJournalEntry:async l=>{const i=n().journalEntries.filter(c=>c.id!==l);s({journalEntries:i}),await de.set("journalEntries",i),n().queuePendingChange("journalEntries",{id:l,deleted:!0})},addBucketItem:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString(),status:l.status||"not-started",progress:l.progress||0},c=[...n().bucketList,i];return s({bucketList:c}),await de.set("bucketList",c),n().queuePendingChange("bucketList",i),i},updateBucketItem:async(l,i)=>{const c=n().bucketList.map(u=>u.id===l?{...u,...i}:u);s({bucketList:c}),await de.set("bucketList",c),n().queuePendingChange("bucketList",{id:l,...i})},deleteBucketItem:async l=>{const i=n().bucketList.filter(c=>c.id!==l);s({bucketList:i}),await de.set("bucketList",i),n().queuePendingChange("bucketList",{id:l,deleted:!0})},addVisionImage:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=[...n().visionBoard,i];return s({visionBoard:c}),await de.set("visionBoard",c),n().queuePendingChange("visionBoard",i),i},updateVisionImage:async(l,i)=>{const c=n().visionBoard.map(u=>u.id===l?{...u,...i,updatedAt:new Date().toISOString()}:u);s({visionBoard:c}),await de.set("visionBoard",c),n().queuePendingChange("visionBoard",{id:l,...i})},deleteVisionImage:async l=>{const i=n().visionBoard.filter(c=>c.id!==l);s({visionBoard:i}),await de.set("visionBoard",i),n().queuePendingChange("visionBoard",{id:l,deleted:!0})},togglePinVisionImage:async l=>{const i=n().visionBoard.find(u=>u.id===l);if(!i)return;const c={isPinned:!i.isPinned};await n().updateVisionImage(l,c)},addQuote:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString()},c=[...n().quotes,i];return s({quotes:c}),await de.set("quotes",c),n().queuePendingChange("quotes",i),i},updateQuote:async(l,i)=>{const c=n().quotes.map(u=>u.id===l?{...u,...i}:u);s({quotes:c}),await de.set("quotes",c),n().queuePendingChange("quotes",{id:l,...i})},deleteQuote:async l=>{const i=n().quotes.filter(c=>c.id!==l);s({quotes:i}),await de.set("quotes",i),n().queuePendingChange("quotes",{id:l,deleted:!0})},addNote:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=[...n().notes,i];return s({notes:c}),await de.set("notes",c),n().queuePendingChange("notes",i),i},updateNote:async(l,i)=>{const c=n().notes.map(u=>u.id===l?{...u,...i,updatedAt:new Date().toISOString()}:u);s({notes:c}),await de.set("notes",c),n().queuePendingChange("notes",{id:l,...i})},deleteNote:async l=>{const i=n().notes.filter(c=>c.id!==l);s({notes:i}),await de.set("notes",i),n().queuePendingChange("notes",{id:l,deleted:!0})},toggleDarkMode:async()=>{const l=!n().darkMode;s({darkMode:l}),await de.set("darkMode",l?"enabled":"disabled"),l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setupNetworkHandlers:()=>{window.addEventListener("online",()=>{s({syncStatus:"pending"}),n().processPendingChanges()}),window.addEventListener("offline",()=>{s({syncStatus:"offline"})}),navigator.onLine||s({syncStatus:"offline"})},queuePendingChange:(l,i)=>{const c=[...n().pendingChanges,{type:l,data:i,timestamp:new Date().toISOString()}];s({pendingChanges:c}),de.set("pendingChanges",c),navigator.onLine&&n().isAuthenticated&&n().processPendingChanges()},processPendingChanges:async()=>{if(n().pendingChanges.length!==0&&!(!navigator.onLine||!n().isAuthenticated)){s({syncStatus:"syncing"});try{await n().syncToSheets(),s({pendingChanges:[]}),await de.set("pendingChanges",[]),s({syncStatus:"success",lastSyncTime:new Date})}catch(i){console.error("Failed to process pending changes:",i),s({syncStatus:"failed"})}}},initializeGoogleSheets:async()=>{try{await ga.initialize(),console.log("Google Sheets service initialized")}catch(l){console.error("Failed to initialize Google Sheets:",l)}},signInToGoogle:async()=>{try{s({syncStatus:"syncing"});const l=await ga.signIn(),i=ga.getAuthState();return s({isAuthenticated:i.isSignedIn,userEmail:l?.email,sheetId:i.sheetId,sheetUrl:ga.getSheetUrl(),syncStatus:"success"}),await de.set("userEmail",l?.email),await de.set("userSheetId",i.sheetId),await de.set("userSheetUrl",ga.getSheetUrl()),await n().syncToSheets(),l}catch(l){throw console.error("Google sign-in failed:",l),s({syncStatus:"failed"}),l}},signOutFromGoogle:async()=>{try{await ga.signOut(),s({isAuthenticated:!1,userEmail:null,sheetId:null,sheetUrl:null,syncStatus:"idle"}),await de.remove("userEmail"),await de.remove("userSheetId"),await de.remove("userSheetUrl")}catch(l){console.error("Google sign-out failed:",l)}},syncToSheets:async()=>{if(!ga.getAuthState().isSignedIn)return console.warn("Not authenticated with Google Sheets"),!1;try{s({syncStatus:"syncing"});const i=n(),c=[{sheetName:"Tasks",data:i.tasks,headers:[{key:"id",type:"string"},{key:"text",type:"string"},{key:"completed",type:"boolean"},{key:"date",type:"string"},{key:"priority",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Expenses",data:i.expenses,headers:[{key:"id",type:"string"},{key:"description",type:"string"},{key:"amount",type:"number"},{key:"category",type:"string"},{key:"date",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Notes",data:i.notes,headers:[{key:"id",type:"string"},{key:"title",type:"string"},{key:"content",type:"string"},{key:"folder",type:"string"},{key:"tags",type:"object"},{key:"createdAt",type:"string"}]},{sheetName:"Habits",data:i.habits,headers:[{key:"id",type:"string"},{key:"name",type:"string"},{key:"description",type:"string"},{key:"color",type:"string"},{key:"streak",type:"number"},{key:"createdAt",type:"string"}]},{sheetName:"Meals",data:i.meals,headers:[{key:"id",type:"string"},{key:"name",type:"string"},{key:"calories",type:"number"},{key:"date",type:"string"},{key:"type",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Reminders",data:i.callReminders,headers:[{key:"id",type:"string"},{key:"person",type:"string"},{key:"phone",type:"string"},{key:"date",type:"string"},{key:"note",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Journal",data:i.journalEntries,headers:[{key:"id",type:"string"},{key:"date",type:"string"},{key:"mood",type:"string"},{key:"entry",type:"string"},{key:"gratitude",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"BucketList",data:i.bucketList,headers:[{key:"id",type:"string"},{key:"title",type:"string"},{key:"description",type:"string"},{key:"status",type:"string"},{key:"category",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"VisionBoard",data:i.visionBoard,headers:[{key:"id",type:"string"},{key:"title",type:"string"},{key:"description",type:"string"},{key:"category",type:"string"},{key:"tags",type:"object"},{key:"imageData",type:"string"},{key:"frame",type:"string"},{key:"isPinned",type:"boolean"},{key:"createdAt",type:"string"}]},{sheetName:"Quotes",data:i.quotes,headers:[{key:"id",type:"string"},{key:"text",type:"string"},{key:"author",type:"string"},{key:"createdAt",type:"string"}]}];for(const u of c)await ga.syncDataToSheet(u.sheetName,u.data,u.headers);return s({syncStatus:"success",lastSyncTime:new Date().toISOString()}),await de.set("lastSyncTime",new Date().toISOString()),console.log("✅ All data synced to Google Sheets successfully"),!0}catch(i){return console.error("Failed to sync to Google Sheets:",i),s({syncStatus:"failed"}),!1}},syncFromSheets:async()=>{if(!ga.getAuthState().isSignedIn)return console.warn("Not authenticated with Google Sheets"),!1;try{s({syncStatus:"syncing"});const i=[{sheetName:"Tasks",stateKey:"tasks",headers:[{key:"id",type:"string"},{key:"text",type:"string"},{key:"completed",type:"boolean"},{key:"date",type:"string"},{key:"priority",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Expenses",stateKey:"expenses",headers:[{key:"id",type:"string"},{key:"description",type:"string"},{key:"amount",type:"number"},{key:"category",type:"string"},{key:"date",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Notes",stateKey:"notes",headers:[{key:"id",type:"string"},{key:"title",type:"string"},{key:"content",type:"string"},{key:"folder",type:"string"},{key:"tags",type:"object"},{key:"createdAt",type:"string"}]},{sheetName:"Habits",stateKey:"habits",headers:[{key:"id",type:"string"},{key:"name",type:"string"},{key:"description",type:"string"},{key:"color",type:"string"},{key:"streak",type:"number"},{key:"createdAt",type:"string"}]},{sheetName:"Meals",stateKey:"meals",headers:[{key:"id",type:"string"},{key:"name",type:"string"},{key:"calories",type:"number"},{key:"date",type:"string"},{key:"type",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Reminders",stateKey:"callReminders",headers:[{key:"id",type:"string"},{key:"person",type:"string"},{key:"phone",type:"string"},{key:"date",type:"string"},{key:"note",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"Journal",stateKey:"journalEntries",headers:[{key:"id",type:"string"},{key:"date",type:"string"},{key:"mood",type:"string"},{key:"entry",type:"string"},{key:"gratitude",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"BucketList",stateKey:"bucketList",headers:[{key:"id",type:"string"},{key:"title",type:"string"},{key:"description",type:"string"},{key:"status",type:"string"},{key:"category",type:"string"},{key:"createdAt",type:"string"}]},{sheetName:"VisionBoard",stateKey:"visionBoard",headers:[{key:"id",type:"string"},{key:"title",type:"string"},{key:"description",type:"string"},{key:"category",type:"string"},{key:"tags",type:"object"},{key:"imageData",type:"string"},{key:"frame",type:"string"},{key:"isPinned",type:"boolean"},{key:"createdAt",type:"string"}]},{sheetName:"Quotes",stateKey:"quotes",headers:[{key:"id",type:"string"},{key:"text",type:"string"},{key:"author",type:"string"},{key:"createdAt",type:"string"}]}],c={};for(const u of i){const h=await ga.loadDataFromSheet(u.sheetName,u.headers);c[u.stateKey]=h}s({...c,syncStatus:"success",lastSyncTime:new Date().toISOString()});for(const[u,h]of Object.entries(c))await de.set(u,h);return await de.set("lastSyncTime",new Date().toISOString()),console.log("✅ All data loaded from Google Sheets successfully"),!0}catch(i){return console.error("Failed to sync from Google Sheets:",i),s({syncStatus:"failed"}),!1}},migrateFromLegacy:async()=>{console.log("Starting migration from legacy app...");const l={},i=["tasks","expenses","notes","habits","habitHistory","meals","callReminders","completedCallReminders","bucketList","journalEntries","quotes","streakData","darkMode","userEmail","userSheetId","userSheetUrl"];for(const c of i){const u=localStorage.getItem(c);u&&(l[c]=u)}Object.keys(l).length>0&&(await de.migrate(l),await n().initialize(),console.log("Migration completed successfully"))},addAlarm:async l=>{const i={id:Date.now().toString(),...l,createdAt:new Date().toISOString()},c=[...n().alarms,i];return s({alarms:c}),await de.set("alarms",c),n().queuePendingChange("alarms",i),i},updateAlarm:async(l,i)=>{const c=n().alarms.map(u=>u.id===l?{...u,...i}:u);s({alarms:c}),await de.set("alarms",c),n().queuePendingChange("alarms",{id:l,...i})},deleteAlarm:async l=>{const i=n().alarms.filter(c=>c.id!==l);s({alarms:i}),await de.set("alarms",i),n().queuePendingChange("alarms",{id:l,deleted:!0})},addMovie:async l=>{const i={id:l.id||Date.now().toString(),...l,addedAt:new Date().toISOString()},c=[...n().movies,i];return s({movies:c}),await de.set("movies",c),n().queuePendingChange("movies",i),i},updateMovie:async(l,i)=>{const c=n().movies.map(u=>u.id===l?{...u,...i}:u);s({movies:c}),await de.set("movies",c),n().queuePendingChange("movies",{id:l,...i})},deleteMovie:async l=>{const i=n().movies.filter(c=>c.id!==l);s({movies:i}),await de.set("movies",i),n().queuePendingChange("movies",{id:l,deleted:!0})},setCurrentView:l=>{s({currentView:l})},getMetrics:()=>{const l=n().tasks,i=new Date().toISOString().split("T")[0],c=l.filter(u=>u.date===i);return{total:c.length,completed:c.filter(u=>u.completed).length,pending:c.filter(u=>!u.completed).length,completionRate:c.length>0?Math.round(c.filter(u=>u.completed).length/c.length*100):0}}}),{name:"todo-app-storage",storage:{getItem:async s=>{const n=await de.get(s);return n?JSON.stringify(n):null},setItem:async(s,n)=>{try{const l=typeof n=="string"?JSON.parse(n):n;await de.set(s,l)}catch(l){console.error("Storage setItem error:",l),await de.set(s,n)}},removeItem:async s=>{await de.remove(s)}},partialize:s=>({tasks:s.tasks,expenses:s.expenses,notes:s.notes,habits:s.habits,habitHistory:s.habitHistory,meals:s.meals,callReminders:s.callReminders,completedCallReminders:s.completedCallReminders,bucketList:s.bucketList,visionBoard:s.visionBoard,journalEntries:s.journalEntries,quotes:s.quotes,streakData:s.streakData,alarms:s.alarms,movies:s.movies,darkMode:s.darkMode,userEmail:s.userEmail,sheetId:s.sheetId,sheetUrl:s.sheetUrl,lastSyncTime:s.lastSyncTime})})))),fu=k.createContext({});function gu(s){const n=k.useRef(null);return n.current===null&&(n.current=s()),n.current}const pu=typeof window<"u",Pp=pu?k.useLayoutEffect:k.useEffect,Wl=k.createContext(null);function xu(s,n){s.indexOf(n)===-1&&s.push(n)}function yu(s,n){const l=s.indexOf(n);l>-1&&s.splice(l,1)}const Ha=(s,n,l)=>l>n?n:l<s?s:l;let bu=()=>{};const Va={},Ip=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function qp(s){return typeof s=="object"&&s!==null}const $p=s=>/^0[^.\s]+$/u.test(s);function vu(s){let n;return()=>(n===void 0&&(n=s()),n)}const sa=s=>s,R1=(s,n)=>l=>n(s(l)),oi=(...s)=>s.reduce(R1),Zr=(s,n,l)=>{const i=n-s;return i===0?1:(l-s)/i};class ju{constructor(){this.subscriptions=[]}add(n){return xu(this.subscriptions,n),()=>yu(this.subscriptions,n)}notify(n,l,i){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](n,l,i);else for(let u=0;u<c;u++){const h=this.subscriptions[u];h&&h(n,l,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pa=s=>s*1e3,xa=s=>s/1e3;function Fp(s,n){return n?s*(1e3/n):0}const Gp=(s,n,l)=>(((1-3*l+3*n)*s+(3*l-6*n))*s+3*n)*s,L1=1e-7,O1=12;function B1(s,n,l,i,c){let u,h,p=0;do h=n+(l-n)/2,u=Gp(h,i,c)-s,u>0?l=h:n=h;while(Math.abs(u)>L1&&++p<O1);return h}function ci(s,n,l,i){if(s===n&&l===i)return sa;const c=u=>B1(u,0,1,s,l);return u=>u===0||u===1?u:Gp(c(u),n,i)}const Yp=s=>n=>n<=.5?s(2*n)/2:(2-s(2*(1-n)))/2,Wp=s=>n=>1-s(1-n),Kp=ci(.33,1.53,.69,.99),wu=Wp(Kp),Qp=Yp(wu),Xp=s=>(s*=2)<1?.5*wu(s):.5*(2-Math.pow(2,-10*(s-1))),ku=s=>1-Math.sin(Math.acos(s)),Zp=Wp(ku),Jp=Yp(ku),_1=ci(.42,0,1,1),z1=ci(0,0,.58,1),ex=ci(.42,0,.58,1),H1=s=>Array.isArray(s)&&typeof s[0]!="number",tx=s=>Array.isArray(s)&&typeof s[0]=="number",V1={linear:sa,easeIn:_1,easeInOut:ex,easeOut:z1,circIn:ku,circInOut:Jp,circOut:Zp,backIn:wu,backInOut:Qp,backOut:Kp,anticipate:Xp},U1=s=>typeof s=="string",ag=s=>{if(tx(s)){bu(s.length===4);const[n,l,i,c]=s;return ci(n,l,i,c)}else if(U1(s))return V1[s];return s},Tl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P1(s,n){let l=new Set,i=new Set,c=!1,u=!1;const h=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(f){h.has(f)&&(x.schedule(f),s()),f(p)}const x={schedule:(f,b=!1,j=!1)=>{const O=j&&c?l:i;return b&&h.add(f),O.has(f)||O.add(f),f},cancel:f=>{i.delete(f),h.delete(f)},process:f=>{if(p=f,c){u=!0;return}c=!0,[l,i]=[i,l],l.forEach(g),l.clear(),c=!1,u&&(u=!1,x.process(f))}};return x}const I1=40;function ax(s,n){let l=!1,i=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>l=!0,h=Tl.reduce((H,C)=>(H[C]=P1(u),H),{}),{setup:p,read:g,resolveKeyframes:x,preUpdate:f,update:b,preRender:j,render:M,postRender:O}=h,T=()=>{const H=Va.useManualTiming?c.timestamp:performance.now();l=!1,Va.useManualTiming||(c.delta=i?1e3/60:Math.max(Math.min(H-c.timestamp,I1),1)),c.timestamp=H,c.isProcessing=!0,p.process(c),g.process(c),x.process(c),f.process(c),b.process(c),j.process(c),M.process(c),O.process(c),c.isProcessing=!1,l&&n&&(i=!1,s(T))},R=()=>{l=!0,i=!0,c.isProcessing||s(T)};return{schedule:Tl.reduce((H,C)=>{const _=h[C];return H[C]=(D,U=!1,y=!1)=>(l||R(),_.schedule(D,U,y)),H},{}),cancel:H=>{for(let C=0;C<Tl.length;C++)h[Tl[C]].cancel(H)},state:c,steps:h}}const{schedule:We,cancel:ms,state:kt,steps:bd}=ax(typeof requestAnimationFrame<"u"?requestAnimationFrame:sa,!0);let Ol;function q1(){Ol=void 0}const Bt={now:()=>(Ol===void 0&&Bt.set(kt.isProcessing||Va.useManualTiming?kt.timestamp:performance.now()),Ol),set:s=>{Ol=s,queueMicrotask(q1)}},sx=s=>n=>typeof n=="string"&&n.startsWith(s),Nu=sx("--"),$1=sx("var(--"),Su=s=>$1(s)?F1.test(s.split("/*")[0].trim()):!1,F1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pn={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Jr={...Pn,transform:s=>Ha(0,1,s)},El={...Pn,default:1},Fr=s=>Math.round(s*1e5)/1e5,Cu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G1(s){return s==null}const Y1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tu=(s,n)=>l=>!!(typeof l=="string"&&Y1.test(l)&&l.startsWith(s)||n&&!G1(l)&&Object.prototype.hasOwnProperty.call(l,n)),nx=(s,n,l)=>i=>{if(typeof i!="string")return i;const[c,u,h,p]=i.match(Cu);return{[s]:parseFloat(c),[n]:parseFloat(u),[l]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},W1=s=>Ha(0,255,s),vd={...Pn,transform:s=>Math.round(W1(s))},Hs={test:Tu("rgb","red"),parse:nx("red","green","blue"),transform:({red:s,green:n,blue:l,alpha:i=1})=>"rgba("+vd.transform(s)+", "+vd.transform(n)+", "+vd.transform(l)+", "+Fr(Jr.transform(i))+")"};function K1(s){let n="",l="",i="",c="";return s.length>5?(n=s.substring(1,3),l=s.substring(3,5),i=s.substring(5,7),c=s.substring(7,9)):(n=s.substring(1,2),l=s.substring(2,3),i=s.substring(3,4),c=s.substring(4,5),n+=n,l+=l,i+=i,c+=c),{red:parseInt(n,16),green:parseInt(l,16),blue:parseInt(i,16),alpha:c?parseInt(c,16)/255:1}}const zd={test:Tu("#"),parse:K1,transform:Hs.transform},di=s=>({test:n=>typeof n=="string"&&n.endsWith(s)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${s}`}),hs=di("deg"),ya=di("%"),xe=di("px"),Q1=di("vh"),X1=di("vw"),sg={...ya,parse:s=>ya.parse(s)/100,transform:s=>ya.transform(s*100)},Dn={test:Tu("hsl","hue"),parse:nx("hue","saturation","lightness"),transform:({hue:s,saturation:n,lightness:l,alpha:i=1})=>"hsla("+Math.round(s)+", "+ya.transform(Fr(n))+", "+ya.transform(Fr(l))+", "+Fr(Jr.transform(i))+")"},ct={test:s=>Hs.test(s)||zd.test(s)||Dn.test(s),parse:s=>Hs.test(s)?Hs.parse(s):Dn.test(s)?Dn.parse(s):zd.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Hs.transform(s):Dn.transform(s),getAnimatableNone:s=>{const n=ct.parse(s);return n.alpha=0,ct.transform(n)}},Z1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function J1(s){return isNaN(s)&&typeof s=="string"&&(s.match(Cu)?.length||0)+(s.match(Z1)?.length||0)>0}const rx="number",ix="color",ej="var",tj="var(",ng="${}",aj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ei(s){const n=s.toString(),l=[],i={color:[],number:[],var:[]},c=[];let u=0;const p=n.replace(aj,g=>(ct.test(g)?(i.color.push(u),c.push(ix),l.push(ct.parse(g))):g.startsWith(tj)?(i.var.push(u),c.push(ej),l.push(g)):(i.number.push(u),c.push(rx),l.push(parseFloat(g))),++u,ng)).split(ng);return{values:l,split:p,indexes:i,types:c}}function lx(s){return ei(s).values}function ox(s){const{split:n,types:l}=ei(s),i=n.length;return c=>{let u="";for(let h=0;h<i;h++)if(u+=n[h],c[h]!==void 0){const p=l[h];p===rx?u+=Fr(c[h]):p===ix?u+=ct.transform(c[h]):u+=c[h]}return u}}const sj=s=>typeof s=="number"?0:ct.test(s)?ct.getAnimatableNone(s):s;function nj(s){const n=lx(s);return ox(s)(n.map(sj))}const fs={test:J1,parse:lx,createTransformer:ox,getAnimatableNone:nj};function jd(s,n,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?s+(n-s)*6*l:l<1/2?n:l<2/3?s+(n-s)*(2/3-l)*6:s}function rj({hue:s,saturation:n,lightness:l,alpha:i}){s/=360,n/=100,l/=100;let c=0,u=0,h=0;if(!n)c=u=h=l;else{const p=l<.5?l*(1+n):l+n-l*n,g=2*l-p;c=jd(g,p,s+1/3),u=jd(g,p,s),h=jd(g,p,s-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:i}}function Ul(s,n){return l=>l>0?n:s}const Xe=(s,n,l)=>s+(n-s)*l,wd=(s,n,l)=>{const i=s*s,c=l*(n*n-i)+i;return c<0?0:Math.sqrt(c)},ij=[zd,Hs,Dn],lj=s=>ij.find(n=>n.test(s));function rg(s){const n=lj(s);if(!n)return!1;let l=n.parse(s);return n===Dn&&(l=rj(l)),l}const ig=(s,n)=>{const l=rg(s),i=rg(n);if(!l||!i)return Ul(s,n);const c={...l};return u=>(c.red=wd(l.red,i.red,u),c.green=wd(l.green,i.green,u),c.blue=wd(l.blue,i.blue,u),c.alpha=Xe(l.alpha,i.alpha,u),Hs.transform(c))},Hd=new Set(["none","hidden"]);function oj(s,n){return Hd.has(s)?l=>l<=0?s:n:l=>l>=1?n:s}function cj(s,n){return l=>Xe(s,n,l)}function Eu(s){return typeof s=="number"?cj:typeof s=="string"?Su(s)?Ul:ct.test(s)?ig:hj:Array.isArray(s)?cx:typeof s=="object"?ct.test(s)?ig:dj:Ul}function cx(s,n){const l=[...s],i=l.length,c=s.map((u,h)=>Eu(u)(u,n[h]));return u=>{for(let h=0;h<i;h++)l[h]=c[h](u);return l}}function dj(s,n){const l={...s,...n},i={};for(const c in l)s[c]!==void 0&&n[c]!==void 0&&(i[c]=Eu(s[c])(s[c],n[c]));return c=>{for(const u in i)l[u]=i[u](c);return l}}function uj(s,n){const l=[],i={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const u=n.types[c],h=s.indexes[u][i[u]],p=s.values[h]??0;l[c]=p,i[u]++}return l}const hj=(s,n)=>{const l=fs.createTransformer(n),i=ei(s),c=ei(n);return i.indexes.var.length===c.indexes.var.length&&i.indexes.color.length===c.indexes.color.length&&i.indexes.number.length>=c.indexes.number.length?Hd.has(s)&&!c.values.length||Hd.has(n)&&!i.values.length?oj(s,n):oi(cx(uj(i,c),c.values),l):Ul(s,n)};function dx(s,n,l){return typeof s=="number"&&typeof n=="number"&&typeof l=="number"?Xe(s,n,l):Eu(s)(s,n)}const mj=s=>{const n=({timestamp:l})=>s(l);return{start:(l=!0)=>We.update(n,l),stop:()=>ms(n),now:()=>kt.isProcessing?kt.timestamp:Bt.now()}},ux=(s,n,l=10)=>{let i="";const c=Math.max(Math.round(n/l),2);for(let u=0;u<c;u++)i+=Math.round(s(u/(c-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pl=2e4;function Au(s){let n=0;const l=50;let i=s.next(n);for(;!i.done&&n<Pl;)n+=l,i=s.next(n);return n>=Pl?1/0:n}function fj(s,n=100,l){const i=l({...s,keyframes:[0,n]}),c=Math.min(Au(i),Pl);return{type:"keyframes",ease:u=>i.next(c*u).value/n,duration:xa(c)}}const gj=5;function hx(s,n,l){const i=Math.max(n-gj,0);return Fp(l-s(i),n-i)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kd=.001;function pj({duration:s=st.duration,bounce:n=st.bounce,velocity:l=st.velocity,mass:i=st.mass}){let c,u,h=1-n;h=Ha(st.minDamping,st.maxDamping,h),s=Ha(st.minDuration,st.maxDuration,xa(s)),h<1?(c=x=>{const f=x*h,b=f*s,j=f-l,M=Vd(x,h),O=Math.exp(-b);return kd-j/M*O},u=x=>{const b=x*h*s,j=b*l+l,M=Math.pow(h,2)*Math.pow(x,2)*s,O=Math.exp(-b),T=Vd(Math.pow(x,2),h);return(-c(x)+kd>0?-1:1)*((j-M)*O)/T}):(c=x=>{const f=Math.exp(-x*s),b=(x-l)*s+1;return-kd+f*b},u=x=>{const f=Math.exp(-x*s),b=(l-x)*(s*s);return f*b});const p=5/s,g=yj(c,u,p);if(s=pa(s),isNaN(g))return{stiffness:st.stiffness,damping:st.damping,duration:s};{const x=Math.pow(g,2)*i;return{stiffness:x,damping:h*2*Math.sqrt(i*x),duration:s}}}const xj=12;function yj(s,n,l){let i=l;for(let c=1;c<xj;c++)i=i-s(i)/n(i);return i}function Vd(s,n){return s*Math.sqrt(1-n*n)}const bj=["duration","bounce"],vj=["stiffness","damping","mass"];function lg(s,n){return n.some(l=>s[l]!==void 0)}function jj(s){let n={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...s};if(!lg(s,vj)&&lg(s,bj))if(s.visualDuration){const l=s.visualDuration,i=2*Math.PI/(l*1.2),c=i*i,u=2*Ha(.05,1,1-(s.bounce||0))*Math.sqrt(c);n={...n,mass:st.mass,stiffness:c,damping:u}}else{const l=pj(s);n={...n,...l,mass:st.mass},n.isResolvedFromDuration=!0}return n}function Il(s=st.visualDuration,n=st.bounce){const l=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:n}:s;let{restSpeed:i,restDelta:c}=l;const u=l.keyframes[0],h=l.keyframes[l.keyframes.length-1],p={done:!1,value:u},{stiffness:g,damping:x,mass:f,duration:b,velocity:j,isResolvedFromDuration:M}=jj({...l,velocity:-xa(l.velocity||0)}),O=j||0,T=x/(2*Math.sqrt(g*f)),R=h-u,N=xa(Math.sqrt(g/f)),A=Math.abs(R)<5;i||(i=A?st.restSpeed.granular:st.restSpeed.default),c||(c=A?st.restDelta.granular:st.restDelta.default);let H;if(T<1){const _=Vd(N,T);H=D=>{const U=Math.exp(-T*N*D);return h-U*((O+T*N*R)/_*Math.sin(_*D)+R*Math.cos(_*D))}}else if(T===1)H=_=>h-Math.exp(-N*_)*(R+(O+N*R)*_);else{const _=N*Math.sqrt(T*T-1);H=D=>{const U=Math.exp(-T*N*D),y=Math.min(_*D,300);return h-U*((O+T*N*R)*Math.sinh(y)+_*R*Math.cosh(y))/_}}const C={calculatedDuration:M&&b||null,next:_=>{const D=H(_);if(M)p.done=_>=b;else{let U=_===0?O:0;T<1&&(U=_===0?pa(O):hx(H,_,D));const y=Math.abs(U)<=i,v=Math.abs(h-D)<=c;p.done=y&&v}return p.value=p.done?h:D,p},toString:()=>{const _=Math.min(Au(C),Pl),D=ux(U=>C.next(_*U).value,_,30);return _+"ms "+D},toTransition:()=>{}};return C}Il.applyToOptions=s=>{const n=fj(s,100,Il);return s.ease=n.ease,s.duration=pa(n.duration),s.type="keyframes",s};function Ud({keyframes:s,velocity:n=0,power:l=.8,timeConstant:i=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:h,min:p,max:g,restDelta:x=.5,restSpeed:f}){const b=s[0],j={done:!1,value:b},M=y=>p!==void 0&&y<p||g!==void 0&&y>g,O=y=>p===void 0?g:g===void 0||Math.abs(p-y)<Math.abs(g-y)?p:g;let T=l*n;const R=b+T,N=h===void 0?R:h(R);N!==R&&(T=N-b);const A=y=>-T*Math.exp(-y/i),H=y=>N+A(y),C=y=>{const v=A(y),L=H(y);j.done=Math.abs(v)<=x,j.value=j.done?N:L};let _,D;const U=y=>{M(j.value)&&(_=y,D=Il({keyframes:[j.value,O(j.value)],velocity:hx(H,y,j.value),damping:c,stiffness:u,restDelta:x,restSpeed:f}))};return U(0),{calculatedDuration:null,next:y=>{let v=!1;return!D&&_===void 0&&(v=!0,C(y),U(y)),_!==void 0&&y>=_?D.next(y-_):(!v&&C(y),j)}}}function wj(s,n,l){const i=[],c=l||Va.mix||dx,u=s.length-1;for(let h=0;h<u;h++){let p=c(s[h],s[h+1]);if(n){const g=Array.isArray(n)?n[h]||sa:n;p=oi(g,p)}i.push(p)}return i}function kj(s,n,{clamp:l=!0,ease:i,mixer:c}={}){const u=s.length;if(bu(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const h=s[0]===s[1];s[0]>s[u-1]&&(s=[...s].reverse(),n=[...n].reverse());const p=wj(n,i,c),g=p.length,x=f=>{if(h&&f<s[0])return n[0];let b=0;if(g>1)for(;b<s.length-2&&!(f<s[b+1]);b++);const j=Zr(s[b],s[b+1],f);return p[b](j)};return l?f=>x(Ha(s[0],s[u-1],f)):x}function Nj(s,n){const l=s[s.length-1];for(let i=1;i<=n;i++){const c=Zr(0,n,i);s.push(Xe(l,1,c))}}function Sj(s){const n=[0];return Nj(n,s.length-1),n}function Cj(s,n){return s.map(l=>l*n)}function Tj(s,n){return s.map(()=>n||ex).splice(0,s.length-1)}function Gr({duration:s=300,keyframes:n,times:l,ease:i="easeInOut"}){const c=H1(i)?i.map(ag):ag(i),u={done:!1,value:n[0]},h=Cj(l&&l.length===n.length?l:Sj(n),s),p=kj(h,n,{ease:Array.isArray(c)?c:Tj(n,c)});return{calculatedDuration:s,next:g=>(u.value=p(g),u.done=g>=s,u)}}const Ej=s=>s!==null;function Du(s,{repeat:n,repeatType:l="loop"},i,c=1){const u=s.filter(Ej),p=c<0||n&&l!=="loop"&&n%2===1?0:u.length-1;return!p||i===void 0?u[p]:i}const Aj={decay:Ud,inertia:Ud,tween:Gr,keyframes:Gr,spring:Il};function mx(s){typeof s.type=="string"&&(s.type=Aj[s.type])}class Mu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,l){return this.finished.then(n,l)}}const Dj=s=>s/100;class Ru extends Mu{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;l&&l.updatedAt!==Bt.now()&&this.tick(Bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;mx(n);const{type:l=Gr,repeat:i=0,repeatDelay:c=0,repeatType:u,velocity:h=0}=n;let{keyframes:p}=n;const g=l||Gr;g!==Gr&&typeof p[0]!="number"&&(this.mixKeyframes=oi(Dj,dx(p[0],p[1])),p=[0,100]);const x=g({...n,keyframes:p});u==="mirror"&&(this.mirroredGenerator=g({...n,keyframes:[...p].reverse(),velocity:-h})),x.calculatedDuration===null&&(x.calculatedDuration=Au(x));const{calculatedDuration:f}=x;this.calculatedDuration=f,this.resolvedDuration=f+c,this.totalDuration=this.resolvedDuration*(i+1)-c,this.generator=x}updateTime(n){const l=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(n,l=!1){const{generator:i,totalDuration:c,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:x=0,keyframes:f,repeat:b,repeatType:j,repeatDelay:M,type:O,onUpdate:T,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-c/this.speed,this.startTime)),l?this.currentTime=n:this.updateTime(n);const N=this.currentTime-x*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?N<0:N>c;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let H=this.currentTime,C=i;if(b){const y=Math.min(this.currentTime,c)/p;let v=Math.floor(y),L=y%1;!L&&y>=1&&(L=1),L===1&&v--,v=Math.min(v,b+1),!!(v%2)&&(j==="reverse"?(L=1-L,M&&(L-=M/p)):j==="mirror"&&(C=h)),H=Ha(0,1,L)*p}const _=A?{done:!1,value:f[0]}:C.next(H);u&&(_.value=u(_.value));let{done:D}=_;!A&&g!==null&&(D=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return U&&O!==Ud&&(_.value=Du(f,this.options,R,this.speed)),T&&T(_.value),U&&this.finish(),_}then(n,l){return this.finished.then(n,l)}get duration(){return xa(this.calculatedDuration)}get time(){return xa(this.currentTime)}set time(n){n=pa(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(Bt.now());const l=this.playbackSpeed!==n;this.playbackSpeed=n,l&&(this.time=xa(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=mj,startTime:l}=this.options;this.driver||(this.driver=n(c=>this.tick(c))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=l??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function Mj(s){for(let n=1;n<s.length;n++)s[n]??(s[n]=s[n-1])}const Vs=s=>s*180/Math.PI,Pd=s=>{const n=Vs(Math.atan2(s[1],s[0]));return Id(n)},Rj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:Pd,rotateZ:Pd,skewX:s=>Vs(Math.atan(s[1])),skewY:s=>Vs(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},Id=s=>(s=s%360,s<0&&(s+=360),s),og=Pd,cg=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),dg=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),Lj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cg,scaleY:dg,scale:s=>(cg(s)+dg(s))/2,rotateX:s=>Id(Vs(Math.atan2(s[6],s[5]))),rotateY:s=>Id(Vs(Math.atan2(-s[2],s[0]))),rotateZ:og,rotate:og,skewX:s=>Vs(Math.atan(s[4])),skewY:s=>Vs(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function qd(s){return s.includes("scale")?1:0}function $d(s,n){if(!s||s==="none")return qd(n);const l=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,c;if(l)i=Lj,c=l;else{const p=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Rj,c=p}if(!c)return qd(n);const u=i[n],h=c[1].split(",").map(Bj);return typeof u=="function"?u(h):h[u]}const Oj=(s,n)=>{const{transform:l="none"}=getComputedStyle(s);return $d(l,n)};function Bj(s){return parseFloat(s.trim())}const In=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qn=new Set(In),ug=s=>s===Pn||s===xe,_j=new Set(["x","y","z"]),zj=In.filter(s=>!_j.has(s));function Hj(s){const n=[];return zj.forEach(l=>{const i=s.getValue(l);i!==void 0&&(n.push([l,i.get()]),i.set(l.startsWith("scale")?1:0))}),n}const Us={width:({x:s},{paddingLeft:n="0",paddingRight:l="0"})=>s.max-s.min-parseFloat(n)-parseFloat(l),height:({y:s},{paddingTop:n="0",paddingBottom:l="0"})=>s.max-s.min-parseFloat(n)-parseFloat(l),top:(s,{top:n})=>parseFloat(n),left:(s,{left:n})=>parseFloat(n),bottom:({y:s},{top:n})=>parseFloat(n)+(s.max-s.min),right:({x:s},{left:n})=>parseFloat(n)+(s.max-s.min),x:(s,{transform:n})=>$d(n,"x"),y:(s,{transform:n})=>$d(n,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const Ps=new Set;let Fd=!1,Gd=!1,Yd=!1;function fx(){if(Gd){const s=Array.from(Ps).filter(i=>i.needsMeasurement),n=new Set(s.map(i=>i.element)),l=new Map;n.forEach(i=>{const c=Hj(i);c.length&&(l.set(i,c),i.render())}),s.forEach(i=>i.measureInitialState()),n.forEach(i=>{i.render();const c=l.get(i);c&&c.forEach(([u,h])=>{i.getValue(u)?.set(h)})}),s.forEach(i=>i.measureEndState()),s.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Gd=!1,Fd=!1,Ps.forEach(s=>s.complete(Yd)),Ps.clear()}function gx(){Ps.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(Gd=!0)})}function Vj(){Yd=!0,gx(),fx(),Yd=!1}class Lu{constructor(n,l,i,c,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=l,this.name=i,this.motionValue=c,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Ps.add(this),Fd||(Fd=!0,We.read(gx),We.resolveKeyframes(fx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:l,element:i,motionValue:c}=this;if(n[0]===null){const u=c?.get(),h=n[n.length-1];if(u!==void 0)n[0]=u;else if(i&&l){const p=i.readValue(l,h);p!=null&&(n[0]=p)}n[0]===void 0&&(n[0]=h),c&&u===void 0&&c.set(n[0])}Mj(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Ps.delete(this)}cancel(){this.state==="scheduled"&&(Ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uj=s=>s.startsWith("--");function Pj(s,n,l){Uj(n)?s.style.setProperty(n,l):s.style[n]=l}const Ij=vu(()=>window.ScrollTimeline!==void 0),qj={};function $j(s,n){const l=vu(s);return()=>qj[n]??l()}const px=$j(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$r=([s,n,l,i])=>`cubic-bezier(${s}, ${n}, ${l}, ${i})`,hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$r([0,.65,.55,1]),circOut:$r([.55,0,1,.45]),backIn:$r([.31,.01,.66,-.59]),backOut:$r([.33,1.53,.69,.99])};function xx(s,n){if(s)return typeof s=="function"?px()?ux(s,n):"ease-out":tx(s)?$r(s):Array.isArray(s)?s.map(l=>xx(l,n)||hg.easeOut):hg[s]}function Fj(s,n,l,{delay:i=0,duration:c=300,repeat:u=0,repeatType:h="loop",ease:p="easeOut",times:g}={},x=void 0){const f={[n]:l};g&&(f.offset=g);const b=xx(p,c);Array.isArray(b)&&(f.easing=b);const j={delay:i,duration:c,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return x&&(j.pseudoElement=x),s.animate(f,j)}function yx(s){return typeof s=="function"&&"applyToOptions"in s}function Gj({type:s,...n}){return yx(s)&&px()?s.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class Yj extends Mu{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:l,name:i,keyframes:c,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:p,onComplete:g}=n;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=n,bu(typeof n.type!="string");const x=Gj(n);this.animation=Fj(l,i,c,x,u),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const f=Du(c,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(f):Pj(l,i,f),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return xa(Number(n))}get time(){return xa(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=pa(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:l}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&Ij()?(this.animation.timeline=n,sa):l(this)}}const bx={anticipate:Xp,backInOut:Qp,circInOut:Jp};function Wj(s){return s in bx}function Kj(s){typeof s.ease=="string"&&Wj(s.ease)&&(s.ease=bx[s.ease])}const mg=10;class Qj extends Yj{constructor(n){Kj(n),mx(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:l,onUpdate:i,onComplete:c,element:u,...h}=this.options;if(!l)return;if(n!==void 0){l.set(n);return}const p=new Ru({...h,autoplay:!1}),g=pa(this.finishedTime??this.time);l.setWithVelocity(p.sample(g-mg).value,p.sample(g).value,mg),p.stop()}}const fg=(s,n)=>n==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(fs.test(s)||s==="0")&&!s.startsWith("url("));function Xj(s){const n=s[0];if(s.length===1)return!0;for(let l=0;l<s.length;l++)if(s[l]!==n)return!0}function Zj(s,n,l,i){const c=s[0];if(c===null)return!1;if(n==="display"||n==="visibility")return!0;const u=s[s.length-1],h=fg(c,n),p=fg(u,n);return!h||!p?!1:Xj(s)||(l==="spring"||yx(l))&&i}function Wd(s){s.duration=0,s.type}const Jj=new Set(["opacity","clipPath","filter","transform"]),ew=vu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tw(s){const{motionValue:n,name:l,repeatDelay:i,repeatType:c,damping:u,type:h}=s;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:x}=n.owner.getProps();return ew()&&l&&Jj.has(l)&&(l!=="transform"||!x)&&!g&&!i&&c!=="mirror"&&u!==0&&h!=="inertia"}const aw=40;class sw extends Mu{constructor({autoplay:n=!0,delay:l=0,type:i="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:h="loop",keyframes:p,name:g,motionValue:x,element:f,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bt.now();const j={autoplay:n,delay:l,type:i,repeat:c,repeatDelay:u,repeatType:h,name:g,motionValue:x,element:f,...b},M=f?.KeyframeResolver||Lu;this.keyframeResolver=new M(p,(O,T,R)=>this.onKeyframesResolved(O,T,j,!R),g,x,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,l,i,c){this.keyframeResolver=void 0;const{name:u,type:h,velocity:p,delay:g,isHandoff:x,onUpdate:f}=i;this.resolvedAt=Bt.now(),Zj(n,u,h,p)||((Va.instantAnimations||!g)&&f?.(Du(n,i,l)),n[0]=n[n.length-1],Wd(i),i.repeat=0);const j={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>aw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...i,keyframes:n},M=!x&&tw(j)?new Qj({...j,element:j.motionValue.owner.current}):new Ru(j);M.finished.then(()=>this.notifyFinished()).catch(sa),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(n,l){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Vj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rw(s){const n=nw.exec(s);if(!n)return[,];const[,l,i,c]=n;return[`--${l??i}`,c]}function vx(s,n,l=1){const[i,c]=rw(s);if(!i)return;const u=window.getComputedStyle(n).getPropertyValue(i);if(u){const h=u.trim();return Ip(h)?parseFloat(h):h}return Su(c)?vx(c,n,l+1):c}function Ou(s,n){return s?.[n]??s?.default??s}const jx=new Set(["width","height","top","left","right","bottom",...In]),iw={test:s=>s==="auto",parse:s=>s},wx=s=>n=>n.test(s),kx=[Pn,xe,ya,hs,X1,Q1,iw],gg=s=>kx.find(wx(s));function lw(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||$p(s):!0}const ow=new Set(["brightness","contrast","saturate","opacity"]);function cw(s){const[n,l]=s.slice(0,-1).split("(");if(n==="drop-shadow")return s;const[i]=l.match(Cu)||[];if(!i)return s;const c=l.replace(i,"");let u=ow.has(n)?1:0;return i!==l&&(u*=100),n+"("+u+c+")"}const dw=/\b([a-z-]*)\(.*?\)/gu,Kd={...fs,getAnimatableNone:s=>{const n=s.match(dw);return n?n.map(cw).join(" "):s}},pg={...Pn,transform:Math.round},uw={rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scale:El,scaleX:El,scaleY:El,scaleZ:El,skew:hs,skewX:hs,skewY:hs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Jr,originX:sg,originY:sg,originZ:xe},Bu={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe,...uw,zIndex:pg,fillOpacity:Jr,strokeOpacity:Jr,numOctaves:pg},hw={...Bu,color:ct,backgroundColor:ct,outlineColor:ct,fill:ct,stroke:ct,borderColor:ct,borderTopColor:ct,borderRightColor:ct,borderBottomColor:ct,borderLeftColor:ct,filter:Kd,WebkitFilter:Kd},Nx=s=>hw[s];function Sx(s,n){let l=Nx(s);return l!==Kd&&(l=fs),l.getAnimatableNone?l.getAnimatableNone(n):void 0}const mw=new Set(["auto","none","0"]);function fw(s,n,l){let i=0,c;for(;i<s.length&&!c;){const u=s[i];typeof u=="string"&&!mw.has(u)&&ei(u).values.length&&(c=s[i]),i++}if(c&&l)for(const u of n)s[u]=Sx(l,c)}class gw extends Lu{constructor(n,l,i,c,u){super(n,l,i,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:l,name:i}=this;if(!l||!l.current)return;super.readKeyframes();for(let g=0;g<n.length;g++){let x=n[g];if(typeof x=="string"&&(x=x.trim(),Su(x))){const f=vx(x,l.current);f!==void 0&&(n[g]=f),g===n.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!jx.has(i)||n.length!==2)return;const[c,u]=n,h=gg(c),p=gg(u);if(h!==p)if(ug(h)&&ug(p))for(let g=0;g<n.length;g++){const x=n[g];typeof x=="string"&&(n[g]=parseFloat(x))}else Us[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:l}=this,i=[];for(let c=0;c<n.length;c++)(n[c]===null||lw(n[c]))&&i.push(c);i.length&&fw(n,i,l)}measureInitialState(){const{element:n,unresolvedKeyframes:l,name:i}=this;if(!n||!n.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[i](n.measureViewportBox(),window.getComputedStyle(n.current)),l[0]=this.measuredOrigin;const c=l[l.length-1];c!==void 0&&n.getValue(i,c).jump(c,!1)}measureEndState(){const{element:n,name:l,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const c=n.getValue(l);c&&c.jump(this.measuredOrigin,!1);const u=i.length-1,h=i[u];i[u]=Us[l](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,g])=>{n.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function pw(s,n,l){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let i=document;const c=l?.[s]??i.querySelectorAll(s);return c?Array.from(c):[]}return Array.from(s)}const Cx=(s,n)=>n&&typeof s=="number"?n.transform(s):s;function Tx(s){return qp(s)&&"offsetHeight"in s}const xg=30,xw=s=>!isNaN(parseFloat(s));class yw{constructor(n,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const c=Bt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=l.owner}setCurrent(n){this.current=n,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=xw(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,l){this.events[n]||(this.events[n]=new ju);const i=this.events[n].add(l);return n==="change"?()=>{i(),We.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,l){this.passiveEffect=n,this.stopPassiveEffect=l}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,l,i){this.set(l),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-i}jump(n,l=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>xg)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,xg);return Fp(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(n){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=n(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _n(s,n){return new yw(s,n)}const{schedule:_u}=ax(queueMicrotask,!1),oa={x:!1,y:!1};function Ex(){return oa.x||oa.y}function bw(s){return s==="x"||s==="y"?oa[s]?null:(oa[s]=!0,()=>{oa[s]=!1}):oa.x||oa.y?null:(oa.x=oa.y=!0,()=>{oa.x=oa.y=!1})}function Ax(s,n){const l=pw(s),i=new AbortController,c={passive:!0,...n,signal:i.signal};return[l,c,()=>i.abort()]}function yg(s){return!(s.pointerType==="touch"||Ex())}function vw(s,n,l={}){const[i,c,u]=Ax(s,l),h=p=>{if(!yg(p))return;const{target:g}=p,x=n(g,p);if(typeof x!="function"||!g)return;const f=b=>{yg(b)&&(x(b),g.removeEventListener("pointerleave",f))};g.addEventListener("pointerleave",f,c)};return i.forEach(p=>{p.addEventListener("pointerenter",h,c)}),u}const Dx=(s,n)=>n?s===n?!0:Dx(s,n.parentElement):!1,zu=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,jw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ww(s){return jw.has(s.tagName)||s.tabIndex!==-1}const Bl=new WeakSet;function bg(s){return n=>{n.key==="Enter"&&s(n)}}function Nd(s,n){s.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const kw=(s,n)=>{const l=s.currentTarget;if(!l)return;const i=bg(()=>{if(Bl.has(l))return;Nd(l,"down");const c=bg(()=>{Nd(l,"up")}),u=()=>Nd(l,"cancel");l.addEventListener("keyup",c,n),l.addEventListener("blur",u,n)});l.addEventListener("keydown",i,n),l.addEventListener("blur",()=>l.removeEventListener("keydown",i),n)};function vg(s){return zu(s)&&!Ex()}function Nw(s,n,l={}){const[i,c,u]=Ax(s,l),h=p=>{const g=p.currentTarget;if(!vg(p))return;Bl.add(g);const x=n(g,p),f=(M,O)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",j),Bl.has(g)&&Bl.delete(g),vg(M)&&typeof x=="function"&&x(M,{success:O})},b=M=>{f(M,g===window||g===document||l.useGlobalTarget||Dx(g,M.target))},j=M=>{f(M,!1)};window.addEventListener("pointerup",b,c),window.addEventListener("pointercancel",j,c)};return i.forEach(p=>{(l.useGlobalTarget?window:p).addEventListener("pointerdown",h,c),Tx(p)&&(p.addEventListener("focus",x=>kw(x,c)),!ww(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),u}function Mx(s){return qp(s)&&"ownerSVGElement"in s}function Sw(s){return Mx(s)&&s.tagName==="svg"}const Tt=s=>!!(s&&s.getVelocity),Cw=[...kx,ct,fs],Tw=s=>Cw.find(wx(s)),Hu=k.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function jg(s,n){if(typeof s=="function")return s(n);s!=null&&(s.current=n)}function Ew(...s){return n=>{let l=!1;const i=s.map(c=>{const u=jg(c,n);return!l&&typeof u=="function"&&(l=!0),u});if(l)return()=>{for(let c=0;c<i.length;c++){const u=i[c];typeof u=="function"?u():jg(s[c],null)}}}}function Aw(...s){return k.useCallback(Ew(...s),s)}class Dw extends k.Component{getSnapshotBeforeUpdate(n){const l=this.props.childRef.current;if(l&&n.isPresent&&!this.props.isPresent){const i=l.offsetParent,c=Tx(i)&&i.offsetWidth||0,u=this.props.sizeRef.current;u.height=l.offsetHeight||0,u.width=l.offsetWidth||0,u.top=l.offsetTop,u.left=l.offsetLeft,u.right=c-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Mw({children:s,isPresent:n,anchorX:l,root:i}){const c=k.useId(),u=k.useRef(null),h=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=k.useContext(Hu),g=Aw(u,s?.ref);return k.useInsertionEffect(()=>{const{width:x,height:f,top:b,left:j,right:M}=h.current;if(n||!u.current||!x||!f)return;const O=l==="left"?`left: ${j}`:`right: ${M}`;u.current.dataset.motionPopId=c;const T=document.createElement("style");p&&(T.nonce=p);const R=i??document.head;return R.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${f}px !important;
            ${O}px !important;
            top: ${b}px !important;
          }
        `),()=>{R.contains(T)&&R.removeChild(T)}},[n]),t.jsx(Dw,{isPresent:n,childRef:u,sizeRef:h,children:k.cloneElement(s,{ref:g})})}const Rw=({children:s,initial:n,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:u,mode:h,anchorX:p,root:g})=>{const x=gu(Lw),f=k.useId();let b=!0,j=k.useMemo(()=>(b=!1,{id:f,initial:n,isPresent:l,custom:c,onExitComplete:M=>{x.set(M,!0);for(const O of x.values())if(!O)return;i&&i()},register:M=>(x.set(M,!1),()=>x.delete(M))}),[l,x,i]);return u&&b&&(j={...j}),k.useMemo(()=>{x.forEach((M,O)=>x.set(O,!1))},[l]),k.useEffect(()=>{!l&&!x.size&&i&&i()},[l]),h==="popLayout"&&(s=t.jsx(Mw,{isPresent:l,anchorX:p,root:g,children:s})),t.jsx(Wl.Provider,{value:j,children:s})};function Lw(){return new Map}function Rx(s=!0){const n=k.useContext(Wl);if(n===null)return[!0,null];const{isPresent:l,onExitComplete:i,register:c}=n,u=k.useId();k.useEffect(()=>{if(s)return c(u)},[s]);const h=k.useCallback(()=>s&&i&&i(u),[u,i,s]);return!l&&i?[!1,h]:[!0]}const Al=s=>s.key||"";function wg(s){const n=[];return k.Children.forEach(s,l=>{k.isValidElement(l)&&n.push(l)}),n}const Me=({children:s,custom:n,initial:l=!0,onExitComplete:i,presenceAffectsLayout:c=!0,mode:u="sync",propagate:h=!1,anchorX:p="left",root:g})=>{const[x,f]=Rx(h),b=k.useMemo(()=>wg(s),[s]),j=h&&!x?[]:b.map(Al),M=k.useRef(!0),O=k.useRef(b),T=gu(()=>new Map),[R,N]=k.useState(b),[A,H]=k.useState(b);Pp(()=>{M.current=!1,O.current=b;for(let D=0;D<A.length;D++){const U=Al(A[D]);j.includes(U)?T.delete(U):T.get(U)!==!0&&T.set(U,!1)}},[A,j.length,j.join("-")]);const C=[];if(b!==R){let D=[...b];for(let U=0;U<A.length;U++){const y=A[U],v=Al(y);j.includes(v)||(D.splice(U,0,y),C.push(y))}return u==="wait"&&C.length&&(D=C),H(wg(D)),N(b),null}const{forceRender:_}=k.useContext(fu);return t.jsx(t.Fragment,{children:A.map(D=>{const U=Al(D),y=h&&!x?!1:b===A||j.includes(U),v=()=>{if(T.has(U))T.set(U,!0);else return;let L=!0;T.forEach(S=>{S||(L=!1)}),L&&(_?.(),H(O.current),h&&f?.(),i&&i())};return t.jsx(Rw,{isPresent:y,initial:!M.current||l?void 0:!1,custom:n,presenceAffectsLayout:c,mode:u,root:g,onExitComplete:y?void 0:v,anchorX:p,children:D},U)})})},Lx=k.createContext({strict:!1}),kg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zn={};for(const s in kg)zn[s]={isEnabled:n=>kg[s].some(l=>!!n[l])};function Ow(s){for(const n in s)zn[n]={...zn[n],...s[n]}}const Bw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ql(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||Bw.has(s)}let Ox=s=>!ql(s);function _w(s){typeof s=="function"&&(Ox=n=>n.startsWith("on")?!ql(n):s(n))}try{_w(require("@emotion/is-prop-valid").default)}catch{}function zw(s,n,l){const i={};for(const c in s)c==="values"&&typeof s.values=="object"||(Ox(c)||l===!0&&ql(c)||!n&&!ql(c)||s.draggable&&c.startsWith("onDrag"))&&(i[c]=s[c]);return i}const Kl=k.createContext({});function Ql(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function ti(s){return typeof s=="string"||Array.isArray(s)}const Vu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uu=["initial",...Vu];function Xl(s){return Ql(s.animate)||Uu.some(n=>ti(s[n]))}function Bx(s){return!!(Xl(s)||s.variants)}function Hw(s,n){if(Xl(s)){const{initial:l,animate:i}=s;return{initial:l===!1||ti(l)?l:void 0,animate:ti(i)?i:void 0}}return s.inherit!==!1?n:{}}function Vw(s){const{initial:n,animate:l}=Hw(s,k.useContext(Kl));return k.useMemo(()=>({initial:n,animate:l}),[Ng(n),Ng(l)])}function Ng(s){return Array.isArray(s)?s.join(" "):s}const ai={};function Uw(s){for(const n in s)ai[n]=s[n],Nu(n)&&(ai[n].isCSSVariable=!0)}function _x(s,{layout:n,layoutId:l}){return qn.has(s)||s.startsWith("origin")||(n||l!==void 0)&&(!!ai[s]||s==="opacity")}const Pw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iw=In.length;function qw(s,n,l){let i="",c=!0;for(let u=0;u<Iw;u++){const h=In[u],p=s[h];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(h.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||l){const x=Cx(p,Bu[h]);if(!g){c=!1;const f=Pw[h]||h;i+=`${f}(${x}) `}l&&(n[h]=x)}}return i=i.trim(),l?i=l(n,c?"":i):c&&(i="none"),i}function Pu(s,n,l){const{style:i,vars:c,transformOrigin:u}=s;let h=!1,p=!1;for(const g in n){const x=n[g];if(qn.has(g)){h=!0;continue}else if(Nu(g)){c[g]=x;continue}else{const f=Cx(x,Bu[g]);g.startsWith("origin")?(p=!0,u[g]=f):i[g]=f}}if(n.transform||(h||l?i.transform=qw(n,s.transform,l):i.transform&&(i.transform="none")),p){const{originX:g="50%",originY:x="50%",originZ:f=0}=u;i.transformOrigin=`${g} ${x} ${f}`}}const Iu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zx(s,n,l){for(const i in n)!Tt(n[i])&&!_x(i,l)&&(s[i]=n[i])}function $w({transformTemplate:s},n){return k.useMemo(()=>{const l=Iu();return Pu(l,n,s),Object.assign({},l.vars,l.style)},[n])}function Fw(s,n){const l=s.style||{},i={};return zx(i,l,s),Object.assign(i,$w(s,n)),i}function Gw(s,n){const l={},i=Fw(s,n);return s.drag&&s.dragListener!==!1&&(l.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(l.tabIndex=0),l.style=i,l}const Yw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ww={offset:"strokeDashoffset",array:"strokeDasharray"};function Kw(s,n,l=1,i=0,c=!0){s.pathLength=1;const u=c?Yw:Ww;s[u.offset]=xe.transform(-i);const h=xe.transform(n),p=xe.transform(l);s[u.array]=`${h} ${p}`}function Hx(s,{attrX:n,attrY:l,attrScale:i,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...p},g,x,f){if(Pu(s,p,x),g){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:b,style:j}=s;b.transform&&(j.transform=b.transform,delete b.transform),(j.transform||b.transformOrigin)&&(j.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),j.transform&&(j.transformBox=f?.transformBox??"fill-box",delete b.transformBox),n!==void 0&&(b.x=n),l!==void 0&&(b.y=l),i!==void 0&&(b.scale=i),c!==void 0&&Kw(b,c,u,h,!1)}const Vx=()=>({...Iu(),attrs:{}}),Ux=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Qw(s,n,l,i){const c=k.useMemo(()=>{const u=Vx();return Hx(u,n,Ux(i),s.transformTemplate,s.style),{...u.attrs,style:{...u.style}}},[n]);if(s.style){const u={};zx(u,s.style,s),c.style={...u,...c.style}}return c}const Xw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qu(s){return typeof s!="string"||s.includes("-")?!1:!!(Xw.indexOf(s)>-1||/[A-Z]/u.test(s))}function Zw(s,n,l,{latestValues:i},c,u=!1){const p=(qu(s)?Qw:Gw)(n,i,c,s),g=zw(n,typeof s=="string",u),x=s!==k.Fragment?{...g,...p,ref:l}:{},{children:f}=n,b=k.useMemo(()=>Tt(f)?f.get():f,[f]);return k.createElement(s,{...x,children:b})}function Sg(s){const n=[{},{}];return s?.values.forEach((l,i)=>{n[0][i]=l.get(),n[1][i]=l.getVelocity()}),n}function $u(s,n,l,i){if(typeof n=="function"){const[c,u]=Sg(i);n=n(l!==void 0?l:s.custom,c,u)}if(typeof n=="string"&&(n=s.variants&&s.variants[n]),typeof n=="function"){const[c,u]=Sg(i);n=n(l!==void 0?l:s.custom,c,u)}return n}function _l(s){return Tt(s)?s.get():s}function Jw({scrapeMotionValuesFromProps:s,createRenderState:n},l,i,c){return{latestValues:ek(l,i,c,s),renderState:n()}}function ek(s,n,l,i){const c={},u=i(s,{});for(const j in u)c[j]=_l(u[j]);let{initial:h,animate:p}=s;const g=Xl(s),x=Bx(s);n&&x&&!g&&s.inherit!==!1&&(h===void 0&&(h=n.initial),p===void 0&&(p=n.animate));let f=l?l.initial===!1:!1;f=f||h===!1;const b=f?p:h;if(b&&typeof b!="boolean"&&!Ql(b)){const j=Array.isArray(b)?b:[b];for(let M=0;M<j.length;M++){const O=$u(s,j[M]);if(O){const{transitionEnd:T,transition:R,...N}=O;for(const A in N){let H=N[A];if(Array.isArray(H)){const C=f?H.length-1:0;H=H[C]}H!==null&&(c[A]=H)}for(const A in T)c[A]=T[A]}}}return c}const Px=s=>(n,l)=>{const i=k.useContext(Kl),c=k.useContext(Wl),u=()=>Jw(s,n,i,c);return l?u():gu(u)};function Fu(s,n,l){const{style:i}=s,c={};for(const u in i)(Tt(i[u])||n.style&&Tt(n.style[u])||_x(u,s)||l?.getValue(u)?.liveStyle!==void 0)&&(c[u]=i[u]);return c}const tk=Px({scrapeMotionValuesFromProps:Fu,createRenderState:Iu});function Ix(s,n,l){const i=Fu(s,n,l);for(const c in s)if(Tt(s[c])||Tt(n[c])){const u=In.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;i[u]=s[c]}return i}const ak=Px({scrapeMotionValuesFromProps:Ix,createRenderState:Vx}),sk=Symbol.for("motionComponentSymbol");function Mn(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function nk(s,n,l){return k.useCallback(i=>{i&&s.onMount&&s.onMount(i),n&&(i?n.mount(i):n.unmount()),l&&(typeof l=="function"?l(i):Mn(l)&&(l.current=i))},[n])}const Gu=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rk="framerAppearId",qx="data-"+Gu(rk),$x=k.createContext({});function ik(s,n,l,i,c){const{visualElement:u}=k.useContext(Kl),h=k.useContext(Lx),p=k.useContext(Wl),g=k.useContext(Hu).reducedMotion,x=k.useRef(null);i=i||h.renderer,!x.current&&i&&(x.current=i(s,{visualState:n,parent:u,props:l,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const f=x.current,b=k.useContext($x);f&&!f.projection&&c&&(f.type==="html"||f.type==="svg")&&lk(x.current,l,c,b);const j=k.useRef(!1);k.useInsertionEffect(()=>{f&&j.current&&f.update(l,p)});const M=l[qx],O=k.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return Pp(()=>{f&&(j.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),O.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!O.current&&f.animationState&&f.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),O.current=!1),f.enteringChildren=void 0)}),f}function lk(s,n,l,i){const{layoutId:c,layout:u,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:x,layoutCrossfade:f}=n;s.projection=new l(s.latestValues,n["data-framer-portal-id"]?void 0:Fx(s.parent)),s.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!h||p&&Mn(p),visualElement:s,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:g,layoutRoot:x})}function Fx(s){if(s)return s.options.allowProjection!==!1?s.projection:Fx(s.parent)}function Sd(s,{forwardMotionProps:n=!1}={},l,i){l&&Ow(l);const c=qu(s)?ak:tk;function u(p,g){let x;const f={...k.useContext(Hu),...p,layoutId:ok(p)},{isStatic:b}=f,j=Vw(p),M=c(p,b);if(!b&&pu){ck();const O=dk(f);x=O.MeasureLayout,j.visualElement=ik(s,M,f,i,O.ProjectionNode)}return t.jsxs(Kl.Provider,{value:j,children:[x&&j.visualElement?t.jsx(x,{visualElement:j.visualElement,...f}):null,Zw(s,p,nk(M,j.visualElement,g),M,b,n)]})}u.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const h=k.forwardRef(u);return h[sk]=s,h}function ok({layoutId:s}){const n=k.useContext(fu).id;return n&&s!==void 0?n+"-"+s:s}function ck(s,n){k.useContext(Lx).strict}function dk(s){const{drag:n,layout:l}=zn;if(!n&&!l)return{};const i={...n,...l};return{MeasureLayout:n?.isEnabled(s)||l?.isEnabled(s)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function uk(s,n){if(typeof Proxy>"u")return Sd;const l=new Map,i=(u,h)=>Sd(u,h,s,n),c=(u,h)=>i(u,h);return new Proxy(c,{get:(u,h)=>h==="create"?i:(l.has(h)||l.set(h,Sd(h,void 0,s,n)),l.get(h))})}function Gx({top:s,left:n,right:l,bottom:i}){return{x:{min:n,max:l},y:{min:s,max:i}}}function hk({x:s,y:n}){return{top:n.min,right:s.max,bottom:n.max,left:s.min}}function mk(s,n){if(!n)return s;const l=n({x:s.left,y:s.top}),i=n({x:s.right,y:s.bottom});return{top:l.y,left:l.x,bottom:i.y,right:i.x}}function Cd(s){return s===void 0||s===1}function Qd({scale:s,scaleX:n,scaleY:l}){return!Cd(s)||!Cd(n)||!Cd(l)}function zs(s){return Qd(s)||Yx(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Yx(s){return Cg(s.x)||Cg(s.y)}function Cg(s){return s&&s!=="0%"}function $l(s,n,l){const i=s-l,c=n*i;return l+c}function Tg(s,n,l,i,c){return c!==void 0&&(s=$l(s,c,i)),$l(s,l,i)+n}function Xd(s,n=0,l=1,i,c){s.min=Tg(s.min,n,l,i,c),s.max=Tg(s.max,n,l,i,c)}function Wx(s,{x:n,y:l}){Xd(s.x,n.translate,n.scale,n.originPoint),Xd(s.y,l.translate,l.scale,l.originPoint)}const Eg=.999999999999,Ag=1.0000000000001;function fk(s,n,l,i=!1){const c=l.length;if(!c)return;n.x=n.y=1;let u,h;for(let p=0;p<c;p++){u=l[p],h=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ln(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(n.x*=h.x.scale,n.y*=h.y.scale,Wx(s,h)),i&&zs(u.latestValues)&&Ln(s,u.latestValues))}n.x<Ag&&n.x>Eg&&(n.x=1),n.y<Ag&&n.y>Eg&&(n.y=1)}function Rn(s,n){s.min=s.min+n,s.max=s.max+n}function Dg(s,n,l,i,c=.5){const u=Xe(s.min,s.max,c);Xd(s,n,l,u,i)}function Ln(s,n){Dg(s.x,n.x,n.scaleX,n.scale,n.originX),Dg(s.y,n.y,n.scaleY,n.scale,n.originY)}function Kx(s,n){return Gx(mk(s.getBoundingClientRect(),n))}function gk(s,n,l){const i=Kx(s,l),{scroll:c}=n;return c&&(Rn(i.x,c.offset.x),Rn(i.y,c.offset.y)),i}const Mg=()=>({translate:0,scale:1,origin:0,originPoint:0}),On=()=>({x:Mg(),y:Mg()}),Rg=()=>({min:0,max:0}),it=()=>({x:Rg(),y:Rg()}),Zd={current:null},Qx={current:!1};function pk(){if(Qx.current=!0,!!pu)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),n=()=>Zd.current=s.matches;s.addEventListener("change",n),n()}else Zd.current=!1}const xk=new WeakMap;function yk(s,n,l){for(const i in n){const c=n[i],u=l[i];if(Tt(c))s.addValue(i,c);else if(Tt(u))s.addValue(i,_n(c,{owner:s}));else if(u!==c)if(s.hasValue(i)){const h=s.getValue(i);h.liveStyle===!0?h.jump(c):h.hasAnimated||h.set(c)}else{const h=s.getStaticValue(i);s.addValue(i,_n(h!==void 0?h:c,{owner:s}))}}for(const i in l)n[i]===void 0&&s.removeValue(i);return n}const Lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bk{scrapeMotionValuesFromProps(n,l,i){return{}}constructor({parent:n,props:l,presenceContext:i,reducedMotionConfig:c,blockInitialAnimation:u,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=Bt.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,We.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=l.initial?{...g}:{},this.renderState=x,this.parent=n,this.props=l,this.presenceContext=i,this.depth=n?n.depth+1:0,this.reducedMotionConfig=c,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=Xl(l),this.isVariantNode=Bx(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:f,...b}=this.scrapeMotionValuesFromProps(l,{},this);for(const j in b){const M=b[j];g[j]!==void 0&&Tt(M)&&M.set(g[j])}}mount(n){this.current=n,xk.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,i)=>this.bindToMotionValue(i,l)),Qx.current||pk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const l=this.features[n];l&&(l.unmount(),l.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,l){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const i=qn.has(n);i&&this.onBindTransform&&this.onBindTransform();const c=l.on("change",h=>{this.latestValues[n]=h,this.props.onUpdate&&We.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,l)),this.valueSubscriptions.set(n,()=>{c(),u&&u(),l.owner&&l.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in zn){const l=zn[n];if(!l)continue;const{isEnabled:i,Feature:c}=l;if(!this.features[n]&&c&&i(this.props)&&(this.features[n]=new c(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,l){this.latestValues[n]=l}update(n,l){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let i=0;i<Lg.length;i++){const c=Lg[i];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,h=n[u];h&&(this.propEventSubscriptions[c]=this.on(c,h))}this.prevMotionValues=yk(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(n),()=>l.variantChildren.delete(n)}addValue(n,l){const i=this.values.get(n);l!==i&&(i&&this.removeValue(n),this.bindToMotionValue(n,l),this.values.set(n,l),this.latestValues[n]=l.get())}removeValue(n){this.values.delete(n);const l=this.valueSubscriptions.get(n);l&&(l(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,l){if(this.props.values&&this.props.values[n])return this.props.values[n];let i=this.values.get(n);return i===void 0&&l!==void 0&&(i=_n(l===null?void 0:l,{owner:this}),this.addValue(n,i)),i}readValue(n,l){let i=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return i!=null&&(typeof i=="string"&&(Ip(i)||$p(i))?i=parseFloat(i):!Tw(i)&&fs.test(l)&&(i=Sx(n,l)),this.setBaseTarget(n,Tt(i)?i.get():i)),Tt(i)?i.get():i}setBaseTarget(n,l){this.baseTarget[n]=l}getBaseTarget(n){const{initial:l}=this.props;let i;if(typeof l=="string"||typeof l=="object"){const u=$u(this.props,l,this.presenceContext?.custom);u&&(i=u[n])}if(l&&i!==void 0)return i;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!Tt(c)?c:this.initialValues[n]!==void 0&&i===void 0?void 0:this.baseTarget[n]}on(n,l){return this.events[n]||(this.events[n]=new ju),this.events[n].add(l)}notify(n,...l){this.events[n]&&this.events[n].notify(...l)}scheduleRenderMicrotask(){_u.render(this.render)}}class Xx extends bk{constructor(){super(...arguments),this.KeyframeResolver=gw}sortInstanceNodePosition(n,l){return n.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(n,l){return n.style?n.style[l]:void 0}removeValueFromRenderState(n,{vars:l,style:i}){delete l[n],delete i[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Tt(n)&&(this.childSubscription=n.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function Zx(s,{style:n,vars:l},i,c){const u=s.style;let h;for(h in n)u[h]=n[h];c?.applyProjectionStyles(u,i);for(h in l)u.setProperty(h,l[h])}function vk(s){return window.getComputedStyle(s)}class jk extends Xx{constructor(){super(...arguments),this.type="html",this.renderInstance=Zx}readValueFromInstance(n,l){if(qn.has(l))return this.projection?.isProjecting?qd(l):Oj(n,l);{const i=vk(n),c=(Nu(l)?i.getPropertyValue(l):i[l])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:l}){return Kx(n,l)}build(n,l,i){Pu(n,l,i.transformTemplate)}scrapeMotionValuesFromProps(n,l,i){return Fu(n,l,i)}}const Jx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wk(s,n,l,i){Zx(s,n,void 0,i);for(const c in n.attrs)s.setAttribute(Jx.has(c)?c:Gu(c),n.attrs[c])}class kk extends Xx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(n,l){return n[l]}readValueFromInstance(n,l){if(qn.has(l)){const i=Nx(l);return i&&i.default||0}return l=Jx.has(l)?l:Gu(l),n.getAttribute(l)}scrapeMotionValuesFromProps(n,l,i){return Ix(n,l,i)}build(n,l,i){Hx(n,l,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(n,l,i,c){wk(n,l,i,c)}mount(n){this.isSVGTag=Ux(n.tagName),super.mount(n)}}const Nk=(s,n)=>qu(s)?new kk(n):new jk(n,{allowProjection:s!==k.Fragment});function Bn(s,n,l){const i=s.getProps();return $u(i,n,l!==void 0?l:i.custom,s)}const Jd=s=>Array.isArray(s);function Sk(s,n,l){s.hasValue(n)?s.getValue(n).set(l):s.addValue(n,_n(l))}function Ck(s){return Jd(s)?s[s.length-1]||0:s}function Tk(s,n){const l=Bn(s,n);let{transitionEnd:i={},transition:c={},...u}=l||{};u={...u,...i};for(const h in u){const p=Ck(u[h]);Sk(s,h,p)}}function Ek(s){return!!(Tt(s)&&s.add)}function eu(s,n){const l=s.getValue("willChange");if(Ek(l))return l.add(n);if(!l&&Va.WillChange){const i=new Va.WillChange("auto");s.addValue("willChange",i),i.add(n)}}function ey(s){return s.props[qx]}const Ak=s=>s!==null;function Dk(s,{repeat:n,repeatType:l="loop"},i){const c=s.filter(Ak),u=n&&l!=="loop"&&n%2===1?0:c.length-1;return c[u]}const Mk={type:"spring",stiffness:500,damping:25,restSpeed:10},Rk=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),Lk={type:"keyframes",duration:.8},Ok={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bk=(s,{keyframes:n})=>n.length>2?Lk:qn.has(s)?s.startsWith("scale")?Rk(n[1]):Mk:Ok;function _k({when:s,delay:n,delayChildren:l,staggerChildren:i,staggerDirection:c,repeat:u,repeatType:h,repeatDelay:p,from:g,elapsed:x,...f}){return!!Object.keys(f).length}const Yu=(s,n,l,i={},c,u)=>h=>{const p=Ou(i,s)||{},g=p.delay||i.delay||0;let{elapsed:x=0}=i;x=x-pa(g);const f={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:n.getVelocity(),...p,delay:-x,onUpdate:j=>{n.set(j),p.onUpdate&&p.onUpdate(j)},onComplete:()=>{h(),p.onComplete&&p.onComplete()},name:s,motionValue:n,element:u?void 0:c};_k(p)||Object.assign(f,Bk(s,f)),f.duration&&(f.duration=pa(f.duration)),f.repeatDelay&&(f.repeatDelay=pa(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let b=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Wd(f),f.delay===0&&(b=!0)),(Va.instantAnimations||Va.skipAnimations)&&(b=!0,Wd(f),f.delay=0),f.allowFlatten=!p.type&&!p.ease,b&&!u&&n.get()!==void 0){const j=Dk(f.keyframes,p);if(j!==void 0){We.update(()=>{f.onUpdate(j),f.onComplete()});return}}return p.isSync?new Ru(f):new sw(f)};function zk({protectedKeys:s,needsAnimating:n},l){const i=s.hasOwnProperty(l)&&n[l]!==!0;return n[l]=!1,i}function ty(s,n,{delay:l=0,transitionOverride:i,type:c}={}){let{transition:u=s.getDefaultTransition(),transitionEnd:h,...p}=n;i&&(u=i);const g=[],x=c&&s.animationState&&s.animationState.getState()[c];for(const f in p){const b=s.getValue(f,s.latestValues[f]??null),j=p[f];if(j===void 0||x&&zk(x,f))continue;const M={delay:l,...Ou(u||{},f)},O=b.get();if(O!==void 0&&!b.isAnimating&&!Array.isArray(j)&&j===O&&!M.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const N=ey(s);if(N){const A=window.MotionHandoffAnimation(N,f,We);A!==null&&(M.startTime=A,T=!0)}}eu(s,f),b.start(Yu(f,b,j,s.shouldReduceMotion&&jx.has(f)?{type:!1}:M,s,T));const R=b.animation;R&&g.push(R)}return h&&Promise.all(g).then(()=>{We.update(()=>{h&&Tk(s,h)})}),g}function ay(s,n,l,i=0,c=1){const u=Array.from(s).sort((x,f)=>x.sortNodePosition(f)).indexOf(n),h=s.size,p=(h-1)*i;return typeof l=="function"?l(u,h):c===1?u*i:p-u*i}function tu(s,n,l={}){const i=Bn(s,n,l.type==="exit"?s.presenceContext?.custom:void 0);let{transition:c=s.getDefaultTransition()||{}}=i||{};l.transitionOverride&&(c=l.transitionOverride);const u=i?()=>Promise.all(ty(s,i,l)):()=>Promise.resolve(),h=s.variantChildren&&s.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:f,staggerDirection:b}=c;return Hk(s,n,g,x,f,b,l)}:()=>Promise.resolve(),{when:p}=c;if(p){const[g,x]=p==="beforeChildren"?[u,h]:[h,u];return g().then(()=>x())}else return Promise.all([u(),h(l.delay)])}function Hk(s,n,l=0,i=0,c=0,u=1,h){const p=[];for(const g of s.variantChildren)g.notify("AnimationStart",n),p.push(tu(g,n,{...h,delay:l+(typeof i=="function"?0:i)+ay(s.variantChildren,g,i,c,u)}).then(()=>g.notify("AnimationComplete",n)));return Promise.all(p)}function Vk(s,n,l={}){s.notify("AnimationStart",n);let i;if(Array.isArray(n)){const c=n.map(u=>tu(s,u,l));i=Promise.all(c)}else if(typeof n=="string")i=tu(s,n,l);else{const c=typeof n=="function"?Bn(s,n,l.custom):n;i=Promise.all(ty(s,c,l))}return i.then(()=>{s.notify("AnimationComplete",n)})}function sy(s,n){if(!Array.isArray(n))return!1;const l=n.length;if(l!==s.length)return!1;for(let i=0;i<l;i++)if(n[i]!==s[i])return!1;return!0}const Uk=Uu.length;function ny(s){if(!s)return;if(!s.isControllingVariants){const l=s.parent?ny(s.parent)||{}:{};return s.props.initial!==void 0&&(l.initial=s.props.initial),l}const n={};for(let l=0;l<Uk;l++){const i=Uu[l],c=s.props[i];(ti(c)||c===!1)&&(n[i]=c)}return n}const Pk=[...Vu].reverse(),Ik=Vu.length;function qk(s){return n=>Promise.all(n.map(({animation:l,options:i})=>Vk(s,l,i)))}function $k(s){let n=qk(s),l=Og(),i=!0;const c=g=>(x,f)=>{const b=Bn(s,f,g==="exit"?s.presenceContext?.custom:void 0);if(b){const{transition:j,transitionEnd:M,...O}=b;x={...x,...O,...M}}return x};function u(g){n=g(s)}function h(g){const{props:x}=s,f=ny(s.parent)||{},b=[],j=new Set;let M={},O=1/0;for(let R=0;R<Ik;R++){const N=Pk[R],A=l[N],H=x[N]!==void 0?x[N]:f[N],C=ti(H),_=N===g?A.isActive:null;_===!1&&(O=R);let D=H===f[N]&&H!==x[N]&&C;if(D&&i&&s.manuallyAnimateOnMount&&(D=!1),A.protectedKeys={...M},!A.isActive&&_===null||!H&&!A.prevProp||Ql(H)||typeof H=="boolean")continue;const U=Fk(A.prevProp,H);let y=U||N===g&&A.isActive&&!D&&C||R>O&&C,v=!1;const L=Array.isArray(H)?H:[H];let S=L.reduce(c(N),{});_===!1&&(S={});const{prevResolvedValues:V={}}=A,z={...V,...S},q=P=>{y=!0,j.has(P)&&(v=!0,j.delete(P)),A.needsAnimating[P]=!0;const ee=s.getValue(P);ee&&(ee.liveStyle=!1)};for(const P in z){const ee=S[P],ae=V[P];if(M.hasOwnProperty(P))continue;let I=!1;Jd(ee)&&Jd(ae)?I=!sy(ee,ae):I=ee!==ae,I?ee!=null?q(P):j.add(P):ee!==void 0&&j.has(P)?q(P):A.protectedKeys[P]=!0}A.prevProp=H,A.prevResolvedValues=S,A.isActive&&(M={...M,...S}),i&&s.blockInitialAnimation&&(y=!1);const Q=D&&U;y&&(!Q||v)&&b.push(...L.map(P=>{const ee={type:N};if(typeof P=="string"&&i&&!Q&&s.manuallyAnimateOnMount&&s.parent){const{parent:ae}=s,I=Bn(ae,P);if(ae.enteringChildren&&I){const{delayChildren:W}=I.transition||{};ee.delay=ay(ae.enteringChildren,s,W)}}return{animation:P,options:ee}}))}if(j.size){const R={};if(typeof x.initial!="boolean"){const N=Bn(s,Array.isArray(x.initial)?x.initial[0]:x.initial);N&&N.transition&&(R.transition=N.transition)}j.forEach(N=>{const A=s.getBaseTarget(N),H=s.getValue(N);H&&(H.liveStyle=!0),R[N]=A??null}),b.push({animation:R})}let T=!!b.length;return i&&(x.initial===!1||x.initial===x.animate)&&!s.manuallyAnimateOnMount&&(T=!1),i=!1,T?n(b):Promise.resolve()}function p(g,x){if(l[g].isActive===x)return Promise.resolve();s.variantChildren?.forEach(b=>b.animationState?.setActive(g,x)),l[g].isActive=x;const f=h(g);for(const b in l)l[b].protectedKeys={};return f}return{animateChanges:h,setActive:p,setAnimateFunction:u,getState:()=>l,reset:()=>{l=Og(),i=!0}}}function Fk(s,n){return typeof n=="string"?n!==s:Array.isArray(n)?!sy(n,s):!1}function _s(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Og(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}class ps{constructor(n){this.isMounted=!1,this.node=n}update(){}}class Gk extends ps{constructor(n){super(n),n.animationState||(n.animationState=$k(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ql(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:l}=this.node.prevProps||{};n!==l&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Yk=0;class Wk extends ps{constructor(){super(...arguments),this.id=Yk++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:l}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===i)return;const c=this.node.animationState.setActive("exit",!n);l&&!n&&c.then(()=>{l(this.id)})}mount(){const{register:n,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Kk={animation:{Feature:Gk},exit:{Feature:Wk}};function si(s,n,l,i={passive:!0}){return s.addEventListener(n,l,i),()=>s.removeEventListener(n,l)}function ui(s){return{point:{x:s.pageX,y:s.pageY}}}const Qk=s=>n=>zu(n)&&s(n,ui(n));function Yr(s,n,l,i){return si(s,n,Qk(l),i)}const ry=1e-4,Xk=1-ry,Zk=1+ry,iy=.01,Jk=0-iy,eN=0+iy;function At(s){return s.max-s.min}function tN(s,n,l){return Math.abs(s-n)<=l}function Bg(s,n,l,i=.5){s.origin=i,s.originPoint=Xe(n.min,n.max,s.origin),s.scale=At(l)/At(n),s.translate=Xe(l.min,l.max,s.origin)-s.originPoint,(s.scale>=Xk&&s.scale<=Zk||isNaN(s.scale))&&(s.scale=1),(s.translate>=Jk&&s.translate<=eN||isNaN(s.translate))&&(s.translate=0)}function Wr(s,n,l,i){Bg(s.x,n.x,l.x,i?i.originX:void 0),Bg(s.y,n.y,l.y,i?i.originY:void 0)}function _g(s,n,l){s.min=l.min+n.min,s.max=s.min+At(n)}function aN(s,n,l){_g(s.x,n.x,l.x),_g(s.y,n.y,l.y)}function zg(s,n,l){s.min=n.min-l.min,s.max=s.min+At(n)}function Kr(s,n,l){zg(s.x,n.x,l.x),zg(s.y,n.y,l.y)}function aa(s){return[s("x"),s("y")]}const ly=({current:s})=>s?s.ownerDocument.defaultView:null,Hg=(s,n)=>Math.abs(s-n);function sN(s,n){const l=Hg(s.x,n.x),i=Hg(s.y,n.y);return Math.sqrt(l**2+i**2)}class oy{constructor(n,l,{transformPagePoint:i,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Ed(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,O=sN(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!O)return;const{point:T}=j,{timestamp:R}=kt;this.history.push({...T,timestamp:R});const{onStart:N,onMove:A}=this.handlers;M||(N&&N(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,j)},this.handlePointerMove=(j,M)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=Td(M,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(j,M)=>{this.end();const{onEnd:O,onSessionEnd:T,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Ed(j.type==="pointercancel"?this.lastMoveEventInfo:Td(M,this.transformPagePoint),this.history);this.startEvent&&O&&O(j,N),T&&T(j,N)},!zu(n))return;this.dragSnapToOrigin=u,this.handlers=l,this.transformPagePoint=i,this.distanceThreshold=h,this.contextWindow=c||window;const p=ui(n),g=Td(p,this.transformPagePoint),{point:x}=g,{timestamp:f}=kt;this.history=[{...x,timestamp:f}];const{onSessionStart:b}=l;b&&b(n,Ed(g,this.history)),this.removeListeners=oi(Yr(this.contextWindow,"pointermove",this.handlePointerMove),Yr(this.contextWindow,"pointerup",this.handlePointerUp),Yr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),ms(this.updatePoint)}}function Td(s,n){return n?{point:n(s.point)}:s}function Vg(s,n){return{x:s.x-n.x,y:s.y-n.y}}function Ed({point:s},n){return{point:s,delta:Vg(s,cy(n)),offset:Vg(s,nN(n)),velocity:rN(n,.1)}}function nN(s){return s[0]}function cy(s){return s[s.length-1]}function rN(s,n){if(s.length<2)return{x:0,y:0};let l=s.length-1,i=null;const c=cy(s);for(;l>=0&&(i=s[l],!(c.timestamp-i.timestamp>pa(n)));)l--;if(!i)return{x:0,y:0};const u=xa(c.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const h={x:(c.x-i.x)/u,y:(c.y-i.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function iN(s,{min:n,max:l},i){return n!==void 0&&s<n?s=i?Xe(n,s,i.min):Math.max(s,n):l!==void 0&&s>l&&(s=i?Xe(l,s,i.max):Math.min(s,l)),s}function Ug(s,n,l){return{min:n!==void 0?s.min+n:void 0,max:l!==void 0?s.max+l-(s.max-s.min):void 0}}function lN(s,{top:n,left:l,bottom:i,right:c}){return{x:Ug(s.x,l,c),y:Ug(s.y,n,i)}}function Pg(s,n){let l=n.min-s.min,i=n.max-s.max;return n.max-n.min<s.max-s.min&&([l,i]=[i,l]),{min:l,max:i}}function oN(s,n){return{x:Pg(s.x,n.x),y:Pg(s.y,n.y)}}function cN(s,n){let l=.5;const i=At(s),c=At(n);return c>i?l=Zr(n.min,n.max-i,s.min):i>c&&(l=Zr(s.min,s.max-c,n.min)),Ha(0,1,l)}function dN(s,n){const l={};return n.min!==void 0&&(l.min=n.min-s.min),n.max!==void 0&&(l.max=n.max-s.min),l}const au=.35;function uN(s=au){return s===!1?s=0:s===!0&&(s=au),{x:Ig(s,"left","right"),y:Ig(s,"top","bottom")}}function Ig(s,n,l){return{min:qg(s,n),max:qg(s,l)}}function qg(s,n){return typeof s=="number"?s:s[n]||0}const hN=new WeakMap;class mN{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:l=!1,distanceThreshold:i}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(ui(b).point)},h=(b,j)=>{const{drag:M,dragPropagation:O,onDragStart:T}=this.getProps();if(M&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bw(M),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=j,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aa(N=>{let A=this.getAxisMotionValue(N).get()||0;if(ya.test(A)){const{projection:H}=this.visualElement;if(H&&H.layout){const C=H.layout.layoutBox[N];C&&(A=At(C)*(parseFloat(A)/100))}}this.originPoint[N]=A}),T&&We.postRender(()=>T(b,j)),eu(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},p=(b,j)=>{this.latestPointerEvent=b,this.latestPanInfo=j;const{dragPropagation:M,dragDirectionLock:O,onDirectionLock:T,onDrag:R}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:N}=j;if(O&&this.currentDirection===null){this.currentDirection=fN(N),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",j.point,N),this.updateAxis("y",j.point,N),this.visualElement.render(),R&&R(b,j)},g=(b,j)=>{this.latestPointerEvent=b,this.latestPanInfo=j,this.stop(b,j),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>aa(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new oy(n,{onSessionStart:u,onStart:h,onMove:p,onSessionEnd:g,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:ly(this.visualElement)})}stop(n,l){const i=n||this.latestPointerEvent,c=l||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!i)return;const{velocity:h}=c;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&We.postRender(()=>p(i,c))}cancel(){this.isDragging=!1;const{projection:n,animationState:l}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(n,l,i){const{drag:c}=this.getProps();if(!i||!Dl(n,c,this.currentDirection))return;const u=this.getAxisMotionValue(n);let h=this.originPoint[n]+i[n];this.constraints&&this.constraints[n]&&(h=iN(h,this.constraints[n],this.elastic[n])),u.set(h)}resolveConstraints(){const{dragConstraints:n,dragElastic:l}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;n&&Mn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=lN(i.layoutBox,n):this.constraints=!1,this.elastic=uN(l),c!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&aa(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=dN(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:l}=this.getProps();if(!n||!Mn(n))return!1;const i=n.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=gk(i,c.root,this.visualElement.getTransformPagePoint());let h=oN(c.layout.layoutBox,u);if(l){const p=l(hk(h));this.hasMutatedConstraints=!!p,p&&(h=Gx(p))}return h}startAnimation(n){const{drag:l,dragMomentum:i,dragElastic:c,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},x=aa(f=>{if(!Dl(f,l,this.currentDirection))return;let b=g&&g[f]||{};h&&(b={min:0,max:0});const j=c?200:1e6,M=c?40:1e7,O={type:"inertia",velocity:i?n[f]:0,bounceStiffness:j,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(f,O)});return Promise.all(x).then(p)}startAxisValueAnimation(n,l){const i=this.getAxisMotionValue(n);return eu(this.visualElement,n),i.start(Yu(n,i,0,l,this.visualElement,!1))}stopAnimation(){aa(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){aa(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const l=`_drag${n.toUpperCase()}`,i=this.visualElement.getProps(),c=i[l];return c||this.visualElement.getValue(n,(i.initial?i.initial[n]:void 0)||0)}snapToCursor(n){aa(l=>{const{drag:i}=this.getProps();if(!Dl(l,i,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(l);if(c&&c.layout){const{min:h,max:p}=c.layout.layoutBox[l];u.set(n[l]-Xe(h,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:l}=this.getProps(),{projection:i}=this.visualElement;if(!Mn(l)||!i||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};aa(h=>{const p=this.getAxisMotionValue(h);if(p&&this.constraints!==!1){const g=p.get();c[h]=cN({min:g,max:g},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),aa(h=>{if(!Dl(h,n,null))return;const p=this.getAxisMotionValue(h),{min:g,max:x}=this.constraints[h];p.set(Xe(g,x,c[h]))})}addListeners(){if(!this.visualElement.current)return;hN.set(this.visualElement,this);const n=this.visualElement.current,l=Yr(n,"pointerdown",g=>{const{drag:x,dragListener:f=!0}=this.getProps();x&&f&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();Mn(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",i);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),We.read(i);const h=si(window,"resize",()=>this.scalePositionWithinConstraints()),p=c.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(aa(f=>{const b=this.getAxisMotionValue(f);b&&(this.originPoint[f]+=g[f].translate,b.set(b.get()+g[f].translate))}),this.visualElement.render())}));return()=>{h(),l(),u(),p&&p()}}getProps(){const n=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:i=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:h=au,dragMomentum:p=!0}=n;return{...n,drag:l,dragDirectionLock:i,dragPropagation:c,dragConstraints:u,dragElastic:h,dragMomentum:p}}}function Dl(s,n,l){return(n===!0||n===s)&&(l===null||l===s)}function fN(s,n=10){let l=null;return Math.abs(s.y)>n?l="y":Math.abs(s.x)>n&&(l="x"),l}class gN extends ps{constructor(n){super(n),this.removeGroupControls=sa,this.removeListeners=sa,this.controls=new mN(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sa}unmount(){this.removeGroupControls(),this.removeListeners()}}const $g=s=>(n,l)=>{s&&We.postRender(()=>s(n,l))};class pN extends ps{constructor(){super(...arguments),this.removePointerDownListener=sa}onPointerDown(n){this.session=new oy(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ly(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:l,onPan:i,onPanEnd:c}=this.node.getProps();return{onSessionStart:$g(n),onStart:$g(l),onMove:i,onEnd:(u,h)=>{delete this.session,c&&We.postRender(()=>c(u,h))}}}mount(){this.removePointerDownListener=Yr(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fg(s,n){return n.max===n.min?0:s/(n.max-n.min)*100}const qr={correct:(s,n)=>{if(!n.target)return s;if(typeof s=="string")if(xe.test(s))s=parseFloat(s);else return s;const l=Fg(s,n.target.x),i=Fg(s,n.target.y);return`${l}% ${i}%`}},xN={correct:(s,{treeScale:n,projectionDelta:l})=>{const i=s,c=fs.parse(s);if(c.length>5)return i;const u=fs.createTransformer(s),h=typeof c[0]!="number"?1:0,p=l.x.scale*n.x,g=l.y.scale*n.y;c[0+h]/=p,c[1+h]/=g;const x=Xe(p,g,.5);return typeof c[2+h]=="number"&&(c[2+h]/=x),typeof c[3+h]=="number"&&(c[3+h]/=x),u(c)}};let Ad=!1;class yN extends k.Component{componentDidMount(){const{visualElement:n,layoutGroup:l,switchLayoutGroup:i,layoutId:c}=this.props,{projection:u}=n;Uw(bN),u&&(l.group&&l.group.add(u),i&&i.register&&c&&i.register(u),Ad&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),zl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:l,visualElement:i,drag:c,isPresent:u}=this.props,{projection:h}=i;return h&&(h.isPresent=u,Ad=!0,c||n.layoutDependency!==l||l===void 0||n.isPresent!==u?h.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?h.promote():h.relegate()||We.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),_u.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:l,switchLayoutGroup:i}=this.props,{projection:c}=n;Ad=!0,c&&(c.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(c),i&&i.deregister&&i.deregister(c))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function dy(s){const[n,l]=Rx(),i=k.useContext(fu);return t.jsx(yN,{...s,layoutGroup:i,switchLayoutGroup:k.useContext($x),isPresent:n,safeToRemove:l})}const bN={borderRadius:{...qr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qr,borderTopRightRadius:qr,borderBottomLeftRadius:qr,borderBottomRightRadius:qr,boxShadow:xN};function vN(s,n,l){const i=Tt(s)?s:_n(s);return i.start(Yu("",i,n,l)),i.animation}const jN=(s,n)=>s.depth-n.depth;class wN{constructor(){this.children=[],this.isDirty=!1}add(n){xu(this.children,n),this.isDirty=!0}remove(n){yu(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(jN),this.isDirty=!1,this.children.forEach(n)}}function kN(s,n){const l=Bt.now(),i=({timestamp:c})=>{const u=c-l;u>=n&&(ms(i),s(u-n))};return We.setup(i,!0),()=>ms(i)}const uy=["TopLeft","TopRight","BottomLeft","BottomRight"],NN=uy.length,Gg=s=>typeof s=="string"?parseFloat(s):s,Yg=s=>typeof s=="number"||xe.test(s);function SN(s,n,l,i,c,u){c?(s.opacity=Xe(0,l.opacity??1,CN(i)),s.opacityExit=Xe(n.opacity??1,0,TN(i))):u&&(s.opacity=Xe(n.opacity??1,l.opacity??1,i));for(let h=0;h<NN;h++){const p=`border${uy[h]}Radius`;let g=Wg(n,p),x=Wg(l,p);if(g===void 0&&x===void 0)continue;g||(g=0),x||(x=0),g===0||x===0||Yg(g)===Yg(x)?(s[p]=Math.max(Xe(Gg(g),Gg(x),i),0),(ya.test(x)||ya.test(g))&&(s[p]+="%")):s[p]=x}(n.rotate||l.rotate)&&(s.rotate=Xe(n.rotate||0,l.rotate||0,i))}function Wg(s,n){return s[n]!==void 0?s[n]:s.borderRadius}const CN=hy(0,.5,Zp),TN=hy(.5,.95,sa);function hy(s,n,l){return i=>i<s?0:i>n?1:l(Zr(s,n,i))}function Kg(s,n){s.min=n.min,s.max=n.max}function ta(s,n){Kg(s.x,n.x),Kg(s.y,n.y)}function Qg(s,n){s.translate=n.translate,s.scale=n.scale,s.originPoint=n.originPoint,s.origin=n.origin}function Xg(s,n,l,i,c){return s-=n,s=$l(s,1/l,i),c!==void 0&&(s=$l(s,1/c,i)),s}function EN(s,n=0,l=1,i=.5,c,u=s,h=s){if(ya.test(n)&&(n=parseFloat(n),n=Xe(h.min,h.max,n/100)-h.min),typeof n!="number")return;let p=Xe(u.min,u.max,i);s===u&&(p-=n),s.min=Xg(s.min,n,l,p,c),s.max=Xg(s.max,n,l,p,c)}function Zg(s,n,[l,i,c],u,h){EN(s,n[l],n[i],n[c],n.scale,u,h)}const AN=["x","scaleX","originX"],DN=["y","scaleY","originY"];function Jg(s,n,l,i){Zg(s.x,n,AN,l?l.x:void 0,i?i.x:void 0),Zg(s.y,n,DN,l?l.y:void 0,i?i.y:void 0)}function ep(s){return s.translate===0&&s.scale===1}function my(s){return ep(s.x)&&ep(s.y)}function tp(s,n){return s.min===n.min&&s.max===n.max}function MN(s,n){return tp(s.x,n.x)&&tp(s.y,n.y)}function ap(s,n){return Math.round(s.min)===Math.round(n.min)&&Math.round(s.max)===Math.round(n.max)}function fy(s,n){return ap(s.x,n.x)&&ap(s.y,n.y)}function sp(s){return At(s.x)/At(s.y)}function np(s,n){return s.translate===n.translate&&s.scale===n.scale&&s.originPoint===n.originPoint}class RN{constructor(){this.members=[]}add(n){xu(this.members,n),n.scheduleRender()}remove(n){if(yu(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(n){const l=this.members.findIndex(c=>n===c);if(l===0)return!1;let i;for(let c=l;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(n,l){const i=this.lead;if(n!==i&&(this.prevLead=i,this.lead=n,n.show(),i)){i.instance&&i.scheduleRender(),n.scheduleRender(),n.resumeFrom=i,l&&(n.resumeFrom.preserveOpacity=!0),i.snapshot&&(n.snapshot=i.snapshot,n.snapshot.latestValues=i.animationValues||i.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:c}=n.options;c===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:l,resumingFrom:i}=n;l.onExitComplete&&l.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LN(s,n,l){let i="";const c=s.x.translate/n.x,u=s.y.translate/n.y,h=l?.z||0;if((c||u||h)&&(i=`translate3d(${c}px, ${u}px, ${h}px) `),(n.x!==1||n.y!==1)&&(i+=`scale(${1/n.x}, ${1/n.y}) `),l){const{transformPerspective:x,rotate:f,rotateX:b,rotateY:j,skewX:M,skewY:O}=l;x&&(i=`perspective(${x}px) ${i}`),f&&(i+=`rotate(${f}deg) `),b&&(i+=`rotateX(${b}deg) `),j&&(i+=`rotateY(${j}deg) `),M&&(i+=`skewX(${M}deg) `),O&&(i+=`skewY(${O}deg) `)}const p=s.x.scale*n.x,g=s.y.scale*n.y;return(p!==1||g!==1)&&(i+=`scale(${p}, ${g})`),i||"none"}const Dd=["","X","Y","Z"],ON=1e3;let BN=0;function Md(s,n,l,i){const{latestValues:c}=n;c[s]&&(l[s]=c[s],n.setStaticValue(s,0),i&&(i[s]=0))}function gy(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:n}=s.options;if(!n)return;const l=ey(n);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:c,layoutId:u}=s.options;window.MotionCancelOptimisedAnimation(l,"transform",We,!(c||u))}const{parent:i}=s;i&&!i.hasCheckedOptimisedAppear&&gy(i)}function py({attachResizeListener:s,defaultParent:n,measureScroll:l,checkIsScrollRoot:i,resetTransform:c}){return class{constructor(h={},p=n?.()){this.id=BN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HN),this.nodes.forEach(IN),this.nodes.forEach(qN),this.nodes.forEach(VN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new wN)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new ju),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const g=this.eventHandlers.get(h);g&&g.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=Mx(h)&&!Sw(h),this.instance=h;const{layoutId:p,layout:g,visualElement:x}=this.options;if(x&&!x.current&&x.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),s){let f,b=0;const j=()=>this.root.updateBlockedByResize=!1;We.read(()=>{b=window.innerWidth}),s(h,()=>{const M=window.innerWidth;M!==b&&(b=M,this.root.updateBlockedByResize=!0,f&&f(),f=kN(j,250),zl.hasAnimatedSinceResize&&(zl.hasAnimatedSinceResize=!1,this.nodes.forEach(lp)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&x&&(p||g)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:b,hasRelativeLayoutChanged:j,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||x.getDefaultTransition()||WN,{onLayoutAnimationStart:T,onLayoutAnimationComplete:R}=x.getProps(),N=!this.targetLayout||!fy(this.targetLayout,M),A=!b&&j;if(this.options.layoutRoot||this.resumeFrom||A||b&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Ou(O,"layout"),onPlay:T,onComplete:R};(x.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(f,A)}else b||lp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($N),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const b=this.path[f];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ip);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PN),this.nodes.forEach(_N),this.nodes.forEach(zN)):this.nodes.forEach(ip),this.clearAllSnapshots();const p=Bt.now();kt.delta=Ha(0,1e3/60,p-kt.timestamp),kt.timestamp=p,kt.isProcessing=!0,bd.update.process(kt),bd.preRender.process(kt),bd.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_u.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UN),this.sharedNodes.forEach(FN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:g,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!c)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!my(this.projectionDelta),g=this.getTransformTemplate(),x=g?g(this.latestValues,""):void 0,f=x!==this.prevTransformTemplateValue;h&&this.instance&&(p||zs(this.latestValues)||f)&&(c(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return h&&(g=this.removeTransform(g)),KN(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return it();const p=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QN))){const{scroll:x}=this.root;x&&(Rn(p.x,x.offset.x),Rn(p.y,x.offset.y))}return p}removeElementScroll(h){const p=it();if(ta(p,h),this.scroll?.wasRoot)return p;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:f,options:b}=x;x!==this.root&&f&&b.layoutScroll&&(f.wasRoot&&ta(p,h),Rn(p.x,f.offset.x),Rn(p.y,f.offset.y))}return p}applyTransform(h,p=!1){const g=it();ta(g,h);for(let x=0;x<this.path.length;x++){const f=this.path[x];!p&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ln(g,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),zs(f.latestValues)&&Ln(g,f.latestValues)}return zs(this.latestValues)&&Ln(g,this.latestValues),g}removeTransform(h){const p=it();ta(p,h);for(let g=0;g<this.path.length;g++){const x=this.path[g];if(!x.instance||!zs(x.latestValues))continue;Qd(x.latestValues)&&x.updateSnapshot();const f=it(),b=x.measurePageBox();ta(f,b),Jg(p,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,f)}return zs(this.latestValues)&&Jg(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:b}=this.options;if(!(!this.layout||!(f||b))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Kr(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ta(this.target,this.layout.layoutBox),Wx(this.target,this.targetDelta)):ta(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Kr(this.relativeTargetOrigin,this.target,j.target),ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qd(this.parent.latestValues)||Yx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),p=!!this.resumingFrom||this!==h;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(g=!1),g)return;const{layout:x,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||f))return;ta(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,j=this.treeScale.y;fk(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=it());const{target:M}=h;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qg(this.prevProjectionDelta.x,this.projectionDelta.x),Qg(this.prevProjectionDelta.y,this.projectionDelta.y)),Wr(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==j||!np(this.projectionDelta.x,this.prevProjectionDelta.x)||!np(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=On(),this.projectionDelta=On(),this.projectionDeltaWithTransform=On()}setAnimationOrigin(h,p=!1){const g=this.snapshot,x=g?g.latestValues:{},f={...this.latestValues},b=On();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const j=it(),M=g?g.source:void 0,O=this.layout?this.layout.source:void 0,T=M!==O,R=this.getStack(),N=!R||R.members.length<=1,A=!!(T&&!N&&this.options.crossfade===!0&&!this.path.some(YN));this.animationProgress=0;let H;this.mixTargetDelta=C=>{const _=C/1e3;op(b.x,h.x,_),op(b.y,h.y,_),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kr(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GN(this.relativeTarget,this.relativeTargetOrigin,j,_),H&&MN(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=it()),ta(H,this.relativeTarget)),T&&(this.animationValues=f,SN(f,x,this.latestValues,_,A,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{zl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_n(0)),this.currentAnimation=vN(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),h.onUpdate&&h.onUpdate(p)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ON),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:g,layout:x,latestValues:f}=h;if(!(!p||!g||!x)){if(this!==h&&this.layout&&x&&xy(this.options.animationType,this.layout.layoutBox,x.layoutBox)){g=this.target||it();const b=At(this.layout.layoutBox.x);g.x.min=h.target.x.min,g.x.max=g.x.min+b;const j=At(this.layout.layoutBox.y);g.y.min=h.target.y.min,g.y.max=g.y.min+j}ta(p,g),Ln(p,f),Wr(this.projectionDeltaWithTransform,this.layoutCorrected,p,f)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new RN),this.sharedNodes.get(h).add(p);const x=p.options.initialPromotionConfig;p.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:g}={}){const x=this.getStack();x&&x.promote(this,g),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:g}=h;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const x={};g.z&&Md("z",h,x,this.animationValues);for(let f=0;f<Dd.length;f++)Md(`rotate${Dd[f]}`,h,x,this.animationValues),Md(`skew${Dd[f]}`,h,x,this.animationValues);h.render();for(const f in x)h.setStaticValue(f,x[f]),this.animationValues&&(this.animationValues[f]=x[f]);h.scheduleRender()}applyProjectionStyles(h,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=_l(p?.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=_l(p?.pointerEvents)||""),this.hasProjected&&!zs(this.latestValues)&&(h.transform=g?g({},""):"none",this.hasProjected=!1);return}h.visibility="";const f=x.animationValues||x.latestValues;this.applyTransformsToTarget();let b=LN(this.projectionDeltaWithTransform,this.treeScale,f);g&&(b=g(f,b)),h.transform=b;const{x:j,y:M}=this.projectionDelta;h.transformOrigin=`${j.origin*100}% ${M.origin*100}% 0`,x.animationValues?h.opacity=x===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:h.opacity=x===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const O in ai){if(f[O]===void 0)continue;const{correct:T,applyTo:R,isCSSVariable:N}=ai[O],A=b==="none"?f[O]:T(f[O],x);if(R){const H=R.length;for(let C=0;C<H;C++)h[R[C]]=A}else N?this.options.visualElement.renderState.vars[O]=A:h[O]=A}this.options.layoutId&&(h.pointerEvents=x===this?_l(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(rp),this.root.sharedNodes.clear()}}}function _N(s){s.updateLayout()}function zN(s){const n=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&n&&s.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:i}=s.layout,{animationType:c}=s.options,u=n.source!==s.layout.source;c==="size"?aa(f=>{const b=u?n.measuredBox[f]:n.layoutBox[f],j=At(b);b.min=l[f].min,b.max=b.min+j}):xy(c,n.layoutBox,l)&&aa(f=>{const b=u?n.measuredBox[f]:n.layoutBox[f],j=At(l[f]);b.max=b.min+j,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[f].max=s.relativeTarget[f].min+j)});const h=On();Wr(h,l,n.layoutBox);const p=On();u?Wr(p,s.applyTransform(i,!0),n.measuredBox):Wr(p,l,n.layoutBox);const g=!my(h);let x=!1;if(!s.resumeFrom){const f=s.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:b,layout:j}=f;if(b&&j){const M=it();Kr(M,n.layoutBox,b.layoutBox);const O=it();Kr(O,l,j.layoutBox),fy(M,O)||(x=!0),f.options.layoutRoot&&(s.relativeTarget=O,s.relativeTargetOrigin=M,s.relativeParent=f)}}}s.notifyListeners("didUpdate",{layout:l,snapshot:n,delta:p,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:x})}else if(s.isLead()){const{onExitComplete:l}=s.options;l&&l()}s.options.transition=void 0}function HN(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function VN(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function UN(s){s.clearSnapshot()}function rp(s){s.clearMeasurements()}function ip(s){s.isLayoutDirty=!1}function PN(s){const{visualElement:n}=s.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),s.resetTransform()}function lp(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function IN(s){s.resolveTargetDelta()}function qN(s){s.calcProjection()}function $N(s){s.resetSkewAndRotation()}function FN(s){s.removeLeadSnapshot()}function op(s,n,l){s.translate=Xe(n.translate,0,l),s.scale=Xe(n.scale,1,l),s.origin=n.origin,s.originPoint=n.originPoint}function cp(s,n,l,i){s.min=Xe(n.min,l.min,i),s.max=Xe(n.max,l.max,i)}function GN(s,n,l,i){cp(s.x,n.x,l.x,i),cp(s.y,n.y,l.y,i)}function YN(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const WN={duration:.45,ease:[.4,0,.1,1]},dp=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),up=dp("applewebkit/")&&!dp("chrome/")?Math.round:sa;function hp(s){s.min=up(s.min),s.max=up(s.max)}function KN(s){hp(s.x),hp(s.y)}function xy(s,n,l){return s==="position"||s==="preserve-aspect"&&!tN(sp(n),sp(l),.2)}function QN(s){return s!==s.root&&s.scroll?.wasRoot}const XN=py({attachResizeListener:(s,n)=>si(s,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rd={current:void 0},yy=py({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!Rd.current){const s=new XN({});s.mount(window),s.setOptions({layoutScroll:!0}),Rd.current=s}return Rd.current},resetTransform:(s,n)=>{s.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),ZN={pan:{Feature:pN},drag:{Feature:gN,ProjectionNode:yy,MeasureLayout:dy}};function mp(s,n,l){const{props:i}=s;s.animationState&&i.whileHover&&s.animationState.setActive("whileHover",l==="Start");const c="onHover"+l,u=i[c];u&&We.postRender(()=>u(n,ui(n)))}class JN extends ps{mount(){const{current:n}=this.node;n&&(this.unmount=vw(n,(l,i)=>(mp(this.node,i,"Start"),c=>mp(this.node,c,"End"))))}unmount(){}}class eS extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oi(si(this.node.current,"focus",()=>this.onFocus()),si(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fp(s,n,l){const{props:i}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&i.whileTap&&s.animationState.setActive("whileTap",l==="Start");const c="onTap"+(l==="End"?"":l),u=i[c];u&&We.postRender(()=>u(n,ui(n)))}class tS extends ps{mount(){const{current:n}=this.node;n&&(this.unmount=Nw(n,(l,i)=>(fp(this.node,i,"Start"),(c,{success:u})=>fp(this.node,c,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const su=new WeakMap,Ld=new WeakMap,aS=s=>{const n=su.get(s.target);n&&n(s)},sS=s=>{s.forEach(aS)};function nS({root:s,...n}){const l=s||document;Ld.has(l)||Ld.set(l,{});const i=Ld.get(l),c=JSON.stringify(n);return i[c]||(i[c]=new IntersectionObserver(sS,{root:s,...n})),i[c]}function rS(s,n,l){const i=nS(n);return su.set(s,l),i.observe(s),()=>{su.delete(s),i.unobserve(s)}}const iS={some:0,all:1};class lS extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:l,margin:i,amount:c="some",once:u}=n,h={root:l?l.current:void 0,rootMargin:i,threshold:typeof c=="number"?c:iS[c]},p=g=>{const{isIntersecting:x}=g;if(this.isInView===x||(this.isInView=x,u&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:f,onViewportLeave:b}=this.node.getProps(),j=x?f:b;j&&j(g)};return rS(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:l}=this.node;["amount","margin","root"].some(oS(n,l))&&this.startObserver()}unmount(){}}function oS({viewport:s={}},{viewport:n={}}={}){return l=>s[l]!==n[l]}const cS={inView:{Feature:lS},tap:{Feature:tS},focus:{Feature:eS},hover:{Feature:JN}},dS={layout:{ProjectionNode:yy,MeasureLayout:dy}},uS={...Kk,...cS,...ZN,...dS},Y=uk(uS,Nk),gp=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),hS=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),nu=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),ru=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),by=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 3H5L3 3m4 10l-2 9m0 0h5m-5 0l2-2.5M17 22l2-2.5M17 22h-5m5 0l-2-9"})}),iu=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Fl=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),mS=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})}),vy=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM2 3h20v6H2V3zm3 8h10v2H5v-2zm0 4h8v2H5v-2z"})}),jy=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),pp=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),fS=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),gS=({className:s="w-8 h-8",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-all hover:scale-110 hover:rotate-12`,fill:n,viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#10B981"}),t.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:"white"}),t.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"}),t.jsx("path",{d:"M7 13.5c0 2.5 2.25 4.5 5 4.5s5-2 5-4.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]}),pS=({className:s="w-8 h-8",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-all hover:scale-110 hover:rotate-6`,fill:n,viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#3B82F6"}),t.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:"white"}),t.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"}),t.jsx("path",{d:"M8 14c0 2 1.8 3 4 3s4-1 4-3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]}),xS=({className:s="w-8 h-8",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-all hover:scale-110`,fill:n,viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#6B7280"}),t.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:"white"}),t.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"}),t.jsx("line",{x1:"8",y1:"15",x2:"16",y2:"15",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]}),yS=({className:s="w-8 h-8",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-all hover:scale-110 hover:rotate-3`,fill:n,viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#F59E0B"}),t.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:"white"}),t.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"}),t.jsx("path",{d:"M8 16c0-2 1.8-3 4-3s4 1 4 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]}),bS=({className:s="w-8 h-8",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-all hover:scale-110 hover:rotate-6`,fill:n,viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#EF4444"}),t.jsx("circle",{cx:"9",cy:"9",r:"1.5",fill:"white"}),t.jsx("circle",{cx:"15",cy:"9",r:"1.5",fill:"white"}),t.jsx("path",{d:"M8 17c0-2.5 1.8-4 4-4s4 1.5 4 4",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]}),wy=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-transform hover:scale-110 hover:rotate-45`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:[t.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#F59E0B"}),t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22",stroke:"#F59E0B",strokeWidth:"2",strokeLinecap:"round"})]}),xp=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14",fill:"#9CA3AF"})}),yp=({className:s="w-6 h-6",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 19l-3-3h6l-3 3zM12 19l-3-3h6l-3 3zM16 19l-3-3h6l-3 3z",fill:"#3B82F6"}),t.jsx("ellipse",{cx:"12",cy:"8",rx:"6",ry:"4",fill:"#9CA3AF"})]}),vS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5v4"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v4"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 5v4"})]}),jS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),wS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),kS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),NS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),SS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),CS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),TS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110 hover:rotate-12`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),ES=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsxs("svg",{className:`${s} transition-transform hover:scale-110`,viewBox:"0 0 24 24",fill:n,children:[t.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),t.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),t.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),t.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),AS=({className:s="w-5 h-5",color:n="currentColor"})=>t.jsx("svg",{className:`${s} transition-transform hover:scale-110`,fill:"none",viewBox:"0 0 24 24",stroke:n,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),DS=({isOpen:s,onToggle:n})=>{const l=ii(),i=gs(),c=L=>({dashboard:t.jsx(vS,{className:"w-5 h-5"}),tasks:t.jsx(gp,{className:"w-5 h-5"}),expenses:t.jsx(nu,{className:"w-5 h-5"}),notes:t.jsx(ru,{className:"w-5 h-5"}),habits:t.jsx(Fl,{className:"w-5 h-5"}),meals:t.jsx(by,{className:"w-5 h-5"}),alarms:t.jsx("span",{className:"text-lg",children:"⏰"}),movies:t.jsx("span",{className:"text-lg",children:"🎬"}),journal:t.jsx(iu,{className:"w-5 h-5"}),reminders:t.jsx(vy,{className:"w-5 h-5"}),bucket:t.jsx(jy,{className:"w-5 h-5"}),voice:t.jsx(jS,{className:"w-5 h-5"}),ocr:t.jsx(wS,{className:"w-5 h-5"}),links:t.jsx(kS,{className:"w-5 h-5"}),history:t.jsx(NS,{className:"w-5 h-5"}),about:t.jsx(SS,{className:"w-5 h-5"}),settings:t.jsx(CS,{className:"w-5 h-5"})})[L]||t.jsx(gp,{className:"w-5 h-5"}),{tasks:u,expenses:h,notes:p,habits:g,habitHistory:x,meals:f,callReminders:b,bucketList:j,journalEntries:M,darkMode:O,toggleDarkMode:T,syncStatus:R,signInToGoogle:N,signOutFromGoogle:A,isAuthenticated:H,userEmail:C}=Ke(),_=[{id:"dashboard",label:"Dashboard",icon:"dashboard",path:"/",count:null},{id:"tasks",label:"Tasks",icon:"tasks",path:"/tasks",count:u.filter(L=>!L.completed&&L.date===new Date().toISOString().split("T")[0]).length},{id:"expenses",label:"Expenses",icon:"expenses",path:"/expenses",count:h.length},{id:"notes",label:"Notes",icon:"notes",path:"/notes",count:p.length},{id:"habits",label:"Habits",icon:"habits",path:"/habits",count:g.length},{id:"meals",label:"Meals",icon:"meals",path:"/meals",count:f.filter(L=>L.date===new Date().toISOString().split("T")[0]).length},{id:"alarms",label:"Alarms",icon:"alarms",path:"/alarms",count:null},{id:"movies",label:"Movies",icon:"movies",path:"/movies",count:null},{id:"journal",label:"Journal",icon:"journal",path:"/journal",count:M.length},{id:"reminders",label:"Reminders",icon:"reminders",path:"/reminders",count:b.length},{id:"bucket",label:"Bucket List",icon:"bucket",path:"/bucket",count:j.filter(L=>L.status!=="completed").length},{id:"voice",label:"Voice Commands",icon:"voice",path:"/voice",count:null},{id:"ocr",label:"Text Extract",icon:"ocr",path:"/ocr",count:null},{id:"links",label:"Link Manager",icon:"links",path:"/links",count:null},{id:"history",label:"History",icon:"history",path:"/history",count:null},{id:"about",label:"About",icon:"about",path:"/about",count:null},{id:"settings",label:"Settings",icon:"settings",path:"/settings",count:null}],D=L=>{l(L.path),window.innerWidth<768&&n()},U=L=>i.pathname===L,y=()=>{switch(R){case"syncing":return"text-blue-500";case"success":return"text-green-500";case"failed":return"text-red-500";case"offline":return"text-gray-500";default:return"text-gray-400"}},v=()=>{switch(R){case"syncing":return"Syncing...";case"success":return"Synced";case"failed":return"Sync failed";case"offline":return"Offline";default:return"Ready"}};return t.jsxs(t.Fragment,{children:[t.jsx(Me,{mode:"wait",children:s&&t.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n,className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"})}),t.jsx(Y.aside,{initial:!1,animate:{x:s||window.innerWidth>=768?0:-320},transition:{type:"tween",duration:.3,ease:"easeInOut"},className:"fixed md:sticky top-0 left-0 h-full md:h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-50 w-80 md:w-64",style:{willChange:"transform"},children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:"LIFE"}),t.jsx("button",{onClick:L=>{L.preventDefault(),L.stopPropagation(),n()},className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),H&&C&&t.jsxs("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 truncate",children:C}),t.jsxs("div",{className:`text-xs ${y()} flex items-center gap-1`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${R==="syncing"?"animate-pulse bg-blue-500":R==="success"?"bg-green-500":R==="failed"?"bg-red-500":"bg-gray-400"}`}),v()]})]})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-2",children:t.jsx("div",{className:"space-y-1",children:_.map(L=>t.jsxs("button",{onClick:()=>D(L),className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-left transition-colors ${U(L.path)?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[c(L.icon),t.jsx("span",{className:"font-medium",children:L.label})]}),L.count!==null&&L.count>0&&t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U(L.path)?"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:L.count})]},L.id))})}),t.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[t.jsxs("button",{onClick:T,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[O?t.jsx(wy,{className:"w-5 h-5"}):t.jsx(TS,{className:"w-5 h-5"}),t.jsx("span",{children:O?"Light Mode":"Dark Mode"})]}),H?t.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(AS,{className:"w-5 h-5"}),t.jsx("span",{children:"Sign Out"})]}):t.jsxs("button",{onClick:N,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",children:[t.jsx(ES,{className:"w-5 h-5"}),t.jsx("span",{children:"Connect Google"})]})]})]})})]})},MS=({task:s,onToggle:n,onUpdate:l,onDelete:i})=>{const[c,u]=k.useState(!1),[h,p]=k.useState(s.text),[g,x]=k.useState(!1),f=()=>{c&&h!==s.text&&l({text:h}),u(!c)},b=()=>{window.confirm("Are you sure you want to delete this task?")&&i()};return t.jsx(Y.div,{className:`ultra-card hover-lift p-4 ${s.completed?"opacity-60":""}`,whileHover:{scale:1.01},whileTap:{scale:.99},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("button",{onClick:n,className:`mt-1 w-5 h-5 rounded border-2 transition-colors ${s.completed?"bg-green-500 border-green-500":"border-gray-300 hover:border-blue-500"}`,children:s.completed&&t.jsx("svg",{className:"w-3 h-3 text-white mx-auto",viewBox:"0 0 20 20",children:t.jsx("path",{fill:"currentColor",d:"M0 11l2-2 5 5L18 3l2 2L7 18z"})})}),t.jsxs("div",{className:"flex-1",children:[c?t.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),onBlur:f,onKeyPress:j=>j.key==="Enter"&&f(),className:"w-full px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}):t.jsx("p",{className:`${s.completed?"line-through text-gray-400":"text-gray-800"}`,children:s.text}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.priority&&s.priority!=="medium"&&t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.priority==="high"?"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400":"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400"}`,children:s.priority==="high"?"🔥 High":"🟢 Low"}),s.time&&t.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400 rounded-full",children:["🕐 ",s.time]}),s.location&&t.jsxs("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400 rounded-full",children:["📍 ",s.location]}),s.duration&&t.jsxs("span",{className:"px-2 py-1 text-xs bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400 rounded-full",children:["⏱️ ",s.duration,"min"]}),s.category&&t.jsxs("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-700 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-full",children:["📁 ",s.category]}),s.tags&&s.tags.length>0&&s.tags.map(j=>t.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-full",children:["#",j]},j))]}),t.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-400",children:[t.jsxs("span",{children:["Created: ",new Date(s.createdAt).toLocaleTimeString()]}),s.completed&&s.completedDate&&t.jsxs("span",{children:["Completed: ",new Date(s.completedDate).toLocaleTimeString()]}),s.date!==new Date().toISOString().split("T")[0]&&t.jsxs("span",{children:["Due: ",new Date(s.date).toLocaleDateString()]})]})]}),t.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:g?1:0},className:"flex gap-2",children:[t.jsx("button",{onClick:()=>u(!c),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",title:"Edit",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:b,className:"p-1 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})},Hn=({onResult:s,placeholder:n="Click to speak...",className:l=""})=>{const[i,c]=k.useState(!1),[u,h]=k.useState(!1),p=k.useRef(null);k.useEffect(()=>{const x=window.SpeechRecognition||window.webkitSpeechRecognition;return x&&(h(!0),p.current=new x,p.current.continuous=!1,p.current.interimResults=!1,p.current.lang="en-US",p.current.onstart=()=>{c(!0)},p.current.onresult=f=>{const b=f.results[0][0].transcript;s(b),c(!1)},p.current.onerror=f=>{console.error("Speech recognition error:",f.error),c(!1)},p.current.onend=()=>{c(!1)}),()=>{p.current&&p.current.stop()}},[s]);const g=()=>{if(!u){alert("Speech recognition is not supported in your browser");return}i?p.current.stop():p.current.start()};return u?t.jsxs(Y.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:!u,className:`voice-button ${i?"listening":""} ${l}`,title:i?"Listening... Click to stop":"Click to speak",children:[t.jsx(Y.div,{animate:i?{scale:[1,1.2,1]}:{scale:1},transition:{duration:1,repeat:i?1/0:0},children:i?t.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}):t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),i&&t.jsx("span",{className:"ml-2 text-sm",children:"Listening..."})]}):null};class RS{constructor(){this.timePatterns=[{pattern:/at (\d{1,2}):?(\d{0,2})\s*(am|pm|AM|PM)?/gi,type:"time"},{pattern:/(\d{1,2}):(\d{2})\s*(am|pm|AM|PM)?/gi,type:"time"},{pattern:/(morning|afternoon|evening|night)/gi,type:"timeOfDay"},{pattern:/(today|tomorrow|yesterday)/gi,type:"relativeDate"},{pattern:/(monday|tuesday|wednesday|thursday|friday|saturday|sunday)/gi,type:"weekday"},{pattern:/(next week|this week|next month|this month)/gi,type:"relativePeriod"},{pattern:/(\d{1,2})\/(\d{1,2})(?:\/(\d{2,4}))?/g,type:"date"},{pattern:/(january|february|march|april|may|june|july|august|september|october|november|december)\s+(\d{1,2})/gi,type:"monthDay"},{pattern:/(urgent|important|high priority|asap|!!)/gi,type:"highPriority"},{pattern:/(low priority|later|when possible)/gi,type:"lowPriority"},{pattern:/(for|takes?|duration)\s+(\d+)\s*(hour|hours|hr|hrs|minute|minutes|min|mins)/gi,type:"duration"},{pattern:/(at|in|@)\s+([a-zA-Z0-9\s]+?)(?:\s|$)/gi,type:"location"},{pattern:/#(\w+)/g,type:"tag"},{pattern:/\b(meeting|call|email|review|research|buy|read|write|plan|study|exercise|workout|appointment|deadline)\b/gi,type:"category"}],this.priorityMap={urgent:"high",important:"high","high priority":"high",asap:"high","!!":"high","low priority":"low",later:"low","when possible":"low"},this.timeOfDayMap={morning:"09:00",afternoon:"14:00",evening:"18:00",night:"20:00"},this.weekdays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],this.months=["january","february","march","april","may","june","july","august","september","october","november","december"]}parse(n){const l=n.trim();let i=l;const c={text:"",time:null,date:null,priority:"medium",duration:null,location:null,tags:[],category:null,reminder:null};this.timePatterns.forEach(({pattern:h,type:p})=>{[...l.matchAll(h)].forEach(x=>{this.processMatch(x,p,c),i=i.replace(x[0]," ").replace(/\s+/g," ")})}),c.text=i.trim()||l,c.date||(c.date=new Date().toISOString().split("T")[0]);const u=this.generateSuggestions(l,c);return{...c,suggestions:u,confidence:this.calculateConfidence(l,c)}}processMatch(n,l,i){const c=n[0].toLowerCase();switch(l){case"time":i.time=this.parseTime(n);break;case"timeOfDay":i.time=this.timeOfDayMap[c];break;case"relativeDate":i.date=this.parseRelativeDate(c);break;case"weekday":i.date=this.parseWeekday(c);break;case"relativePeriod":i.date=this.parseRelativePeriod(c);break;case"date":i.date=this.parseDate(n);break;case"monthDay":i.date=this.parseMonthDay(n);break;case"highPriority":i.priority="high";break;case"lowPriority":i.priority="low";break;case"duration":i.duration=this.parseDuration(n);break;case"location":i.location=n[2].trim();break;case"tag":i.tags.push(n[1]);break;case"category":i.category=c;break}}parseTime(n){let l=parseInt(n[1]);const i=n[2]?parseInt(n[2]):0,c=n[3]?.toLowerCase();return c==="pm"&&l!==12&&(l+=12),c==="am"&&l===12&&(l=0),`${l.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}parseRelativeDate(n){const l=new Date,i=new Date(l);switch(n.toLowerCase()){case"today":break;case"tomorrow":i.setDate(l.getDate()+1);break;case"yesterday":i.setDate(l.getDate()-1);break}return i.toISOString().split("T")[0]}parseWeekday(n){const l=new Date,i=this.weekdays.indexOf(n.toLowerCase()),c=l.getDay();let u=i-c;u<=0&&(u+=7);const h=new Date(l);return h.setDate(l.getDate()+u),h.toISOString().split("T")[0]}parseRelativePeriod(n){const l=new Date,i=new Date(l);switch(n.toLowerCase()){case"next week":i.setDate(l.getDate()+7);break;case"this week":const c=(1-l.getDay()+7)%7||7;i.setDate(l.getDate()+c);break;case"next month":i.setMonth(l.getMonth()+1,1);break;case"this month":i.setDate(l.getDate()+1);break}return i.toISOString().split("T")[0]}parseDate(n){const l=parseInt(n[1])-1,i=parseInt(n[2]),c=n[3]?parseInt(n[3]):new Date().getFullYear();return new Date(c,l,i).toISOString().split("T")[0]}parseMonthDay(n){const l=n[1].toLowerCase(),i=parseInt(n[2]),c=this.months.indexOf(l),u=new Date().getFullYear(),h=new Date(u,c,i);return h<new Date&&h.setFullYear(u+1),h.toISOString().split("T")[0]}parseDuration(n){const l=parseInt(n[2]),i=n[3].toLowerCase();let c=l;return(i.startsWith("hour")||i.startsWith("hr"))&&(c=l*60),c}generateSuggestions(n,l){const i=[];return!l.time&&(n.includes("meet")||n.includes("call"))&&i.push({type:"time",text:"Add a time?",options:["9:00 AM","2:00 PM","5:00 PM"]}),l.date===new Date().toISOString().split("T")[0]&&!n.match(/(today|tonight|this)/i)&&i.push({type:"date",text:"When?",options:["Today","Tomorrow","This Week"]}),n.match(/(deadline|due|urgent|important)/i)&&l.priority==="medium"&&i.push({type:"priority",text:"Set priority?",options:["High Priority","Normal"]}),i}calculateConfidence(n,l){let i=.5;return l.time&&(i+=.2),l.date!==new Date().toISOString().split("T")[0]&&(i+=.1),l.priority!=="medium"&&(i+=.1),l.category&&(i+=.1),l.tags.length>0&&(i+=.1),Math.min(i,1)}getQuickSuggestions(){return["Call John at 2pm tomorrow","Meeting with team this Friday at 10am","Buy groceries today","Review project deadline next week","Workout at gym 6pm #fitness","Email client urgent response needed","Read book for 30 minutes","Plan vacation next month"]}}const bp=new RS,LS=({onAddTask:s})=>{const[n,l]=k.useState(""),[i,c]=k.useState(!1),[u,h]=k.useState(null),[p,g]=k.useState(!1),[x,f]=k.useState(!1),b=k.useRef(null);k.useEffect(()=>{if(n.trim()){const R=bp.parse(n);h(R),g(R.suggestions.length>0)}else h(null),g(!1)},[n]);const j=async R=>{if(R.preventDefault(),!n.trim())return;c(!0);const N=u?{text:u.text,time:u.time,date:u.date,priority:u.priority,duration:u.duration,location:u.location,tags:u.tags,category:u.category}:n.trim();await s(N),l(""),h(null),g(!1),c(!1)},M=R=>{l(R)},O=R=>{l(R),f(!1),b.current?.focus()},T=(R,N)=>{let A=n;switch(R.type){case"time":A+=` at ${N}`;break;case"date":N==="Today"?A+=" today":N==="Tomorrow"?A+=" tomorrow":A+=" this week";break;case"priority":N==="High Priority"&&(A+=" urgent");break}l(A),g(!1)};return t.jsx("div",{className:"task-input-container",children:t.jsxs("form",{onSubmit:j,className:"task-input-form mt-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{ref:b,type:"text",value:n,onChange:R=>l(R.target.value),placeholder:"Try: 'Call John tomorrow at 2pm' or 'Buy groceries urgent'",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i}),t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx(Hn,{onResult:M,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-blue-500",title:"Voice Input"})})]}),t.jsx(Y.button,{type:"submit",disabled:!n.trim()||i,whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-6 py-3 rounded-lg font-medium transition-colors ${n.trim()&&!i?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Task"})]}),t.jsx(Me,{children:u&&n.trim()&&t.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Smart Parse Preview:"}),t.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:[Math.round(u.confidence*100),"% confident"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Task:"}),t.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:u.text})]}),u.date!==new Date().toISOString().split("T")[0]&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Date:"}),t.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:u.date})]}),u.time&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Time:"}),t.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:u.time})]}),u.priority!=="medium"&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Priority:"}),t.jsx("p",{className:`capitalize ${u.priority==="high"?"text-red-600 dark:text-red-400":u.priority==="low"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:u.priority})]}),u.location&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Location:"}),t.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:u.location})]}),u.tags.length>0&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Tags:"}),t.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:u.tags.map(R=>`#${R}`).join(" ")})]})]})]})}),t.jsx(Me,{children:p&&u?.suggestions.length>0&&t.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:u.suggestions.map((R,N)=>t.jsxs("div",{className:"mb-2 last:mb-0",children:[t.jsx("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300 mr-2",children:R.text}),t.jsx("div",{className:"flex gap-1 mt-1",children:R.options.map(A=>t.jsx("button",{type:"button",onClick:()=>T(R,A),className:"px-2 py-1 text-xs bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:hover:bg-yellow-700 text-yellow-700 dark:text-yellow-200 rounded transition-colors",children:A},A))})]},N))})}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.jsxs("button",{type:"button",onClick:()=>f(!x),className:"px-3 py-1 text-xs bg-purple-100 hover:bg-purple-200 dark:bg-purple-800 dark:hover:bg-purple-700 text-purple-700 dark:text-purple-200 rounded-full transition-colors",children:[x?"✕":"💡"," Examples"]}),["Meeting","Email","Review","Call","Research"].map(R=>t.jsx("button",{type:"button",onClick:()=>l(R+" "),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full transition-colors",children:R},R))]}),t.jsx(Me,{children:x&&t.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Try these examples:"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:bp.getQuickSuggestions().map((R,N)=>t.jsxs("button",{type:"button",onClick:()=>O(R),className:"text-left px-2 py-1 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:['"',R,'"']},N))})]})})]})})},OS=({metrics:s})=>{const n=l=>l>=80?"bg-green-500":l>=60?"bg-yellow-500":l>=40?"bg-orange-500":"bg-red-500";return t.jsxs("div",{className:"task-metrics grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs(Y.div,{whileHover:{scale:1.05},className:"metric-card bg-white p-4 rounded-lg border border-gray-200",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.total}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Tasks"})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"metric-card bg-white p-4 rounded-lg border border-gray-200",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.completed}),t.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"metric-card bg-white p-4 rounded-lg border border-gray-200",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.pending}),t.jsx("div",{className:"text-sm text-gray-500",children:"Pending"})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"metric-card bg-white p-4 rounded-lg border border-gray-200",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[s.completionRate,"%"]})}),t.jsx("div",{className:"text-sm text-gray-500",children:"Completion Rate"}),t.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${s.completionRate}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${n(s.completionRate)}`})})]})]})},BS=()=>{const{tasks:s,currentDate:n,addTask:l,updateTask:i,deleteTask:c,toggleTask:u,getMetrics:h}=Ke(),[p,g]=k.useState("all"),[x,f]=k.useState(""),b=n.toISOString().split("T")[0],j=s.filter(R=>R.date===b),O=[...j.filter(R=>x&&!R.text.toLowerCase().includes(x.toLowerCase())?!1:p==="completed"?R.completed:p==="pending"?!R.completed:!0)].sort((R,N)=>R.completed===N.completed?0:R.completed?1:-1),T=h();return t.jsxs("div",{className:"task-manager",children:[t.jsxs("div",{className:"task-header mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-2",children:"Today's Tasks"}),t.jsx("div",{className:"text-center mb-4",children:t.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})}),t.jsx(OS,{metrics:T}),t.jsx(LS,{onAddTask:l}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors ${p==="all"?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:["All (",j.length,")"]}),t.jsxs("button",{onClick:()=>g("pending"),className:`px-4 py-2 rounded-lg transition-colors ${p==="pending"?"bg-yellow-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:["Pending (",T.pending,")"]}),t.jsxs("button",{onClick:()=>g("completed"),className:`px-4 py-2 rounded-lg transition-colors ${p==="completed"?"bg-green-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:["Completed (",T.completed,")"]})]}),t.jsx("div",{className:"mt-3",children:t.jsx("input",{type:"text",placeholder:"Search tasks...",value:x,onChange:R=>f(R.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),t.jsx("div",{className:"task-list space-y-3",children:t.jsx(Me,{mode:"popLayout",children:O.length>0?O.map((R,N)=>t.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:N*.05},children:t.jsx(MS,{task:R,onToggle:()=>u(R.id),onUpdate:A=>i(R.id,A),onDelete:()=>c(R.id)})},R.id)):t.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 text-gray-400",children:x?"No tasks found matching your search":p==="completed"?"No completed tasks yet":p==="pending"?"All tasks completed! 🎉":"No tasks for today. Add one to get started!"})})})]})},_S=({expense:s,categories:n,onSubmit:l,onCancel:i})=>{const[c,u]=k.useState({amount:"",category:n[0],description:"",date:new Date().toISOString().split("T")[0],paymentMethod:"cash",isRecurring:!1,tags:""});k.useEffect(()=>{s&&u({amount:s.amount.toString(),category:s.category,description:s.description,date:s.date,paymentMethod:s.paymentMethod||"cash",isRecurring:s.isRecurring||!1,tags:s.tags?s.tags.join(", "):""})},[s]);const h=g=>{if(g.preventDefault(),!c.amount||!c.description){alert("Please fill in amount and description");return}const x={...c,amount:parseFloat(c.amount),tags:c.tags?c.tags.split(",").map(f=>f.trim()).filter(Boolean):[]};l(x),s||u({amount:"",category:n[0],description:"",date:new Date().toISOString().split("T")[0],paymentMethod:"cash",isRecurring:!1,tags:""})},p=["cash","credit","debit","upi","net-banking","wallet"];return t.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:h,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Expense":"Add New Expense"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Amount ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 z-10 pointer-events-none",children:"₹"}),t.jsx("input",{type:"number",step:"0.01",value:c.amount,onChange:g=>u({...c,amount:g.target.value}),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 placeholder:text-gray-500 dark:placeholder:text-gray-400",placeholder:"0.00",required:!0})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Category ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("select",{value:c.category,onChange:g=>u({...c,category:g.target.value}),className:"input-field",required:!0,children:n.map(g=>t.jsx("option",{value:g,children:g},g))})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:c.description,onChange:g=>u({...c,description:g.target.value}),className:"w-full pr-12 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 placeholder:text-gray-500 dark:placeholder:text-gray-400",placeholder:"What did you spend on?",required:!0}),t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx(Hn,{onResult:g=>u({...c,description:g}),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-blue-500",title:"Voice Input for Description"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),t.jsx("input",{type:"date",value:c.date,onChange:g=>u({...c,date:g.target.value}),className:"input-field",max:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Method"}),t.jsx("select",{value:c.paymentMethod,onChange:g=>u({...c,paymentMethod:g.target.value}),className:"input-field",children:p.map(g=>t.jsx("option",{value:g,children:g.charAt(0).toUpperCase()+g.slice(1).replace("-"," ")},g))})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Tags ",t.jsx("span",{className:"text-xs text-gray-500",children:"(comma separated)"})]}),t.jsx("input",{type:"text",value:c.tags,onChange:g=>u({...c,tags:g.target.value}),className:"input-field",placeholder:"grocery, weekly, essential"})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isRecurring,onChange:g=>u({...c,isRecurring:g.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),t.jsx("span",{className:"text-sm font-medium",children:"This is a recurring expense"})]})})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:s?"Update Expense":"Add Expense"}),t.jsx("button",{type:"button",onClick:i,className:"flex-1 btn-secondary",children:"Cancel"})]})]})},zS=({expenses:s,onEdit:n,onDelete:l})=>{const i=p=>({"Food & Dining":"🍔",Transportation:"🚗",Shopping:"🛍️",Entertainment:"🎬","Bills & Utilities":"💡",Healthcare:"🏥",Education:"📚",Travel:"✈️","Personal Care":"💅",Other:"📦"})[p]||"💰",c=p=>({cash:"bg-green-100 text-green-800",credit:"bg-blue-100 text-blue-800",debit:"bg-purple-100 text-purple-800",upi:"bg-orange-100 text-orange-800","net-banking":"bg-indigo-100 text-indigo-800",wallet:"bg-pink-100 text-pink-800"})[p]||"bg-gray-100 text-gray-800",u=s.reduce((p,g)=>{const x=g.date;return p[x]||(p[x]=[]),p[x].push(g),p},{}),h=Object.keys(u).sort((p,g)=>g.localeCompare(p));return s.length===0?t.jsxs("div",{className:"text-center py-12 text-gray-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-lg",children:"No expenses found"}),t.jsx("p",{className:"text-sm mt-2",children:"Add your first expense to start tracking"})]}):t.jsx("div",{className:"space-y-6",children:t.jsx(Me,{children:h.map(p=>{const g=u[p],x=g.reduce((f,b)=>f+b.amount,0);return t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"ultra-card overflow-hidden",children:[t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-4 py-3 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:new Date(p+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),t.jsxs("p",{className:"text-sm text-gray-500",children:[g.length," expense",g.length!==1?"s":""]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total"}),t.jsxs("p",{className:"text-lg font-bold text-ultra",children:["₹",x.toFixed(2)]})]})]}),t.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map((f,b)=>t.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:b*.05},className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl mt-1",children:i(f.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:f.description}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:f.category}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(f.paymentMethod)}`,children:f.paymentMethod}),f.tags&&f.tags.map(j=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 rounded-full text-xs",children:j},j)),f.isRecurring&&t.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Recurring"})]})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["₹",f.amount.toFixed(2)]})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>n(f),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900 rounded",title:"Edit",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:()=>l(f.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded",title:"Delete",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},f.id))})]},p)})})})},HS=({stats:s})=>{const n={"Food & Dining":"bg-orange-500",Transportation:"bg-blue-500",Shopping:"bg-pink-500",Entertainment:"bg-purple-500","Bills & Utilities":"bg-yellow-500",Healthcare:"bg-red-500",Education:"bg-indigo-500",Travel:"bg-green-500","Personal Care":"bg-teal-500",Other:"bg-gray-500"},l=Object.entries(s.byCategory).sort(([,i],[,c])=>c-i).slice(0,5);return t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsx(Y.div,{whileHover:{scale:1.05},className:"ultra-card p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["₹",s.total.toFixed(2)]})]}),t.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"ultra-card p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.count})]}),t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"ultra-card p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Daily Avg"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["₹",s.dailyAverage.toFixed(2)]})]}),t.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"ultra-card p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Largest"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["₹",s.largestExpense.toFixed(2)]})]}),t.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),l.length>0&&t.jsxs("div",{className:"col-span-2 md:col-span-4 ultra-card p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Top Categories"}),t.jsx("div",{className:"space-y-2",children:l.map(([i,c])=>{const u=c/s.total*100;return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"font-medium",children:i}),t.jsxs("span",{className:"text-gray-500",children:["₹",c.toFixed(2)]})]}),t.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${u}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full ${n[i]||"bg-gray-500"}`})})]}),t.jsxs("span",{className:"text-xs text-gray-500 w-12 text-right",children:[u.toFixed(1),"%"]})]},i)})})]})]})},VS=({expenses:s})=>{const{budget:n,setBudget:l,budgetAlerts:i}=Ke(),[c,u]=k.useState(!1),[h,p]=k.useState({monthly:n?.monthly||0,categories:n?.categories||{}}),g=new Date().toISOString().slice(0,7),x=s.filter(N=>N.date.startsWith(g)),f=x.reduce((N,A)=>N+A.amount,0),b=h.monthly-f,j=h.monthly>0?f/h.monthly*100:0,O=j>=100?{color:"red",status:"Exceeded",icon:"⚠️"}:j>=90?{color:"orange",status:"Warning",icon:"⚡"}:j>=75?{color:"yellow",status:"Caution",icon:"👀"}:{color:"green",status:"On Track",icon:"✅"},T=()=>{l(h),u(!1)},R=x.reduce((N,A)=>(N[A.category]=(N[A.category]||0)+A.amount,N),{});return t.jsx("div",{className:"budget-manager mb-6",children:t.jsxs("div",{className:"ultra-card p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Budget"}),t.jsx("button",{onClick:()=>u(!c),className:"text-blue-500 hover:text-blue-600 text-sm ultra-smooth",children:h.monthly>0?"Edit Budget":"Set Budget"})]}),h.monthly>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:["Spent: ₹",f.toFixed(2)]}),t.jsxs("span",{children:["Budget: ₹",h.monthly.toFixed(2)]})]}),t.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${Math.min(j,100)}%`},transition:{duration:.5},className:`h-full ${O.color==="red"?"bg-red-500":O.color==="orange"?"bg-orange-500":O.color==="yellow"?"bg-yellow-500":"bg-green-500"}`})}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:`text-sm font-medium flex items-center gap-1 ${O.color==="red"?"text-red-600":O.color==="orange"?"text-orange-600":O.color==="yellow"?"text-yellow-600":"text-green-600"}`,children:[O.icon," ",O.status]}),t.jsxs("span",{className:"text-sm text-gray-500",children:[j.toFixed(1),"% used"]})]})]}),t.jsxs("div",{className:`p-3 rounded-lg ${b<0?"bg-red-50 dark:bg-red-900/20":"bg-green-50 dark:bg-green-900/20"}`,children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b>=0?"Remaining Budget":"Over Budget"}),t.jsxs("p",{className:`text-xl font-bold ${b<0?"text-red-600":"text-green-600"}`,children:["₹",Math.abs(b).toFixed(2)]}),b>0&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Daily budget: ₹",(b/new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()).toFixed(2)]})]}),j>=90&&t.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[t.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Budget Alert!"}),t.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:["You've used ",j.toFixed(0),"% of your monthly budget. Consider reducing spending."]})]})]}):t.jsxs("div",{className:"text-center py-8 text-gray-400",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{children:"No budget set"}),t.jsx("p",{className:"text-xs mt-1",children:"Set a monthly budget to track spending"})]}),t.jsx(Me,{children:c&&t.jsx(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Monthly Budget"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:h.monthly,onChange:N=>p({...h,monthly:parseFloat(N.target.value)||0}),className:"input-field",placeholder:"Enter monthly budget",min:"0",step:"100"}),t.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Save"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Quick set:"}),[1e3,2e3,3e3,5e3].map(N=>t.jsxs("button",{onClick:()=>p({...h,monthly:N}),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:["₹",N]},N))]})]})})}),Object.keys(h.categories||{}).length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Budgets"}),t.jsx("div",{className:"space-y-2",children:Object.entries(h.categories).map(([N,A])=>{const H=R[N]||0,C=A>0?H/A*100:0;return t.jsxs("div",{className:"text-xs",children:[t.jsxs("div",{className:"flex justify-between mb-1",children:[t.jsx("span",{children:N}),t.jsxs("span",{children:["₹",H.toFixed(0)," / ₹",A]})]}),t.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${C>100?"bg-red-500":C>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(C,100)}%`}})})]},N)})})]})]})})},US=()=>{const{expenses:s,addExpense:n,updateExpense:l,deleteExpense:i}=Ke(),[c,u]=k.useState("all"),[h,p]=k.useState(new Date().toISOString().slice(0,7)),[g,x]=k.useState("all"),[f,b]=k.useState(""),[j,M]=k.useState(!1),[O,T]=k.useState(null),R=k.useMemo(()=>s.filter(D=>!(h!=="all"&&!D.date.startsWith(h)||g!=="all"&&D.category!==g||f&&!D.description.toLowerCase().includes(f.toLowerCase()))),[s,h,g,f]),N=k.useMemo(()=>{const D=R,U=D.reduce((S,V)=>S+V.amount,0),y=D.reduce((S,V)=>(S[V.category]=(S[V.category]||0)+V.amount,S),{}),v=U/30,L=U/4;return{total:U,count:D.length,byCategory:y,dailyAverage:v,weeklyAverage:L,largestExpense:D.reduce((S,V)=>V.amount>S?V.amount:S,0)}},[R]),A=async D=>{await n(D),M(!1)},H=async(D,U)=>{await l(D,U),T(null)},C=async D=>{window.confirm("Are you sure you want to delete this expense?")&&await i(D)},_=["Food & Dining","Transportation","Shopping","Entertainment","Bills & Utilities","Healthcare","Education","Travel","Personal Care","Other"];return t.jsxs("div",{className:"expense-manager",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Expense Tracker"}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("button",{onClick:()=>M(!j),className:"btn-ultra flex items-center gap-2 px-4 py-2",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Add Expense"})]})}),t.jsx(HS,{stats:N}),t.jsx(VS,{expenses:R}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Month"}),t.jsx("input",{type:"month",value:h,onChange:D=>p(D.target.value||"all"),className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),t.jsxs("select",{value:g,onChange:D=>x(D.target.value),className:"input-field",children:[t.jsx("option",{value:"all",children:"All Categories"}),_.map(D=>t.jsx("option",{value:D,children:D},D))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Search"}),t.jsx("input",{type:"text",placeholder:"Search expenses...",value:f,onChange:D=>b(D.target.value),className:"input-field"})]})]})]}),t.jsx(Me,{children:(j||O)&&t.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:t.jsx(_S,{expense:O,categories:_,onSubmit:O?D=>H(O.id,D):A,onCancel:()=>{M(!1),T(null)}})})}),t.jsx(zS,{expenses:R,onEdit:T,onDelete:C}),t.jsx("div",{className:"mt-6 p-4 ultra-card",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Total Expenses:"}),t.jsxs("p",{className:"text-xl font-bold text-ultra",children:["₹",N.total.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Count:"}),t.jsx("p",{className:"text-xl font-bold",children:N.count})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Daily Average:"}),t.jsxs("p",{className:"text-xl font-bold text-ultra",children:["₹",N.dailyAverage.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Largest:"}),t.jsxs("p",{className:"text-xl font-bold text-ultra",children:["₹",N.largestExpense.toFixed(2)]})]})]})})]})},PS=({onCapture:s,className:n=""})=>{const[l,i]=k.useState(!1),[c,u]=k.useState(!0),h=k.useRef(null),p=k.useRef(null),g=async()=>{try{if(i(!0),!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia){alert("Screen capture is not supported in your browser"),u(!1),i(!1);return}const x=await navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen"},audio:!1}),f=h.current;f.srcObject=x,await new Promise(M=>{f.onloadedmetadata=M,f.play()}),await new Promise(M=>setTimeout(M,100));const b=p.current,j=b.getContext("2d");b.width=f.videoWidth,b.height=f.videoHeight,j.drawImage(f,0,0),b.toBlob(M=>{if(M){const O=URL.createObjectURL(M);s(O,M)}},"image/png"),x.getTracks().forEach(M=>M.stop())}catch(x){console.error("Screen capture error:",x),x.name==="NotAllowedError"?alert("Screen capture permission denied"):alert("Failed to capture screen")}finally{i(!1)}};return c?t.jsxs("div",{className:`screenshot-capture ${n}`,children:[t.jsxs(Y.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:l,className:`screenshot-button ${l?"capturing":""}`,title:"Capture screenshot",children:[t.jsx(Y.div,{animate:l?{rotate:360}:{rotate:0},transition:{duration:1,repeat:l?1/0:0,ease:"linear"},children:l?t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),l&&t.jsx("span",{className:"ml-2 text-sm",children:"Capturing..."})]}),t.jsx("video",{ref:h,style:{display:"none"},autoPlay:!0,muted:!0}),t.jsx("canvas",{ref:p,style:{display:"none"}})]}):null},IS=({onTextExtracted:s,className:n=""})=>{const[l,i]=k.useState(!1),[c,u]=k.useState(!0),[h,p]=k.useState("enhanced"),[g,x]=k.useState(0),[f,b]=k.useState([]),[j,M]=k.useState(null),O=k.useRef(null);k.useRef(null),k.useEffect(()=>{(async()=>{try{typeof window<"u"&&window.Tesseract?console.log("Tesseract.js is available"):console.log("Tesseract.js not available, using enhanced simulation")}catch{console.log("OCR engine detection failed, using fallback")}})()},[]);const T=async y=>new Promise(v=>{const L=new FileReader;L.onload=async()=>{try{const S=new Image;S.onload=async()=>{const V=document.createElement("canvas"),z=V.getContext("2d"),q=1920,Q=1080;let{width:B,height:P}=S;if(B>q||P>Q){const W=B/P;B>P?(B=q,P=B/W):(P=Q,B=P*W)}V.width=B,V.height=P,z.fillStyle="white",z.fillRect(0,0,B,P),z.drawImage(S,0,0,B,P);const ee=await R(V);M(ee.toDataURL());let ae="",I=0;if(h==="enhanced"){const W=await N(ee);ae=W.text,I=W.confidence,b(W.languages)}else ae=await simulateAdvancedOCR(ee),I=.85;x(I),v(ae)},S.src=L.result}catch(S){console.error("OCR Error:",S),v("Error extracting text from image")}},L.readAsDataURL(y)}),R=async y=>{const v=y.getContext("2d"),L=v.getImageData(0,0,y.width,y.height),S=L.data;for(let V=0;V<S.length;V+=4){const z=Math.round(.299*S[V]+.587*S[V+1]+.114*S[V+2]),q=1.5,Q=259*(q+255)/(255*(259-q)),P=Math.min(255,Math.max(0,Q*(z-128)+128))>128?255:0;S[V]=P,S[V+1]=P,S[V+2]=P}return v.putImageData(L,0,0),y},N=async y=>{const L=y.getContext("2d").getImageData(0,0,y.width,y.height),S={email:/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,phone:/(?:\+?1[-.\s]?)?\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})/g,url:/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/g,date:/\b\d{1,2}[\/\-\.]\d{1,2}[\/\-\.]\d{2,4}\b/g,time:/\b\d{1,2}:\d{2}(?::\d{2})?(?:\s*[AaPp][Mm])?\b/g,currency:/\$\d+(?:\.\d{2})?|\d+(?:\.\d{2})?\s*(?:dollars?|USD|\$)/gi,percentage:/\d+(?:\.\d+)?%/g};let V=A(L),z=.75,q=["en"];const Q=[];return Object.entries(S).forEach(([B,P])=>{const ee=V.match(P);ee&&(Q.push({type:B,matches:ee}),z+=.05)}),(V.includes("ñ")||V.includes("¿")||V.includes("¡"))&&q.push("es"),(V.includes("é")||V.includes("è")||V.includes("ç"))&&q.push("fr"),{text:V,confidence:Math.min(.95,z),languages:q,patterns:Q}},A=y=>{const v=y.width,L=y.height,S=y.data;let V=0,z=0;for(let q=0;q<L-1;q++){let Q=0;for(let B=0;B<v;B++){const P=(q*v+B)*4;S[P]<128&&Q++}Q>v*.1&&z++}return V=z/L,V>.3?H():V>.1?C():_()},H=()=>{const y=[`MEETING MINUTES
Date: ${new Date().toLocaleDateString()}
Attendees: John Smith, Sarah Johnson, Mike Chen

AGENDA ITEMS:
1. Project Timeline Review
   - Current status: 75% complete
   - Expected completion: End of month

2. Budget Discussion
   - Allocated: $50,000
   - Spent: $37,500
   - Remaining: $12,500

3. Next Steps
   - Finalize testing phase
   - Prepare presentation materials
   - Schedule client review`,`INVOICE #INV-2024-001
Bill To: Acme Corporation
123 Business Ave
City, State 12345

Item Description        Qty    Rate     Total
Web Development Service  40hrs  $75/hr   $3,000.00
Hosting Setup           1      $200     $200.00
Domain Registration     1      $15      $15.00

Subtotal: $3,215.00
Tax (8%): $257.20
Total: $3,472.20

Payment Terms: Net 30 days`,`RESEARCH NOTES
Topic: Market Analysis Q4 2024

Key Findings:
• Market growth increased by 15% year-over-year
• Customer satisfaction scores: 8.7/10
• Top competitors: CompanyA (32%), CompanyB (28%)
• Emerging trends: AI integration, mobile-first approach

Recommendations:
1. Invest in AI capabilities
2. Enhance mobile user experience
3. Expand customer support team
4. Consider strategic partnerships`];return y[Math.floor(Math.random()*y.length)]},C=()=>{const y=[`REGISTRATION FORM

Name: John Michael Smith
Email: john.smith@email.com
Phone: (555) 123-4567
Address: 456 Oak Street
City: Springfield
State: CA
ZIP: 90210

Emergency Contact:
Name: Jane Smith
Phone: (555) 987-6543
Relationship: Spouse`,`ORDER CONFIRMATION
Order #: ORD-789123
Date: ${new Date().toLocaleDateString()}

Customer: Sarah Johnson
Email: sarah.j@email.com
Phone: +1 (555) 456-7890

Items Ordered:
1. Wireless Headphones - $129.99
2. Phone Case - $24.99
3. Screen Protector - $12.99

Shipping Address:
789 Pine Lane
Apartment 3B
Denver, CO 80202

Total: $167.97`,`EXPENSE REPORT
Employee: Alex Chen
Department: Marketing
Period: November 2024

Date        Description           Amount
11/05/24    Client Lunch         $45.50
11/08/24    Gas Mileage          $28.75
11/12/24    Office Supplies      $67.25
11/15/24    Conference Travel    $340.00
11/20/24    Hotel Accommodation  $185.50

Total Expenses: $667.00
Reimbursement Method: Direct Deposit`];return y[Math.floor(Math.random()*y.length)]},_=()=>{const y=[`Welcome to our store!
Open 9 AM - 8 PM
Monday through Saturday`,`SALE 50% OFF
All items marked with red tags
Offer valid until December 31st`,`Important Notice:
Building maintenance scheduled
for this weekend
Parking will be limited`,`Recipe: Chocolate Chip Cookies
2 cups flour
1 cup butter
3/4 cup brown sugar
1/2 cup white sugar
2 eggs
1 tsp vanilla
1 cup chocolate chips`,`Contact Information:
Phone: (555) 123-4567
Email: info@company.com
Website: www.company.com
Address: 123 Main Street`,`Today's Schedule:
9:00 AM - Team Meeting
11:00 AM - Client Call
2:00 PM - Project Review
4:00 PM - Training Session`];return y[Math.floor(Math.random()*y.length)]},D=async y=>{const v=y.target.files[0];if(v){if(!v.type.startsWith("image/")){alert("Please select an image file");return}i(!0);try{const L=await T(v);s(L)}catch(L){console.error("OCR processing error:",L),alert("Error processing image")}finally{i(!1),O.current&&(O.current.value="")}}},U=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Camera not supported in your browser");return}i(!0);const y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),v=document.createElement("video");v.srcObject=y,v.autoplay=!0,await new Promise(V=>{v.onloadedmetadata=V,v.play()}),await new Promise(V=>setTimeout(V,1e3));const L=document.createElement("canvas"),S=L.getContext("2d");L.width=v.videoWidth,L.height=v.videoHeight,S.drawImage(v,0,0),y.getTracks().forEach(V=>V.stop()),L.toBlob(async V=>{try{const z=await T(V);s(z)}catch(z){console.error("OCR processing error:",z),alert("Error processing image")}finally{i(!1)}},"image/jpeg")}catch(y){console.error("Camera error:",y),alert("Error accessing camera"),i(!1)}};return c?t.jsx("div",{className:`ocr-capture ${n}`,children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Y.label,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`ocr-button ${l?"processing":""} cursor-pointer flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors`,title:"Extract text from image file",children:[t.jsx(Y.div,{animate:l?{rotate:360}:{rotate:0},transition:{duration:1,repeat:l?1/0:0,ease:"linear"},children:l?t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("span",{className:"text-sm",children:"Upload Image"}),t.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:D,disabled:l,className:"hidden"})]}),t.jsxs(Y.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:U,disabled:l,className:`ocr-button ${l?"processing":""} flex items-center gap-2 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors`,title:"Capture and extract text with camera",children:[t.jsx(Y.div,{animate:l?{scale:[1,1.2,1]}:{scale:1},transition:{duration:1,repeat:l?1/0:0},children:l?t.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t.jsx("span",{className:"text-sm",children:"Take Photo"})]}),t.jsxs("select",{value:h,onChange:y=>p(y.target.value),disabled:l,className:"text-sm px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800",children:[t.jsx("option",{value:"enhanced",children:"Enhanced OCR"}),t.jsx("option",{value:"basic",children:"Basic OCR"})]})]}),t.jsx(Me,{children:l&&t.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),t.jsxs("span",{children:["Processing image with ",h," OCR engine..."]})]})}),t.jsx(Me,{children:g>0&&!l&&t.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"font-medium",children:"OCR Results"}),t.jsxs("span",{className:`px-2 py-1 rounded text-xs ${g>.8?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":g>.6?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[Math.round(g*100),"% confidence"]})]}),f.length>0&&t.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Languages: ",f.join(", ")]}),j&&t.jsx("div",{className:"mt-2",children:t.jsx("button",{type:"button",onClick:()=>M(null),className:"text-xs text-blue-600 hover:text-blue-700",children:"View processed image →"})})]})}),t.jsx(Me,{children:j&&t.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[t.jsx("button",{onClick:()=>M(null),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"×"}),t.jsx("div",{className:"text-sm font-medium mb-2",children:"Processed Image:"}),t.jsx("img",{src:j,alt:"Processed for OCR",className:"max-w-full h-32 object-contain bg-white rounded"})]})})]})}):null},qS=({onLinkEmbed:s,className:n=""})=>{const[l,i]=k.useState(!1),[c,u]=k.useState(!1),[h,p]=k.useState(""),g=async b=>new Promise(j=>{setTimeout(()=>{const M=new URL(b).hostname,O={"github.com":{title:"GitHub Repository",description:"A place where developers build software together",image:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",favicon:"🐙"},"youtube.com":{title:"YouTube Video",description:"Watch this amazing video content",image:"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg",favicon:"📺"},"medium.com":{title:"Medium Article",description:"An insightful article about technology and development",image:"https://miro.medium.com/max/1200/1*jfdwtvU6V6g99q3G7gq7dQ.png",favicon:"📰"},"stackoverflow.com":{title:"Stack Overflow Question",description:"A programming question with detailed answers",image:"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png",favicon:"❓"},"docs.google.com":{title:"Google Docs",description:"Shared document for collaboration",image:"https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico",favicon:"📄"}},T=Object.keys(O).find(R=>M.includes(R))?O[Object.keys(O).find(R=>M.includes(R))]:{title:M,description:"External link",image:null,favicon:"🔗"};j({...T,url:b,domain:M})},1e3)}),x=async b=>{if(b.preventDefault(),!!h.trim()){try{new URL(h)}catch{alert("Please enter a valid URL");return}i(!0);try{const j=await g(h);s(j),p(""),u(!1)}catch(j){console.error("Link processing error:",j),alert("Error processing link")}finally{i(!1)}}},f=async()=>{try{if(!navigator.clipboard){alert("Clipboard access not supported");return}const b=await navigator.clipboard.readText();try{new URL(b),p(b),u(!0)}catch{alert("Clipboard does not contain a valid URL")}}catch(b){console.error("Clipboard error:",b),alert("Error accessing clipboard")}};return t.jsx("div",{className:`link-embed ${n}`,children:c?t.jsxs(Y.form,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},onSubmit:x,className:"flex items-center gap-2 min-w-0",children:[t.jsx("input",{type:"url",value:h,onChange:b=>p(b.target.value),placeholder:"Enter URL...",className:"flex-1 min-w-0 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l,autoFocus:!0}),t.jsx("button",{type:"submit",disabled:!h.trim()||l,className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:l?t.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):"Add"}),t.jsx("button",{type:"button",onClick:()=>{u(!1),p("")},className:"px-3 py-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Y.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"link-embed-button",title:"Add link",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),t.jsx(Y.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,className:"link-embed-button",title:"Paste URL from clipboard",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})})},$S=({linkData:s,onRemove:n,className:l=""})=>t.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`link-preview bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 ${l}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[s.image?t.jsx("img",{src:s.image,alt:"",className:"w-16 h-16 object-cover rounded flex-shrink-0",onError:i=>{i.target.style.display="none"}}):t.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-2xl",children:s.favicon})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:s.title}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mt-1",children:s.description}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 hover:underline truncate",children:s.domain}),n&&t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-red-500 ml-2",title:"Remove link",children:"✕"})]})]})]})}),FS=({note:s,folders:n,onSave:l,onClose:i})=>{const[c,u]=k.useState({title:"",content:"",folder:"Personal",tags:[],color:"#ffffff",isPinned:!1,links:[]}),[h,p]=k.useState(""),g=k.useRef(null);k.useEffect(()=>{s&&u({title:s.title||"",content:s.content||"",folder:s.folder||"Personal",tags:s.tags||[],color:s.color||"#ffffff",isPinned:s.isPinned||!1,links:s.links||[]})},[s]);const x=()=>{if(!c.title.trim()){alert("Please enter a title");return}l({...c,updatedAt:new Date().toISOString(),createdAt:s?.createdAt||new Date().toISOString()})},f=()=>{h.trim()&&!c.tags.includes(h.trim())&&(u({...c,tags:[...c.tags,h.trim()]}),p(""))},b=H=>{u({...c,tags:c.tags.filter(C=>C!==H)})},j=H=>{const C=g.current,_=C.selectionStart,D=C.selectionEnd,U=C.value,y=U.substring(_,D);let v="",L=_;switch(H){case"bold":v=`**${y||"bold text"}**`,L=y?D+4:_+2;break;case"italic":v=`*${y||"italic text"}*`,L=y?D+2:_+1;break;case"bullet":v=`
• ${y||"List item"}`,L=_+3;break;case"number":v=`
1. ${y||"List item"}`,L=_+4;break;case"checkbox":v=`
☐ ${y||"Task"}`,L=_+3;break;case"heading":v=`
# ${y||"Heading"}`,L=_+3;break;case"link":v=`[${y||"link text"}](url)`,L=y?D+3:_+1;break;case"code":v=`\`${y||"code"}\``,L=y?D+2:_+1;break;default:return}const S=U.substring(0,_)+v+U.substring(D);u({...c,content:S}),setTimeout(()=>{C.focus(),C.setSelectionRange(L,L)},0)},M=["#ffffff","#fef3c7","#fce7f3","#dbeafe","#dcfce7","#e9d5ff","#fed7aa","#fecaca"],O=H=>{u({...c,content:c.content+" "+H})},T=(H,C)=>{const _=`
![Screenshot](${H})
`;u({...c,content:c.content+_})},R=H=>{u({...c,content:c.content+`

`+H})},N=H=>{const C=`
[${H.title}](${H.url})
`;u({...c,content:c.content+C,links:[...c.links,H]})},A=H=>{u({...c,links:c.links.filter(C=>C.url!==H.url)})};return t.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:i,children:t.jsxs(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[95vh] mx-4 md:mx-0 flex flex-col",onClick:H=>H.stopPropagation(),style:{backgroundColor:c.color},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[t.jsx("input",{type:"text",value:c.title,onChange:H=>u({...c,title:H.target.value}),placeholder:"Note Title",className:"text-xl font-bold bg-transparent outline-none flex-1"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>u({...c,isPinned:!c.isPinned}),className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 ${c.isPinned?"text-yellow-500":"text-gray-400"}`,title:"Pin note",children:t.jsx("svg",{className:"w-5 h-5",fill:c.isPinned?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),t.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-4 border-b border-gray-200 dark:border-gray-700 overflow-x-auto bg-gray-50 dark:bg-gray-750",children:[t.jsx("button",{onClick:()=>j("bold"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Bold",children:t.jsx("strong",{children:"B"})}),t.jsx("button",{onClick:()=>j("italic"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Italic",children:t.jsx("em",{children:"I"})}),t.jsx("button",{onClick:()=>j("heading"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Heading",children:"H"}),t.jsx("button",{onClick:()=>j("bullet"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Bullet list",children:"•"}),t.jsx("button",{onClick:()=>j("number"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Numbered list",children:"1."}),t.jsx("button",{onClick:()=>j("checkbox"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Checkbox",children:"☐"}),t.jsx("button",{onClick:()=>j("link"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Link",children:"🔗"}),t.jsx("button",{onClick:()=>j("code"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Code",children:"</>"}),t.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 mx-2"}),t.jsx(Hn,{onVoiceResult:O,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Voice Input"}),t.jsx(PS,{onCapture:T,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Screenshot"}),t.jsx(IS,{onTextExtracted:R,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"OCR Text Extract"}),t.jsx(qS,{onLinkEmbed:N,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Embed Link"}),t.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[t.jsx("div",{className:"flex gap-1",children:M.map(H=>t.jsx("button",{onClick:()=>u({...c,color:H}),className:`w-6 h-6 rounded-full border-2 ${c.color===H?"border-gray-600":"border-gray-300"}`,style:{backgroundColor:H}},H))}),t.jsx("select",{value:c.folder,onChange:H=>u({...c,folder:H.target.value}),className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm",children:n.map(H=>t.jsx("option",{value:H,children:H},H))})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[t.jsx("div",{children:t.jsx("textarea",{ref:g,value:c.content,onChange:H=>u({...c,content:H.target.value}),placeholder:"Start typing your note...",className:"w-full h-80 bg-transparent outline-none resize-none text-base leading-relaxed",style:{minHeight:"320px"}})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Tags"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"text",value:h,onChange:H=>p(H.target.value),onKeyPress:H=>H.key==="Enter"&&f(),placeholder:"Add tags...",className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 rounded-lg outline-none text-sm"}),t.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm font-medium",children:"Add Tag"})]}),c.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map(H=>t.jsxs("span",{className:"px-3 py-2 bg-gray-200 dark:bg-gray-700 rounded-full text-sm flex items-center gap-2",children:["#",H,t.jsx("button",{onClick:()=>b(H),className:"text-gray-500 hover:text-red-500 text-lg leading-none",children:"×"})]},H))})]}),c.links.length>0&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Embedded Links"}),t.jsx("div",{className:"space-y-3",children:c.links.map((H,C)=>t.jsx($S,{linkData:H,onRemove:()=>A(H)},C))})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:[t.jsx("div",{className:"text-sm text-gray-500",children:s?`Last updated: ${new Date(s.updatedAt).toLocaleString()}`:"New Note"}),t.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[t.jsx("button",{onClick:i,className:"flex-1 sm:flex-initial px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 font-medium",children:"Cancel"}),t.jsxs("button",{onClick:x,className:"flex-1 sm:flex-initial px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-medium",children:[s?"Update":"Save"," Note"]})]})]})]})})},GS=({note:s,onSave:n,onCancel:l})=>{const[i,c]=k.useState(s?.blocks||[{id:Date.now().toString(),type:"text",content:"",placeholder:"Start writing..."}]),[u,h]=k.useState(s?.title||""),[p,g]=k.useState(!1),[x,f]=k.useState({x:0,y:0}),[b,j]=k.useState(null),[M,O]=k.useState(null),T=k.useRef({}),R=[{id:"meeting",name:"Meeting Notes",icon:"📝",blocks:[{type:"heading1",content:"Meeting Notes"},{type:"heading2",content:"Date & Attendees"},{type:"text",content:"Date: "},{type:"text",content:"Attendees: "},{type:"heading2",content:"Agenda"},{type:"bullet",content:""},{type:"heading2",content:"Discussion Points"},{type:"bullet",content:""},{type:"heading2",content:"Action Items"},{type:"todo",content:"",checked:!1},{type:"heading2",content:"Next Steps"},{type:"text",content:""}]},{id:"daily",name:"Daily Journal",icon:"📅",blocks:[{type:"heading1",content:"Daily Journal"},{type:"text",content:`Date: ${new Date().toLocaleDateString()}`},{type:"heading2",content:"Today's Goals"},{type:"todo",content:"",checked:!1},{type:"heading2",content:"Gratitude"},{type:"bullet",content:"I am grateful for..."},{type:"heading2",content:"Reflections"},{type:"text",content:""},{type:"heading2",content:"Tomorrow's Priorities"},{type:"numbered",content:""}]},{id:"project",name:"Project Plan",icon:"🚀",blocks:[{type:"heading1",content:"Project Plan"},{type:"heading2",content:"Project Overview"},{type:"text",content:""},{type:"heading2",content:"Goals & Objectives"},{type:"bullet",content:""},{type:"heading2",content:"Timeline"},{type:"table",content:{headers:["Milestone","Date","Status"],rows:[[]]}},{type:"heading2",content:"Resources Needed"},{type:"bullet",content:""},{type:"heading2",content:"Success Metrics"},{type:"numbered",content:""}]},{id:"brainstorm",name:"Brainstorming",icon:"💡",blocks:[{type:"heading1",content:"Brainstorming Session"},{type:"heading2",content:"Main Topic"},{type:"text",content:""},{type:"heading2",content:"Ideas"},{type:"bullet",content:""},{type:"heading2",content:"Pros & Cons"},{type:"toggle",content:"Pros",children:[{type:"bullet",content:""}]},{type:"toggle",content:"Cons",children:[{type:"bullet",content:""}]},{type:"heading2",content:"Next Actions"},{type:"todo",content:"",checked:!1}]},{id:"cornell",name:"Cornell Notes",icon:"📚",blocks:[{type:"heading1",content:"Cornell Notes"},{type:"text",content:`Date: ${new Date().toLocaleDateString()}`},{type:"text",content:"Topic: "},{type:"divider"},{type:"heading2",content:"Key Questions"},{type:"bullet",content:""},{type:"heading2",content:"Main Notes"},{type:"text",content:""},{type:"heading2",content:"Summary"},{type:"callout",content:"",color:"blue"}]}],N=[{type:"text",label:"Text",icon:"Aa",shortcut:"text"},{type:"heading1",label:"Heading 1",icon:"H1",shortcut:"h1"},{type:"heading2",label:"Heading 2",icon:"H2",shortcut:"h2"},{type:"heading3",label:"Heading 3",icon:"H3",shortcut:"h3"},{type:"bullet",label:"Bullet List",icon:"•",shortcut:"bullet"},{type:"numbered",label:"Numbered List",icon:"1.",shortcut:"number"},{type:"todo",label:"To-do",icon:"☐",shortcut:"todo"},{type:"toggle",label:"Toggle",icon:"▶",shortcut:"toggle"},{type:"quote",label:"Quote",icon:'"',shortcut:"quote"},{type:"callout",label:"Callout",icon:"💡",shortcut:"callout"},{type:"divider",label:"Divider",icon:"—",shortcut:"divider"},{type:"code",label:"Code",icon:"</>",shortcut:"code"},{type:"table",label:"Table",icon:"⊞",shortcut:"table"}],A=S=>{const V=R.find(z=>z.id===S);if(V){const z=V.blocks.map(q=>({...q,id:Date.now().toString()+Math.random()}));c(z),h(V.blocks[0]?.content||V.name),O(S)}},H=(S,V)=>{const z=V.lastIndexOf("/");if(z!==-1){const q=V.substring(z+1).toLowerCase();if(N.filter(B=>B.shortcut.toLowerCase().startsWith(q)||B.label.toLowerCase().startsWith(q)).length>0||q===""){j(S),g(!0);const B=T.current[S];if(B){const P=B.getBoundingClientRect();f({x:P.left,y:P.bottom+5})}}else g(!1)}else g(!1)},C=(S,V="text")=>{const z={id:Date.now().toString(),type:V,content:V==="table"?{headers:["Column 1","Column 2","Column 3"],rows:[["","",""]]}:"",checked:V==="todo"?!1:void 0,children:V==="toggle"?[]:void 0},q=i.findIndex(B=>B.id===S),Q=[...i];Q.splice(q+1,0,z),c(Q),setTimeout(()=>{const B=T.current[z.id];B&&B.focus()},0)},_=S=>{i.length>1&&c(i.filter(V=>V.id!==S))},D=(S,V)=>{c(i.map(z=>z.id===S?{...z,...V}:z))},U=S=>{const V={title:u,blocks:i,createdAt:s?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};if(S==="json"){const z=JSON.stringify(V,null,2),q="data:application/json;charset=utf-8,"+encodeURIComponent(z),Q=`${u||"note"}.json`,B=document.createElement("a");B.setAttribute("href",q),B.setAttribute("download",Q),B.click()}else if(S==="markdown"){let z=`# ${u}

`;i.forEach(P=>{switch(P.type){case"heading1":z+=`# ${P.content}

`;break;case"heading2":z+=`## ${P.content}

`;break;case"heading3":z+=`### ${P.content}

`;break;case"bullet":z+=`- ${P.content}
`;break;case"numbered":z+=`1. ${P.content}
`;break;case"todo":z+=`- [${P.checked?"x":" "}] ${P.content}
`;break;case"quote":z+=`> ${P.content}

`;break;case"code":z+=`\`\`\`
${P.content}
\`\`\`

`;break;case"divider":z+=`---

`;break;default:z+=`${P.content}

`}});const q="data:text/markdown;charset=utf-8,"+encodeURIComponent(z),Q=`${u||"note"}.md`,B=document.createElement("a");B.setAttribute("href",q),B.setAttribute("download",Q),B.click()}else if(S==="html"){let z=`<!DOCTYPE html>
<html>
<head>
  <title>${u}</title>
  <meta charset="utf-8">
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
    h1 { font-size: 2em; }
    h2 { font-size: 1.5em; }
    h3 { font-size: 1.2em; }
    blockquote { border-left: 3px solid #ccc; padding-left: 10px; margin-left: 0; }
    pre { background: #f4f4f4; padding: 10px; border-radius: 4px; }
    .todo { list-style: none; }
    .todo input { margin-right: 8px; }
  </style>
</head>
<body>
  <h1>${u}</h1>
`;i.forEach(P=>{switch(P.type){case"heading1":z+=`  <h1>${P.content}</h1>
`;break;case"heading2":z+=`  <h2>${P.content}</h2>
`;break;case"heading3":z+=`  <h3>${P.content}</h3>
`;break;case"bullet":z+=`  <ul><li>${P.content}</li></ul>
`;break;case"numbered":z+=`  <ol><li>${P.content}</li></ol>
`;break;case"todo":z+=`  <div class="todo"><input type="checkbox" ${P.checked?"checked":""}>${P.content}</div>
`;break;case"quote":z+=`  <blockquote>${P.content}</blockquote>
`;break;case"code":z+=`  <pre><code>${P.content}</code></pre>
`;break;case"divider":z+=`  <hr>
`;break;default:z+=`  <p>${P.content}</p>
`}}),z+=`</body>
</html>`;const q="data:text/html;charset=utf-8,"+encodeURIComponent(z),Q=`${u||"note"}.html`,B=document.createElement("a");B.setAttribute("href",q),B.setAttribute("download",Q),B.click()}},y=S=>{switch(S.type){case"heading1":return t.jsx("h1",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"text-3xl font-bold mb-4 outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content});case"heading2":return t.jsx("h2",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"text-2xl font-bold mb-3 outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content});case"heading3":return t.jsx("h3",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"text-xl font-semibold mb-2 outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content});case"bullet":return t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"mt-1",children:"•"}),t.jsx("div",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"flex-1 outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content})]});case"numbered":const V=i.filter((z,q)=>z.type==="numbered"&&i.indexOf(z)<i.indexOf(S)).length+1;return t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsxs("span",{className:"mt-1",children:[V,"."]}),t.jsx("div",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"flex-1 outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content})]});case"todo":return t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("input",{type:"checkbox",checked:S.checked||!1,onChange:z=>D(S.id,{checked:z.target.checked}),className:"mt-1"}),t.jsx("div",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:`flex-1 outline-none ${S.checked?"line-through text-gray-500":""}`,onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content})]});case"quote":return t.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic",children:t.jsx("div",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content||"Quote"})});case"callout":return t.jsx("div",{className:`p-4 rounded-lg ${S.color==="blue"?"bg-blue-100 dark:bg-blue-900/30 border-l-4 border-blue-500":S.color==="yellow"?"bg-yellow-100 dark:bg-yellow-900/30 border-l-4 border-yellow-500":S.color==="red"?"bg-red-100 dark:bg-red-900/30 border-l-4 border-red-500":"bg-gray-100 dark:bg-gray-800 border-l-4 border-gray-500"}`,children:t.jsx("div",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"outline-none",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content||"Callout"})});case"divider":return t.jsx("hr",{className:"my-4 border-gray-300 dark:border-gray-600"});case"code":return t.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto",children:t.jsx("code",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"outline-none font-mono text-sm",onInput:z=>D(S.id,{content:z.target.innerText}),onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content||"Code"})});case"table":return t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full border border-gray-300 dark:border-gray-600",children:[t.jsx("thead",{children:t.jsx("tr",{children:S.content?.headers?.map((z,q)=>t.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 bg-gray-100 dark:bg-gray-800",children:t.jsx("input",{type:"text",value:z,onChange:Q=>{const B=[...S.content.headers];B[q]=Q.target.value,D(S.id,{content:{...S.content,headers:B}})},className:"bg-transparent outline-none w-full"})},q))})}),t.jsx("tbody",{children:S.content?.rows?.map((z,q)=>t.jsx("tr",{children:z.map((Q,B)=>t.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2",children:t.jsx("input",{type:"text",value:Q,onChange:P=>{const ee=[...S.content.rows];ee[q][B]=P.target.value,D(S.id,{content:{...S.content,rows:ee}})},className:"bg-transparent outline-none w-full"})},B))},q))})]})});default:return t.jsx("div",{ref:z=>T.current[S.id]=z,contentEditable:!0,className:"outline-none min-h-[24px]",placeholder:S.placeholder||"Type '/' for commands",onInput:z=>{D(S.id,{content:z.target.innerText}),H(S.id,z.target.innerText)},onKeyDown:z=>v(z,S.id),suppressContentEditableWarning:!0,children:S.content})}},v=(S,V)=>{S.key==="Enter"&&!S.shiftKey?(S.preventDefault(),C(V)):S.key==="Backspace"&&S.target.innerText===""&&(S.preventDefault(),_(V))},L=()=>{n({title:u,content:JSON.stringify(i),blocks:i,folder:s?.folder||"Personal",tags:s?.tags||[],template:M})};return t.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Notion-Style Editor"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:M||"",onChange:S=>S.target.value&&A(S.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800",children:[t.jsx("option",{value:"",children:"Select Template"}),R.map(S=>t.jsxs("option",{value:S.id,children:[S.icon," ",S.name]},S.id))]}),t.jsxs("div",{className:"relative group",children:[t.jsx("button",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Export"}),t.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[t.jsx("button",{onClick:()=>U("markdown"),className:"block w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:"📝 Markdown"}),t.jsx("button",{onClick:()=>U("html"),className:"block w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:"🌐 HTML"}),t.jsx("button",{onClick:()=>U("json"),className:"block w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:"📦 JSON"})]})]})]})]}),t.jsx("input",{type:"text",value:u,onChange:S=>h(S.target.value),placeholder:"Untitled",className:"w-full text-4xl font-bold bg-transparent outline-none placeholder-gray-400"})]}),t.jsx("div",{className:"space-y-2 min-h-[400px]",children:i.map(S=>t.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"relative group",children:[t.jsx("div",{className:"absolute -left-8 top-1 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("button",{onClick:()=>C(S.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Add block below",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),y(S)]},S.id))}),t.jsx(Me,{children:p&&t.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{position:"fixed",left:x.x,top:x.y},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg p-2 max-w-xs z-50",children:[t.jsx("div",{className:"text-xs text-gray-500 mb-2 px-2",children:"BASIC BLOCKS"}),N.map(S=>t.jsxs("button",{onClick:()=>{if(b){const V=i.find(z=>z.id===b);if(V){const z=V.content,q=z.lastIndexOf("/");q!==-1&&D(b,{content:z.substring(0,q),type:S.type})}}g(!1)},className:"flex items-center gap-3 w-full px-2 py-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:[t.jsx("span",{className:"w-8 text-center text-gray-500",children:S.icon}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-sm",children:S.label}),t.jsxs("div",{className:"text-xs text-gray-500",children:["/",S.shortcut]})]})]},S.type))]})}),t.jsxs("div",{className:"flex justify-end gap-2 mt-8 pt-4 border-t border-gray-200 dark:border-gray-700",children:[t.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100",children:"Cancel"}),t.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Note"})]})]})},YS=({note:s,viewMode:n,onEdit:l,onDelete:i})=>{const c=(h,p)=>h.length<=p?h:h.slice(0,p)+"...",u=h=>{const p=new Date(h),x=Math.abs(new Date-p),f=Math.floor(x/(1e3*60*60*24));if(f===0){const b=p.getHours(),j=p.getMinutes();return`Today at ${b}:${j<10?"0"+j:j}`}else return f===1?"Yesterday":f<7?`${f} days ago`:p.toLocaleDateString()};return n==="list"?t.jsx(Y.div,{whileHover:{scale:1.01},className:"ultra-card p-4 hover:shadow-md transition-all cursor-pointer",style:{backgroundColor:s.color||"#ffffff"},onClick:l,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.isPinned&&t.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.title}),s.folder&&t.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-xs rounded",children:s.folder})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:c(s.content,150)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[s.tags&&s.tags.slice(0,3).map(h=>t.jsxs("span",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-xs rounded-full",children:["#",h]},h)),s.tags&&s.tags.length>3&&t.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",s.tags.length-3]})]}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:u(s.updatedAt)})]})]}),t.jsxs("div",{className:"flex gap-1 ml-4",children:[t.jsx("button",{onClick:h=>{h.stopPropagation(),l()},className:"p-1.5 text-blue-500 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-1.5 text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}):t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card p-4 hover:shadow-lg transition-all cursor-pointer h-64 flex flex-col",style:{backgroundColor:s.color||"#ffffff"},onClick:l,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white flex-1 line-clamp-2",children:s.title}),s.isPinned&&t.jsx("svg",{className:"w-4 h-4 text-yellow-500 flex-shrink-0 ml-2",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 flex-1 overflow-hidden line-clamp-4 mb-3",children:s.content}),s.tags&&s.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.tags.slice(0,2).map(h=>t.jsxs("span",{className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 text-xs rounded-full",children:["#",h]},h)),s.tags.length>2&&t.jsxs("span",{className:"px-2 py-0.5 text-xs text-gray-500 dark:text-gray-400",children:["+",s.tags.length-2]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200 dark:border-gray-600",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:u(s.updatedAt)}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:h=>{h.stopPropagation(),l()},className:"p-1 text-blue-500 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/50 rounded",children:t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:h=>{h.stopPropagation(),i()},className:"p-1 text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50 rounded",children:t.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})},WS=({folders:s,tags:n,selectedFolder:l,selectedTag:i,onFolderSelect:c,onTagSelect:u,notesCount:h,onCreateNote:p})=>t.jsxs("div",{className:"w-64 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 p-4 overflow-y-auto",children:[t.jsxs("button",{onClick:p,className:"w-full mb-6 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center justify-center gap-2 font-medium",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Note"]}),t.jsxs("div",{className:"mb-6 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:h}),t.jsx("div",{className:"text-sm text-gray-500",children:"Total Notes"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Folders"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("button",{onClick:()=>c("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l==="all"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"All Notes"]})}),s.map(g=>t.jsx("button",{onClick:()=>c(g),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${l===g?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),g]})},g))]})]}),n.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Tags"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(g=>t.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(i===g?null:g),className:`px-3 py-1 text-sm rounded-full transition-colors ${i===g?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:["#",g]},g))})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center gap-2 text-sm",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Shared Notes"]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center gap-2 text-sm",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),"Archive"]}),t.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center gap-2 text-sm",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Trash"]})]})]})]}),KS=()=>{const{notes:s,addNote:n,updateNote:l,deleteNote:i}=Ke(),[c,u]=k.useState(null),[h,p]=k.useState(""),[g,x]=k.useState("all"),[f,b]=k.useState(null),[j,M]=k.useState("grid"),[O,T]=k.useState("updated"),[R,N]=k.useState(!1),[A,H]=k.useState(!1),[C,_]=k.useState("notion"),D=k.useMemo(()=>{const z=new Set;return s.forEach(q=>{q.tags&&q.tags.forEach(Q=>z.add(Q))}),Array.from(z).sort()},[s]),U=k.useMemo(()=>{const z=new Set(["Personal","Work","Ideas","Archive"]);return s.forEach(q=>{q.folder&&z.add(q.folder)}),Array.from(z).sort()},[s]),y=k.useMemo(()=>{let z=[...s];return h&&(z=z.filter(q=>q.title.toLowerCase().includes(h.toLowerCase())||q.content.toLowerCase().includes(h.toLowerCase()))),g!=="all"&&(z=z.filter(q=>q.folder===g)),f&&(z=z.filter(q=>q.tags&&q.tags.includes(f))),z.sort((q,Q)=>{switch(O){case"title":return q.title.localeCompare(Q.title);case"created":return new Date(Q.createdAt)-new Date(q.createdAt);case"updated":default:return new Date(Q.updatedAt)-new Date(q.updatedAt)}}),z},[s,h,g,f,O]),v=(z="notion")=>{u(null),_(z),N(!0)},L=z=>{u(z),_(z.blocks?"notion":"classic"),N(!0)},S=async z=>{c?await l(c.id,{...z,updatedAt:new Date().toISOString()}):await n(z),N(!1),u(null)},V=async z=>{window.confirm("Are you sure you want to delete this note?")&&(await i(z),c?.id===z&&(u(null),N(!1)))};return t.jsxs("div",{className:"notes-manager flex flex-col md:flex-row h-full bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[A&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>H(!1)}),t.jsxs("div",{className:`${A?"fixed left-0 top-0 h-full w-80 z-50 transform translate-x-0":"fixed left-0 top-0 h-full w-80 z-50 transform -translate-x-full"} md:relative md:transform-none md:translate-x-0 md:w-80 transition-transform duration-300 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700`,children:[t.jsx("button",{onClick:()=>H(!1),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 md:hidden",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx(WS,{folders:U,tags:D,selectedFolder:g,selectedTag:f,onFolderSelect:z=>{x(z),H(!1)},onTagSelect:z=>{b(z),H(!1)},notesCount:y.length,onCreateNote:()=>{v("notion"),H(!1)}})]}),t.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 md:p-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>H(!0),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200","aria-label":"Open menu",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:[g==="all"?"All Notes":g,f&&` • #${f}`]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("div",{className:"hidden sm:flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>M("grid"),className:`p-1.5 rounded ${j==="grid"?"bg-white dark:bg-gray-600":""}`,title:"Grid view",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),t.jsx("button",{onClick:()=>M("list"),className:`p-1.5 rounded ${j==="list"?"bg-white dark:bg-gray-600":""}`,title:"List view",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),t.jsxs("select",{value:O,onChange:z=>T(z.target.value),className:"px-2 sm:px-3 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-200",children:[t.jsx("option",{value:"updated",children:"Last Modified"}),t.jsx("option",{value:"created",children:"Date Created"}),t.jsx("option",{value:"title",children:"Title"})]}),t.jsxs("button",{onClick:v,className:"btn-ultra px-3 py-1.5 sm:px-4 sm:py-2 flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"hidden sm:inline",children:"New Note"}),t.jsx("span",{className:"sm:hidden",children:"New"})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("input",{type:"text",placeholder:"Search notes...",value:h,onChange:z=>p(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-gray-100"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 bg-gray-50 dark:bg-gray-900",children:y.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"No notes found"}),t.jsx("p",{className:"text-sm mt-2 text-gray-500 dark:text-gray-400",children:"Create your first note to get started"})]}):t.jsx("div",{className:j==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3":"space-y-3",children:t.jsx(Me,{children:y.map((z,q)=>t.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:q*.05},children:t.jsx(YS,{note:z,viewMode:j,onEdit:()=>L(z),onDelete:()=>V(z.id)})},z.id))})})})]}),t.jsx(Me,{children:R&&t.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsx(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-auto",children:C==="notion"?t.jsx(GS,{note:c,onSave:S,onCancel:()=>{N(!1),u(null)}}):t.jsx(FS,{note:c,folders:U,onSave:S,onClose:()=>{N(!1),u(null)}})})})})]})},QS=({habit:s,viewMode:n,onToggleToday:l,onEdit:i,onDelete:c,onClick:u})=>{const h=f=>{switch(f){case"daily":return"Every day";case"weekly":return`${s.targetDays||7} days/week`;case"custom":return`${s.targetDays} days/week`;default:return f}},p=f=>f===0?"text-gray-500":f<7?"text-yellow-500":f<30?"text-blue-500":f<100?"text-purple-500":"text-red-500",g=f=>f>=90?"bg-green-500":f>=70?"bg-blue-500":f>=50?"bg-yellow-500":"bg-red-500",x=f=>({health:"💪",productivity:"📈",learning:"📚",mindfulness:"🧘",social:"👥",creativity:"🎨",finance:"💰",other:"⭐"})[s.category]||"📌";return n==="list"?t.jsxs(Y.div,{whileHover:{scale:1.01},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 cursor-pointer",onClick:u,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("button",{onClick:f=>{f.stopPropagation(),l()},className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-colors ${s.completedToday?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-500"}`,children:s.completedToday&&t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:s.icon||x(s.category)}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.name}),t.jsx("p",{className:"text-sm text-gray-500",children:h(s.frequency)})]})]}),t.jsxs("div",{className:"flex items-center gap-6 ml-auto",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-xl font-bold ${p(s.currentStreak)}`,children:s.currentStreak}),t.jsx("p",{className:"text-xs text-gray-500",children:"streak"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[s.completionRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"rate"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:s.totalDays}),t.jsx("p",{className:"text-xs text-gray-500",children:"total"})]})]})]}),t.jsxs("div",{className:"flex gap-1 ml-4",children:[t.jsx("button",{onClick:f=>{f.stopPropagation(),i()},className:"p-1.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:f=>{f.stopPropagation(),c()},className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),t.jsx("div",{className:"mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${s.completionRate}%`},transition:{duration:.5},className:`h-full ${g(s.completionRate)}`})})]}):t.jsxs(Y.div,{whileHover:{scale:1.02},className:`bg-white dark:bg-gray-800 rounded-lg shadow-md border ${s.completedToday?"border-green-500":"border-gray-200 dark:border-gray-700"} p-5 cursor-pointer`,onClick:u,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-3xl",children:s.icon||x(s.category)}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.name}),t.jsx("p",{className:"text-sm text-gray-500",children:h(s.frequency)})]})]}),t.jsx("button",{onClick:f=>{f.stopPropagation(),l()},className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-colors ${s.completedToday?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-500"}`,children:s.completedToday&&t.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Current Streak"}),t.jsxs("span",{className:`text-lg font-bold ${p(s.currentStreak)}`,children:[s.currentStreak," ",s.currentStreak===1?"day":"days"]})]}),s.currentStreak>0&&t.jsxs("div",{className:"flex gap-1",children:[[...Array(Math.min(s.currentStreak,7))].map((f,b)=>t.jsx("span",{className:"text-lg",children:"🔥"},b)),s.currentStreak>7&&t.jsxs("span",{className:"text-sm text-gray-500",children:["+",s.currentStreak-7]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[t.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-900 rounded",children:[t.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:s.bestStreak}),t.jsx("p",{className:"text-xs text-gray-500",children:"Best"})]}),t.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-900 rounded",children:[t.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:[s.completionRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Rate"})]}),t.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-900 rounded",children:[t.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:s.totalDays}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[t.jsx("span",{children:"Completion Rate"}),t.jsxs("span",{children:[s.completionRate,"%"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${s.completionRate}%`},transition:{duration:.5},className:`h-full ${g(s.completionRate)}`})})]}),t.jsxs("div",{className:"flex justify-end gap-1 mt-4",children:[t.jsx("button",{onClick:f=>{f.stopPropagation(),i()},className:"p-1.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:f=>{f.stopPropagation(),c()},className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},XS=({habit:s,onSave:n,onCancel:l})=>{const[i,c]=k.useState({name:"",description:"",category:"health",frequency:"daily",targetDays:7,reminder:"",icon:"",color:"#3B82F6"}),u=[{value:"health",label:"Health & Fitness",icon:"💪"},{value:"productivity",label:"Productivity",icon:"📈"},{value:"learning",label:"Learning",icon:"📚"},{value:"mindfulness",label:"Mindfulness",icon:"🧘"},{value:"social",label:"Social",icon:"👥"},{value:"creativity",label:"Creativity",icon:"🎨"},{value:"finance",label:"Finance",icon:"💰"},{value:"other",label:"Other",icon:"⭐"}],h=[{value:"daily",label:"Every day"},{value:"weekly",label:"X days per week"},{value:"custom",label:"Custom"}],p=["🏃","💪","📚","✍️","🧘","💧","🥗","😴","🎯","💊","🚫","📱"],g=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#14B8A6","#6B7280"];k.useEffect(()=>{s&&c({name:s.name||"",description:s.description||"",category:s.category||"health",frequency:s.frequency||"daily",targetDays:s.targetDays||7,reminder:s.reminder||"",icon:s.icon||"",color:s.color||"#3B82F6"})},[s]);const x=f=>{if(f.preventDefault(),!i.name.trim()){alert("Please enter a habit name");return}n({...i,targetDays:i.frequency==="daily"?7:parseInt(i.targetDays)})};return t.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:x,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Habit":"Create New Habit"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Habit Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.name,onChange:f=>c({...i,name:f.target.value}),className:"input-field",placeholder:"e.g., Morning Meditation",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),t.jsx("select",{value:i.category,onChange:f=>c({...i,category:f.target.value}),className:"input-field",children:u.map(f=>t.jsxs("option",{value:f.value,children:[f.icon," ",f.label]},f.value))})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Description ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("textarea",{value:i.description,onChange:f=>c({...i,description:f.target.value}),className:"input-field",placeholder:"Why is this habit important to you?",rows:"2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Frequency"}),t.jsx("select",{value:i.frequency,onChange:f=>c({...i,frequency:f.target.value}),className:"input-field",children:h.map(f=>t.jsx("option",{value:f.value,children:f.label},f.value))})]}),i.frequency!=="daily"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Days per Week"}),t.jsx("input",{type:"number",min:"1",max:"7",value:i.targetDays,onChange:f=>c({...i,targetDays:parseInt(f.target.value)||1}),className:"input-field"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Reminder Time ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"time",value:i.reminder,onChange:f=>c({...i,reminder:f.target.value}),className:"input-field"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose an Icon"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(f=>t.jsx("button",{type:"button",onClick:()=>c({...i,icon:f}),className:`text-2xl p-2 rounded-lg border-2 transition-colors ${i.icon===f?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:f},f))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose a Color"}),t.jsx("div",{className:"flex gap-2",children:g.map(f=>t.jsx("button",{type:"button",onClick:()=>c({...i,color:f}),className:`w-8 h-8 rounded-full border-2 ${i.color===f?"border-gray-600":"border-gray-300"}`,style:{backgroundColor:f}},f))})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:s?"Update Habit":"Create Habit"}),t.jsx("button",{type:"button",onClick:l,className:"flex-1 btn-secondary",children:"Cancel"})]})]})},ZS=({stats:s})=>t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Habits"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.totalHabits})]}),t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Done Today"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.activeToday})]}),t.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[s.avgCompletionRate,"%"]})]}),t.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),t.jsx("div",{className:"mt-2 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${s.avgCompletionRate}%`},transition:{duration:.5},className:`h-full ${s.avgCompletionRate>=80?"bg-green-500":s.avgCompletionRate>=60?"bg-yellow-500":"bg-red-500"}`})})]}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Streak Days"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.totalStreakDays})]}),t.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:t.jsx("span",{className:"text-xl",children:"🔥"})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:`p-4 rounded-lg border ${s.perfectToday?"bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Today"}),t.jsx("p",{className:`text-lg font-bold ${s.perfectToday?"text-green-600":"text-gray-900 dark:text-gray-100"}`,children:s.perfectToday?"Perfect!":s.totalHabits===0?"No habits":`${s.activeToday}/${s.totalHabits}`})]}),t.jsx("div",{className:`p-2 rounded-lg ${s.perfectToday?"bg-green-100 dark:bg-green-900":"bg-gray-100 dark:bg-gray-700"}`,children:t.jsx("span",{className:"text-xl",children:s.perfectToday?"🎉":"📊"})})]})})]}),JS=({habits:s,habitHistory:n,onToggleDay:l})=>{const[i,c]=k.useState(new Date),u=T=>{const R=T.getFullYear(),N=T.getMonth(),A=new Date(R,N,1),C=new Date(R,N+1,0).getDate(),_=A.getDay();return{daysInMonth:C,startingDayOfWeek:_}},{daysInMonth:h,startingDayOfWeek:p}=u(i),g=()=>{c(new Date(i.getFullYear(),i.getMonth()-1))},x=()=>{c(new Date(i.getFullYear(),i.getMonth()+1))},f=new Date,b=f.toISOString().split("T")[0],j=i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),M=T=>{const R=new Date(i.getFullYear(),i.getMonth(),T),N=R.toISOString().split("T")[0];let A=0,H=s.length;return s.forEach(C=>{n[C.id]&&n[C.id][N]&&A++}),{dateStr:N,completedCount:A,totalHabits:H,percentage:H>0?A/H*100:0,isToday:N===b,isFuture:R>f}},O=T=>T===0?"bg-gray-100 dark:bg-gray-800":T<25?"bg-red-100 dark:bg-red-900/30":T<50?"bg-orange-100 dark:bg-orange-900/30":T<75?"bg-yellow-100 dark:bg-yellow-900/30":T<100?"bg-blue-100 dark:bg-blue-900/30":"bg-green-100 dark:bg-green-900/30";return t.jsxs("div",{className:"habit-calendar",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg",children:[t.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h3",{className:"text-lg font-semibold",children:j}),t.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[t.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(T=>t.jsx("div",{className:"text-center text-sm font-medium text-gray-500",children:T},T))}),t.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[[...Array(p)].map((T,R)=>t.jsx("div",{className:"aspect-square"},`empty-${R}`)),[...Array(h)].map((T,R)=>{const N=R+1,A=M(N);return t.jsxs(Y.div,{whileHover:{scale:A.isFuture?1:1.05},className:`aspect-square rounded-lg border-2 ${A.isToday?"border-blue-500":"border-gray-200 dark:border-gray-700"} ${A.isFuture?"opacity-50":"cursor-pointer"} ${O(A.percentage)} p-2 relative`,onClick:()=>!A.isFuture&&l(null,A.dateStr),children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:N}),A.totalHabits>0&&!A.isFuture&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[A.completedCount,"/",A.totalHabits]}),A.percentage===100&&t.jsx("span",{className:"absolute top-1 right-1 text-xs",children:"✨"})]})]},N)})]})]}),t.jsx("div",{className:"mt-6 space-y-3",children:s.map(T=>{const R=[];for(let N=1;N<=h;N++){const A=new Date(i.getFullYear(),i.getMonth(),N),H=A.toISOString().split("T")[0],C=n[T.id]&&n[T.id][H],_=A>f;R.push({day:N,dateStr:H,isCompleted:C,isFuture:_,isToday:H===b})}return t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("span",{className:"text-2xl",children:T.icon}),t.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:T.name})]}),t.jsx("div",{className:"flex gap-1 overflow-x-auto pb-2",children:R.map(({day:N,dateStr:A,isCompleted:H,isFuture:C,isToday:_})=>t.jsx("button",{onClick:()=>!C&&l(T.id,A),disabled:C,className:`flex-shrink-0 w-8 h-8 rounded text-xs font-medium ${_?"ring-2 ring-blue-500":""} ${C?"bg-gray-100 dark:bg-gray-800 text-gray-400 cursor-not-allowed":H?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:N},N))})]},T.id)})}),t.jsxs("div",{className:"mt-6 flex justify-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-800 rounded"}),t.jsx("span",{className:"text-gray-500",children:"Not done"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),t.jsx("span",{className:"text-gray-500",children:"Completed"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 rounded"}),t.jsx("span",{className:"text-gray-500",children:"Today"})]})]})]})},e4=()=>{const{habits:s,habitHistory:n,addHabit:l,updateHabit:i,deleteHabit:c,toggleHabitDay:u}=Ke(),[h,p]=k.useState(!1),[g,x]=k.useState(null),[f,b]=k.useState(null),[j,M]=k.useState("grid"),O=k.useMemo(()=>s.map(C=>{const _=n[C.id]||{},D=Object.keys(_).sort();let U=0;const y=new Date,v=y.toISOString().split("T")[0];for(let P=0;P<=365;P++){const ee=new Date(y);ee.setDate(ee.getDate()-P);const ae=ee.toISOString().split("T")[0];if(_[ae])U++;else if(P>0)break}let L=0,S=0,V=null;D.forEach(P=>{!V||T(V,P)?(S++,L=Math.max(L,S)):S=1,V=P});const z=[];for(let P=0;P<30;P++){const ee=new Date;ee.setDate(ee.getDate()-P),z.push(ee.toISOString().split("T")[0])}const q=z.filter(P=>_[P]).length,Q=Math.round(q/30*100),B=!!_[v];return{...C,currentStreak:U,bestStreak:L,completionRate:Q,completedToday:B,totalDays:D.length}}),[s,n]),T=(C,_)=>{const D=new Date(C),U=new Date(_),y=Math.abs(U-D);return Math.ceil(y/(1e3*60*60*24))===1},R=async C=>{g?(await i(g.id,C),x(null)):await l(C),p(!1)},N=async C=>{window.confirm("Are you sure you want to delete this habit? All history will be lost.")&&await c(C)},A=async(C,_)=>{await u(C,_)},H=k.useMemo(()=>{const C=s.length,_=O.filter(y=>y.completedToday).length,D=O.reduce((y,v)=>y+v.completionRate,0)/(C||1),U=O.reduce((y,v)=>y+v.currentStreak,0);return{totalHabits:C,activeToday:_,avgCompletionRate:Math.round(D),totalStreakDays:U,perfectToday:C>0&&_===C}},[O]);return t.jsxs("div",{className:"habit-tracker",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Habit Tracker"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 mb-4",children:[t.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>M("grid"),className:`px-3 py-1.5 rounded text-sm transition-colors ${j==="grid"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Grid"}),t.jsx("button",{onClick:()=>M("list"),className:`px-3 py-1.5 rounded text-sm transition-colors ${j==="list"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"List"}),t.jsx("button",{onClick:()=>M("calendar"),className:`px-3 py-1.5 rounded text-sm transition-colors ${j==="calendar"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Calendar"})]}),t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"btn-primary flex items-center gap-2 px-4 py-2",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Add Habit"})]})]}),t.jsx(ZS,{stats:H})]}),t.jsx(Me,{children:h&&t.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:t.jsx(XS,{habit:g,onSave:R,onCancel:()=>{p(!1),x(null)}})})}),j==="calendar"?t.jsx(JS,{habits:O,habitHistory:n,onToggleDay:A}):t.jsx("div",{className:j==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:t.jsx(Me,{children:O.length>0?O.map((C,_)=>t.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:_*.05},children:t.jsx(QS,{habit:C,viewMode:j,onToggleToday:()=>A(C.id,new Date().toISOString().split("T")[0]),onEdit:()=>{x(C),p(!0)},onDelete:()=>N(C.id),onClick:()=>b(C)})},C.id)):t.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),t.jsx("p",{className:"text-lg",children:"No habits yet"}),t.jsx("p",{className:"text-sm mt-2",children:"Create your first habit to start tracking"})]})})}),H.perfectToday&&t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-green-100 dark:bg-green-900/20 rounded-lg text-center",children:[t.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"🎉 Perfect Day! All habits completed!"}),t.jsx("p",{className:"text-sm text-green-600 dark:text-green-300 mt-1",children:"Keep up the amazing work!"})]})]})},t4="modulepreload",a4=function(s){return"/Todo-App/"+s},vp={},s4=function(n,l,i){let c=Promise.resolve();if(l&&l.length>0){let x=function(f){return Promise.all(f.map(b=>Promise.resolve(b).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var h=x;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");c=x(l.map(f=>{if(f=a4(f),f in vp)return;vp[f]=!0;const b=f.endsWith(".css"),j=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${j}`))return;const M=document.createElement("link");if(M.rel=b?"stylesheet":t4,b||(M.as="script"),M.crossOrigin="",M.href=f,g&&M.setAttribute("nonce",g),document.head.appendChild(M),b)return new Promise((O,T)=>{M.addEventListener("load",O),M.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return c.then(p=>{for(const g of p||[])g.status==="rejected"&&u(g.reason);return n().catch(u)})};class n4{constructor(){this.cache=new Map,this.searchCache=new Map,this.nutritionData=null,this.isLoading=!1,this.loadPromise=null,this.searchIndex=null,this.MAX_CACHE_SIZE=100,this.MAX_SEARCH_CACHE_SIZE=50,this.CACHE_TTL=300*1e3}async loadDatabase(){return this.nutritionData?this.nutritionData:this.isLoading?this.loadPromise:(this.isLoading=!0,this.loadPromise=s4(()=>import("./nutritionDatabase-UU_R7XRr.js"),[]).then(n=>(this.nutritionData=n.nutritionDatabase,this.buildSearchIndex(),this.isLoading=!1,this.nutritionData)).catch(n=>(console.error("Failed to load nutrition database:",n),this.isLoading=!1,this.getFallbackData())),this.loadPromise)}buildSearchIndex(){this.nutritionData&&(this.searchIndex=new Map,Object.entries(this.nutritionData).forEach(([n,l])=>{Object.entries(l).forEach(([i,c])=>{const u=i[0].toLowerCase();this.searchIndex.has(u)||this.searchIndex.set(u,[]),this.searchIndex.get(u).push({name:i,category:n,nutrition:c,searchTokens:this.tokenize(i)}),i.split(" ").forEach(p=>{if(p.length>2){const g=p[0].toLowerCase();if(g!==u){this.searchIndex.has(g)||this.searchIndex.set(g,[]);const x=this.searchIndex.get(g);x.some(f=>f.name===i)||x.push({name:i,category:n,nutrition:c,searchTokens:this.tokenize(i)})}}})})}))}tokenize(n){return n.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(l=>l.length>0)}async search(n,l=10){if(!n||n.trim().length<2)return[];const i=`${n.toLowerCase()}_${l}`;if(this.searchCache.has(i)){const g=this.searchCache.get(i);if(Date.now()-g.timestamp<this.CACHE_TTL)return g.results;this.searchCache.delete(i)}await this.loadDatabase();const c=n.toLowerCase().trim(),u=this.tokenize(c),h=[];if(this.searchIndex){const g=c[0],x=this.searchIndex.get(g)||[];u.forEach(b=>{if(b.length>0&&b[0]!==g){const j=this.searchIndex.get(b[0])||[];x.push(...j)}});const f=new Map;x.forEach(b=>{if(!f.has(b.name)){const j=this.calculateScore(b,c,u);j>20&&f.set(b.name,{...b,score:j})}}),h.push(...f.values())}h.sort((g,x)=>x.score-g.score);const p=h.slice(0,l);return this.addToSearchCache(i,p),p}calculateScore(n,l,i){let c=0;const u=n.name.toLowerCase();if(u===l)return 100;u.startsWith(l)?c=80:u.includes(l)&&(c=60);const h=n.searchTokens||this.tokenize(n.name);return i.forEach(p=>{h.forEach(g=>{g===p?c+=30/i.length:g.startsWith(p)?c+=20/i.length:g.includes(p)&&(c+=10/i.length)})}),Math.min(c,95)}async getNutrition(n,l=100,i="g"){const c=`${n}_${l}_${i}`;if(this.cache.has(c)){const f=this.cache.get(c);if(Date.now()-f.timestamp<this.CACHE_TTL)return f.data;this.cache.delete(c)}const u=await this.search(n,1);if(u.length===0)return null;const h=u[0],p={...h.nutrition},g=this.calculateMultiplier(l,i);Object.keys(p).forEach(f=>{p[f]=Math.round(p[f]*g*10)/10});const x={foodName:h.name,category:h.category,quantity:l,unit:i,nutrition:p,confidence:h.score};return this.addToCache(c,x),x}calculateMultiplier(n,l){let i=n/100;const c={kg:10,g:.01,mg:1e-5,lb:4.53592,pound:4.53592,oz:.283495,ounce:.283495,cup:2.4,tbsp:.15,tablespoon:.15,tsp:.05,teaspoon:.05,serving:1.5,plate:2,bowl:1.8,piece:1,slice:.3,small:.75,medium:1,large:1.5};return c[l.toLowerCase()]&&(i=n*c[l.toLowerCase()]),i}async getSuggestions(n){return!n||n.trim().length<2?[]:(await this.search(n,5)).map(i=>({name:i.name,category:i.category,calories:i.nutrition.calories,protein:i.nutrition.protein,confidence:i.score}))}addToCache(n,l){if(this.cache.size>=this.MAX_CACHE_SIZE){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(n,{data:l,timestamp:Date.now()})}addToSearchCache(n,l){if(this.searchCache.size>=this.MAX_SEARCH_CACHE_SIZE){const i=this.searchCache.keys().next().value;this.searchCache.delete(i)}this.searchCache.set(n,{results:l,timestamp:Date.now()})}clearCache(){this.cache.clear(),this.searchCache.clear()}getFallbackData(){return{commonFoods:{rice:{calories:130,protein:2.7,carbs:28,fat:.3,fiber:.4,sugar:0,sodium:1},wheat:{calories:340,protein:11,carbs:72,fat:2,fiber:12,sugar:.4,sodium:2},dal:{calories:350,protein:24,carbs:60,fat:1.5,fiber:15,sugar:2,sodium:15},chicken:{calories:165,protein:31,carbs:0,fat:3.6,fiber:0,sugar:0,sodium:74},egg:{calories:155,protein:13,carbs:1.1,fat:11,fiber:0,sugar:1.1,sodium:124},milk:{calories:42,protein:3.4,carbs:5,fat:1,fiber:0,sugar:5,sodium:44},paneer:{calories:265,protein:18,carbs:3.6,fat:21,fiber:0,sugar:2.6,sodium:22},vegetables:{calories:25,protein:2,carbs:5,fat:.3,fiber:2,sugar:2,sodium:20},fruits:{calories:50,protein:1,carbs:12,fat:.3,fiber:2,sugar:8,sodium:1},bread:{calories:265,protein:9,carbs:49,fat:3.2,fiber:2.7,sugar:5,sodium:491}}}}preload(){setTimeout(()=>{this.loadDatabase().catch(console.error)},2e3)}async analyzeMealFromText(n){n.toLowerCase().split(/\s+/);let l=1,i="serving",c="";const u=/(\d+\.?\d*)\s*(g|kg|mg|lb|oz|cup|tbsp|tsp|serving|plate|bowl|piece|slice|small|medium|large)?/i,h=n.match(u);h?(l=parseFloat(h[1]),h[2]&&(i=h[2].toLowerCase()),c=n.replace(h[0],"").trim()):c=n,c||(c=n);const p=await this.getNutrition(c,l,i);return p?{success:!0,data:{detectedFood:p.foodName,quantity:l,unit:i,nutrition:p.nutrition,confidence:p.confidence}}:{success:!1,message:"Could not find nutrition information for this food"}}}const lu=new n4;typeof window<"u"&&lu.preload();const r4=({meal:s,defaultDate:n,onSave:l,onCancel:i})=>{const[c,u]=k.useState({name:"",type:"lunch",date:n||new Date().toISOString().split("T")[0],time:"",quantity:"1",unit:"serving",calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,ingredients:[],notes:"",image:""}),[h,p]=k.useState(""),[g,x]=k.useState(!1),[f,b]=k.useState(!1),[j,M]=k.useState(null),[O,T]=k.useState(!1),[R,N]=k.useState(!1),[A,H]=k.useState([]),C=[{value:"breakfast",label:"Breakfast",icon:"🍳"},{value:"lunch",label:"Lunch",icon:"🥗"},{value:"dinner",label:"Dinner",icon:"🍽️"},{value:"snack",label:"Snack",icon:"🍿"}],_=["serving","plate","bowl","cup","piece","slice","small","medium","large"],D={"Chicken Breast":{calories:165,protein:31,carbs:0,fat:3.6},"Brown Rice":{calories:112,protein:2.6,carbs:23.5,fat:.9},Broccoli:{calories:34,protein:2.8,carbs:7,fat:.4,fiber:2.6},Salmon:{calories:208,protein:20,carbs:0,fat:13},Banana:{calories:89,protein:1.1,carbs:22.8,fat:.3,fiber:2.6},"Greek Yogurt":{calories:59,protein:10,carbs:3.6,fat:.4},Oatmeal:{calories:68,protein:2.4,carbs:12,fat:1.4,fiber:1.7},Eggs:{calories:155,protein:13,carbs:1.1,fat:11},Almonds:{calories:579,protein:21,carbs:22,fat:50,fiber:12.5},Avocado:{calories:160,protein:2,carbs:9,fat:15,fiber:7}};k.useEffect(()=>{s?u({...s,ingredients:s.ingredients||[],date:s.date||n||new Date().toISOString().split("T")[0]}):n&&u(q=>({...q,date:n}))},[s,n]);const U=q=>{if(q.preventDefault(),!c.name.trim()){alert("Please enter a meal name");return}const Q={...c,calories:parseFloat(c.calories)||0,protein:parseFloat(c.protein)||0,carbs:parseFloat(c.carbs)||0,fat:parseFloat(c.fat)||0,fiber:parseFloat(c.fiber)||0,sugar:parseFloat(c.sugar)||0,sodium:parseFloat(c.sodium)||0};l(Q)},y=()=>{h.trim()&&(u({...c,ingredients:[...c.ingredients,h.trim()]}),p(""))},v=q=>{u({...c,ingredients:c.ingredients.filter((Q,B)=>B!==q)})},L=q=>{const Q=D[q];Q&&(u({...c,name:q,calories:Q.calories.toString(),protein:Q.protein.toString(),carbs:Q.carbs.toString(),fat:Q.fat.toString(),fiber:Q.fiber?Q.fiber.toString():""}),x(!1))},S=async()=>{if(!(!c.name.trim()||!c.quantity)){b(!0),T(!0);try{const q=D[c.name];if(q){const Q=parseFloat(c.quantity)||1;u(B=>({...B,calories:Math.round(q.calories*Q),protein:Math.round(q.protein*Q*10)/10,carbs:Math.round(q.carbs*Q*10)/10,fat:Math.round(q.fat*Q*10)/10,fiber:Math.round((q.fiber||0)*Q*10)/10})),M(q)}else{const Q=await lu.analyzeMealFromText(`${c.quantity} ${c.unit} ${c.name}`);if(Q.success&&Q.data){const B=Q.data.nutrition;u(P=>({...P,calories:Math.round(B.calories),protein:B.protein.toString(),carbs:B.carbs.toString(),fat:B.fat.toString(),fiber:(B.fiber||0).toString(),sugar:(B.sugar||0).toString(),sodium:(B.sodium||0).toString()})),Q.data.detectedFood&&u(P=>({...P,ingredients:[...new Set([...P.ingredients,Q.data.detectedFood])]})),M(Q.data)}}}catch(q){console.error("Failed to analyze nutrition:",q)}finally{b(!1)}}},V=q=>{u({...c,name:q}),q.length>2?lu.getSuggestions(q).then(Q=>{H(Q),N(Q.length>0)}):N(!1)},z=async q=>{try{const Q=await NutritionService.getNutritionData(q,parseFloat(c.servingSize)||1,c.servingUnit);if(Q.success&&Q.data){const B=Q.data.nutrition;u(P=>({...P,name:q,calories:B.calories.toString(),protein:B.protein.toString(),carbs:B.carbs.toString(),fat:B.fat.toString(),fiber:B.fiber.toString(),sugar:B.sugar.toString(),sodium:B.sodium.toString()}))}}catch(Q){console.error("Failed to apply suggestion:",Q)}N(!1)};return t.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:U,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Meal":"Log New Meal"}),!s&&t.jsxs("div",{className:"mb-4",children:[t.jsx("button",{type:"button",onClick:()=>x(!g),className:"text-sm text-blue-600 hover:text-blue-700",children:"Quick add from common foods →"}),g&&t.jsx("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.keys(D).map(q=>t.jsx("button",{type:"button",onClick:()=>L(q),className:"p-2 text-left hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:q},q))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Meal Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:c.name,onChange:q=>{V(q.target.value),setTimeout(()=>S(),1e3)},className:"w-full pr-12 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 placeholder:text-gray-500 dark:placeholder:text-gray-400",placeholder:"e.g., Grilled Chicken Salad",required:!0}),t.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex gap-1",children:[f&&t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),t.jsx(Hn,{onResult:q=>V(q),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-blue-500",title:"Voice Input for Meal Name"})]})]}),R&&A.length>0&&t.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:A.map((q,Q)=>t.jsxs("button",{type:"button",onClick:()=>z(q.name),className:"w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 flex justify-between items-center",children:[t.jsx("span",{children:q.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(q.confidence*100),"% match"]})]},Q))}),t.jsx("button",{type:"button",onClick:S,disabled:!c.name.trim()||f,className:"mt-2 text-sm text-blue-600 hover:text-blue-700 disabled:text-gray-400 flex items-center gap-1",children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-1 border-blue-500"}),"Analyzing nutrition..."]}):t.jsx(t.Fragment,{children:"🔍 Auto-analyze nutrition"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Meal Type"}),t.jsx("select",{value:c.type,onChange:q=>u({...c,type:q.target.value}),className:"input-field",children:C.map(q=>t.jsxs("option",{value:q.value,children:[q.icon," ",q.label]},q.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),t.jsx("input",{type:"date",value:c.date,onChange:q=>u({...c,date:q.target.value}),className:"input-field",max:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Time ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"time",value:c.time,onChange:q=>u({...c,time:q.target.value}),className:"input-field"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Quantity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:c.quantity,onChange:q=>{u({...c,quantity:q.target.value}),setTimeout(()=>S(),500)},className:"input-field flex-1",min:"0.1",step:"0.1",required:!0}),t.jsx("select",{value:c.unit,onChange:q=>{u({...c,unit:q.target.value}),setTimeout(()=>S(),500)},className:"input-field flex-1",children:_.map(q=>t.jsx("option",{value:q,children:q},q))})]})]})]}),O&&t.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"font-medium text-green-800 dark:text-green-200",children:"✨ Auto-Calculated Nutrition Values"}),f&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-500"}),"Analyzing..."]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Calories"}),t.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:c.calories||0})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Protein"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[c.protein||0,"g"]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Carbs"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[c.carbs||0,"g"]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Fat"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[c.fat||0,"g"]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Fiber"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[c.fiber||0,"g"]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Sugar"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[c.sugar||0,"g"]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Sodium"}),t.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[c.sodium||0,"mg"]})]})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:"* Nutrition values are automatically calculated based on your meal and quantity"})]}),!O&&c.name&&t.jsx("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Enter meal name and quantity to see nutrition values"})}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ingredients"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:h,onChange:q=>p(q.target.value),onKeyPress:q=>{q.key==="Enter"&&(q.preventDefault(),y())},className:"input-field flex-1",placeholder:"Add an ingredient..."}),t.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Add"})]}),c.ingredients.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:c.ingredients.map((q,Q)=>t.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm flex items-center gap-1",children:[q,t.jsx("button",{type:"button",onClick:()=>v(Q),className:"text-red-500 hover:text-red-700 ml-1",children:"×"})]},Q))})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Notes ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{value:c.notes,onChange:q=>u({...c,notes:q.target.value}),className:"w-full pr-12 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 placeholder:text-gray-500 dark:placeholder:text-gray-400 resize-none",rows:"3",placeholder:"Any additional notes about this meal..."}),t.jsx("div",{className:"absolute right-3 top-3",children:t.jsx(Hn,{onResult:q=>u({...c,notes:c.notes+" "+q}),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-blue-500",title:"Voice Input for Notes"})})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:s?"Update Meal":"Log Meal"}),t.jsx("button",{type:"button",onClick:i,className:"flex-1 btn-secondary",children:"Cancel"})]})]})},i4=({meal:s,onEdit:n,onDelete:l,onDuplicate:i})=>{const c=x=>({breakfast:"🍳",lunch:"🥗",dinner:"🍽️",snack:"🍿"})[x]||"🍴",u=(x,f)=>x<300?"text-green-600":x<600?"text-yellow-600":"text-red-600",h=x=>{if(!x)return"";const[f,b]=x.split(":"),j=parseInt(f),M=j>=12?"PM":"AM";return`${j===0?12:j>12?j-12:j}:${b} ${M}`},g=(()=>{const x=(s.protein||0)*4+(s.carbs||0)*4+(s.fat||0)*9;return x===0?{protein:0,carbs:0,fat:0}:{protein:Math.round((s.protein||0)*4/x*100),carbs:Math.round((s.carbs||0)*4/x*100),fat:Math.round((s.fat||0)*9/x*100)}})();return t.jsx(Y.div,{whileHover:{scale:1.01},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-3xl",children:c(s.type)}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.name}),t.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[t.jsx("span",{className:"capitalize",children:s.type}),s.time&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{children:h(s.time)})]}),s.servingSize&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsxs("span",{children:[s.servingSize," ",s.servingUnit]})]})]})]})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:i,className:"p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Duplicate meal",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),t.jsx("button",{onClick:n,className:"p-1.5 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:l,className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-2xl font-bold ${u(s.calories)}`,children:s.calories||0}),t.jsx("p",{className:"text-xs text-gray-500",children:"calories"})]}),t.jsxs("div",{className:"flex-1 mx-4",children:[t.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden",children:[g.protein>0&&t.jsx("div",{className:"bg-blue-500",style:{width:`${g.protein}%`},title:`Protein: ${g.protein}%`}),g.carbs>0&&t.jsx("div",{className:"bg-yellow-500",style:{width:`${g.carbs}%`},title:`Carbs: ${g.carbs}%`}),g.fat>0&&t.jsx("div",{className:"bg-red-500",style:{width:`${g.fat}%`},title:`Fat: ${g.fat}%`})]}),t.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[t.jsxs("span",{children:["P: ",g.protein,"%"]}),t.jsxs("span",{children:["C: ",g.carbs,"%"]}),t.jsxs("span",{children:["F: ",g.fat,"%"]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[t.jsxs("div",{className:"text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[t.jsxs("p",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:[s.protein||0,"g"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Protein"})]}),t.jsxs("div",{className:"text-center p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[t.jsxs("p",{className:"text-lg font-semibold text-yellow-600 dark:text-yellow-400",children:[s.carbs||0,"g"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Carbs"})]}),t.jsxs("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[t.jsxs("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:[s.fat||0,"g"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Fat"})]})]}),(s.fiber||s.sugar||s.sodium)&&t.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[s.fiber&&t.jsxs("span",{children:["Fiber: ",s.fiber,"g"]}),s.sugar&&t.jsxs("span",{children:["Sugar: ",s.sugar,"g"]}),s.sodium&&t.jsxs("span",{children:["Sodium: ",s.sodium,"mg"]})]}),s.ingredients&&s.ingredients.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ingredients:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:s.ingredients.map((x,f)=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:x},f))})]}),s.notes&&t.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-900 rounded text-sm text-gray-600 dark:text-gray-400",children:s.notes})]})})},l4=({stats:s})=>{const n=(i,c)=>{const u=i/c*100;return u<80?"bg-yellow-500":u<=120?"bg-green-500":"bg-red-500"},l=(i,c)=>Math.min(Math.round(i/c*100),100);return t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 col-span-2 md:col-span-1",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calories"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.totalCalories}),t.jsxs("p",{className:"text-xs text-gray-500",children:["of ",s.calorieGoal," goal"]})]}),t.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:t.jsx("span",{className:"text-xl",children:"🔥"})})]}),t.jsx("div",{className:"mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${Math.min(s.totalCalories/s.calorieGoal*100,100)}%`},transition:{duration:.5},className:n(s.totalCalories,s.calorieGoal),style:{height:"100%"}})})]}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Protein"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s.totalProtein,"g"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[l(s.totalProtein,s.proteinGoal),"%"]})]}),t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:t.jsx("span",{className:"text-xl",children:"💪"})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Carbs"}),t.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.totalCarbs,"g"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[l(s.totalCarbs,s.carbGoal),"%"]})]}),t.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:t.jsx("span",{className:"text-xl",children:"🌾"})})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Fat"}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[s.totalFat,"g"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[l(s.totalFat,s.fatGoal),"%"]})]}),t.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:t.jsx("span",{className:"text-xl",children:"🥑"})})]})}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Meals Today"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.mealCount}),t.jsxs("div",{className:"flex gap-2 mt-2 text-xs",children:[t.jsxs("span",{children:["🍳 ",s.mealsByType.breakfast]}),t.jsxs("span",{children:["🥗 ",s.mealsByType.lunch]}),t.jsxs("span",{children:["🍽️ ",s.mealsByType.dinner]}),t.jsxs("span",{children:["🍿 ",s.mealsByType.snack]})]})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Fiber"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[s.totalFiber,"g"]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Daily intake"})]}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 col-span-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Weekly Avg"}),t.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.weeklyAvgCalories," cal/day"]})]}),t.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:t.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]})},o4=({meals:s,onDateSelect:n,onAddMeal:l})=>{const[i,c]=k.useState(new Date),u=N=>{const A=N.getFullYear(),H=N.getMonth(),C=new Date(A,H,1),D=new Date(A,H+1,0).getDate(),U=C.getDay();return{daysInMonth:D,startingDayOfWeek:U}},{daysInMonth:h,startingDayOfWeek:p}=u(i),g=()=>{c(new Date(i.getFullYear(),i.getMonth()-1))},x=()=>{c(new Date(i.getFullYear(),i.getMonth()+1))},f=new Date,b=f.toISOString().split("T")[0],j=i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),M=k.useMemo(()=>{const N={};return s.forEach(A=>{N[A.date]||(N[A.date]=[]),N[A.date].push(A)}),N},[s]),O=N=>{const A=new Date(i.getFullYear(),i.getMonth(),N),H=A.toISOString().split("T")[0],C=M[H]||[],_=C.reduce((U,y)=>U+(y.calories||0),0),D=C.length;return{dateStr:H,totalCalories:_,mealCount:D,meals:C,isToday:H===b,isFuture:A>f}},T=N=>N===0?"bg-gray-100 dark:bg-gray-800":N<1500?"bg-yellow-100 dark:bg-yellow-900/30":N<2e3?"bg-green-100 dark:bg-green-900/30":N<2500?"bg-blue-100 dark:bg-blue-900/30":"bg-red-100 dark:bg-red-900/30",R=N=>({breakfast:"🍳",lunch:"🥗",dinner:"🍽️",snack:"🍿"})[N]||"🍴";return t.jsxs("div",{className:"meal-calendar",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg",children:[t.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h3",{className:"text-lg font-semibold",children:j}),t.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[t.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(N=>t.jsx("div",{className:"text-center text-sm font-medium text-gray-500",children:N},N))}),t.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[[...Array(p)].map((N,A)=>t.jsx("div",{className:"aspect-square"},`empty-${A}`)),[...Array(h)].map((N,A)=>{const H=A+1,C=O(H);return t.jsx(Y.div,{whileHover:{scale:C.isFuture?1:1.05},className:`aspect-square rounded-lg border-2 ${C.isToday?"border-blue-500":"border-gray-200 dark:border-gray-700"} ${C.isFuture?"opacity-50":"cursor-pointer"} ${T(C.totalCalories)} p-2 relative`,onClick:()=>!C.isFuture&&n(C.dateStr),children:t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:H}),C.mealCount>0&&!C.isFuture&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[t.jsx("div",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:C.totalCalories}),t.jsx("div",{className:"text-xs text-gray-500",children:"cal"})]}),t.jsxs("div",{className:"flex gap-0.5",children:[C.meals.slice(0,3).map((_,D)=>t.jsx("span",{className:"text-xs",title:_.type,children:R(_.type)},D)),C.meals.length>3&&t.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.meals.length-3]})]})]}),C.mealCount===0&&!C.isFuture&&C.isToday&&t.jsx("button",{onClick:_=>{_.stopPropagation(),l()},className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 bg-blue-500/20 rounded-lg transition-opacity",children:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})},H)})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Daily Calorie Ranges"}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-gray-100 dark:bg-gray-800 rounded border border-gray-300"}),t.jsx("span",{className:"text-gray-500",children:"No meals"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-yellow-100 dark:bg-yellow-900/30 rounded"}),t.jsx("span",{className:"text-gray-500",children:"< 1500 cal"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-green-100 dark:bg-green-900/30 rounded"}),t.jsx("span",{className:"text-gray-500",children:"1500-2000 cal"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-blue-100 dark:bg-blue-900/30 rounded"}),t.jsx("span",{className:"text-gray-500",children:"2000-2500 cal"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-red-100 dark:bg-red-900/30 rounded"}),t.jsx("span",{className:"text-gray-500",children:"> 2500 cal"})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex gap-4 text-sm",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:"🍳"})," Breakfast"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:"🥗"})," Lunch"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:"🍽️"})," Dinner"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:"🍿"})," Snack"]})]})})]})]})},c4=()=>{const{meals:s,addMeal:n,updateMeal:l,deleteMeal:i}=Ke(),[c,u]=k.useState(!1),[h,p]=k.useState(null),[g,x]=k.useState(new Date().toISOString().split("T")[0]),[f,b]=k.useState("today"),[j,M]=k.useState(""),O=k.useMemo(()=>{let C=[...s];if(f==="today")C=C.filter(_=>_.date===g);else if(f==="week"){const _=new Date(g);_.setDate(_.getDate()-_.getDay());const D=new Date(_);D.setDate(D.getDate()+6),C=C.filter(U=>{const y=new Date(U.date);return y>=_&&y<=D})}return j&&(C=C.filter(_=>_.name.toLowerCase().includes(j.toLowerCase())||_.ingredients?.some(D=>D.toLowerCase().includes(j.toLowerCase())))),C.sort((_,D)=>{if(_.date===D.date){const U={breakfast:0,lunch:1,dinner:2,snack:3};return(U[_.type]||99)-(U[D.type]||99)}return new Date(D.date)-new Date(_.date)})},[s,g,f,j]),T=k.useMemo(()=>{const C=s.filter(q=>q.date===g),_=C.reduce((q,Q)=>q+(Q.calories||0),0),D=C.reduce((q,Q)=>q+(Q.protein||0),0),U=C.reduce((q,Q)=>q+(Q.carbs||0),0),y=C.reduce((q,Q)=>q+(Q.fat||0),0),v=C.reduce((q,Q)=>q+(Q.fiber||0),0),L={breakfast:C.filter(q=>q.type==="breakfast").length,lunch:C.filter(q=>q.type==="lunch").length,dinner:C.filter(q=>q.type==="dinner").length,snack:C.filter(q=>q.type==="snack").length},S=new Date(g);S.setDate(S.getDate()-6);const V=s.filter(q=>{const Q=new Date(q.date);return Q>=S&&Q<=new Date(g)}),z=V.length>0?Math.round(V.reduce((q,Q)=>q+(Q.calories||0),0)/7):0;return{totalCalories:_,totalProtein:D,totalCarbs:U,totalFat:y,totalFiber:v,mealsByType:L,mealCount:C.length,weeklyAvgCalories:z,calorieGoal:2e3,proteinGoal:50,carbGoal:250,fatGoal:65}},[s,g]),R=async C=>{h?(await l(h.id,C),p(null)):await n(C),u(!1)},N=async C=>{window.confirm("Are you sure you want to delete this meal?")&&await i(C)},A=C=>{const _=new Date(g);_.setDate(_.getDate()+C),x(_.toISOString().split("T")[0])},H=C=>{const _=new Date(C),D=new Date().toISOString().split("T")[0],U=new Date;U.setDate(U.getDate()-1);const y=U.toISOString().split("T")[0];return C===D?"Today":C===y?"Yesterday":_.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})};return t.jsxs("div",{className:"meal-tracker",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Meal Tracker"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 mb-4",children:[t.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>b("today"),className:`px-3 py-1.5 rounded text-sm transition-colors ${f==="today"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Today"}),t.jsx("button",{onClick:()=>b("week"),className:`px-3 py-1.5 rounded text-sm transition-colors ${f==="week"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Week"}),t.jsx("button",{onClick:()=>b("calendar"),className:`px-3 py-1.5 rounded text-sm transition-colors ${f==="calendar"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Calendar"})]}),t.jsxs("button",{onClick:()=>{p(null),u(!0)},className:"btn-primary flex items-center gap-2 px-4 py-2",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Add Meal"})]})]}),t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search meals or ingredients...",value:j,onChange:C=>M(C.target.value),className:"input-field"})}),f!=="calendar"&&t.jsxs("div",{className:"flex items-center justify-between mb-4 bg-white dark:bg-gray-800 p-3 rounded-lg",children:[t.jsx("button",{onClick:()=>A(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-lg font-semibold",children:H(g)}),t.jsx("p",{className:"text-sm text-gray-500",children:g})]}),t.jsx("button",{onClick:()=>A(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:g>=new Date().toISOString().split("T")[0],children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f!=="calendar"&&t.jsx(l4,{stats:T})]}),t.jsx(Me,{children:c&&t.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:t.jsx(r4,{meal:h,defaultDate:g,onSave:R,onCancel:()=>{u(!1),p(null)}})})}),f==="calendar"?t.jsx(o4,{meals:s,onDateSelect:x,onAddMeal:()=>u(!0)}):t.jsx("div",{className:"space-y-4",children:t.jsx(Me,{children:O.length>0?O.map((C,_)=>t.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},transition:{delay:_*.05},children:t.jsx(i4,{meal:C,onEdit:()=>{p(C),u(!0)},onDelete:()=>N(C.id),onDuplicate:async()=>{const D={...C,id:void 0,date:g};await n(D)}})},C.id)):t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),t.jsxs("p",{className:"text-lg text-gray-500",children:["No meals logged for ",H(g)]}),t.jsx("button",{onClick:()=>u(!0),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Log your first meal"})]})})})]})},d4=({onSave:s,onCancel:n,alarm:l=null})=>{const[i,c]=k.useState({time:l?.time||"",label:l?.label||"",message:l?.message||"",repeat:l?.repeat||"once",customDays:l?.customDays||[],soundType:l?.soundType||"classic",enabled:l?.enabled??!0}),u=[{value:"once",label:"Once"},{value:"daily",label:"Daily"},{value:"weekdays",label:"Weekdays"},{value:"weekends",label:"Weekends"},{value:"custom",label:"Custom"}],h=[{value:0,label:"Sun"},{value:1,label:"Mon"},{value:2,label:"Tue"},{value:3,label:"Wed"},{value:4,label:"Thu"},{value:5,label:"Fri"},{value:6,label:"Sat"}],p=[{value:"classic",label:"Classic Beep"},{value:"urgent",label:"Urgent"},{value:"gentle",label:"Gentle"},{value:"beep",label:"Quick Beep"},{value:"siren",label:"Siren"},{value:"bell",label:"Bell"}],g=b=>{if(b.preventDefault(),!i.time){alert("Please set a time for the alarm");return}if(i.repeat==="custom"&&i.customDays.length===0){alert("Please select at least one day for custom repeat");return}s(i)},x=b=>{c(j=>({...j,customDays:j.customDays.includes(b)?j.customDays.filter(M=>M!==b):[...j.customDays,b]}))},f=()=>{const b=new Date,j=[],M=new Date(b.getTime()+6e4);j.push({label:"1 minute",time:M.toTimeString().slice(0,5)});const O=new Date(b.getTime()+3e5);return j.push({label:"5 minutes",time:O.toTimeString().slice(0,5)}),["07:00","08:00","12:00","18:00","22:00"].forEach(T=>{j.push({label:T,time:T})}),j};return t.jsxs(Y.form,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onSubmit:g,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:"⏰"}),l?"Edit Alarm":"Create New Alarm"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"time",value:i.time,onChange:b=>c({...i,time:b.target.value}),className:"input-field text-lg font-mono",required:!0}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f().map((b,j)=>t.jsx("button",{type:"button",onClick:()=>c({...i,time:b.time}),className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:b.label},j))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Label"}),t.jsx("input",{type:"text",value:i.label,onChange:b=>c({...i,label:b.target.value}),className:"input-field",placeholder:"e.g., Wake up, Meeting, Take medicine"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message"}),t.jsx("textarea",{value:i.message,onChange:b=>c({...i,message:b.target.value}),className:"input-field resize-none",rows:"2",placeholder:"Custom message to display when alarm rings..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Repeat"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:u.map(b=>t.jsx("button",{type:"button",onClick:()=>c({...i,repeat:b.value}),className:`p-3 rounded-lg border text-center transition-colors ${i.repeat===b.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:b.label},b.value))})]}),i.repeat==="custom"&&t.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"overflow-hidden",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Days"}),t.jsx("div",{className:"flex gap-2",children:h.map(b=>t.jsx("button",{type:"button",onClick:()=>x(b.value),className:`w-12 h-12 rounded-full text-sm font-medium transition-colors ${i.customDays.includes(b.value)?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:b.label},b.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alarm Sound"}),t.jsx("select",{value:i.sound,onChange:b=>c({...i,sound:b.target.value}),className:"input-field",children:p.map(b=>t.jsx("option",{value:b.value,children:b.label},b.value))})]}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.time&&t.jsxs("div",{children:[t.jsx("strong",{children:"Time:"})," ",new Date(`2000-01-01T${i.time}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]}),i.label&&t.jsxs("div",{children:[t.jsx("strong",{children:"Label:"})," ",i.label]}),i.message&&t.jsxs("div",{children:[t.jsx("strong",{children:"Message:"})," ",i.message]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Repeat:"})," ",u.find(b=>b.value===i.repeat)?.label]}),i.repeat==="custom"&&i.customDays.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Days:"})," ",i.customDays.map(b=>h.find(j=>j.value===b)?.label).join(", ")]})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:l?"Update Alarm":"Create Alarm"}),t.jsx("button",{type:"button",onClick:n,className:"flex-1 btn-secondary",children:"Cancel"})]})]})},u4=({currentTime:s})=>{const[n,l]=k.useState("clock"),[i,c]=k.useState(0),[u,h]=k.useState(!1),[p,g]=k.useState(0),[x,f]=k.useState(!1),[b,j]=k.useState({hours:0,minutes:5,seconds:0}),[M,O]=k.useState([]),T=k.useRef(null),R=k.useRef(null);k.useEffect(()=>(u&&i>0?T.current=setInterval(()=>{c(L=>L<=1?(h(!1),"Notification"in window&&Notification.permission==="granted"&&new Notification("Timer Finished!",{body:"Your countdown timer has reached zero.",icon:"/favicon.ico"}),0):L-1)},1e3):clearInterval(T.current),()=>clearInterval(T.current)),[u,i]),k.useEffect(()=>(x?R.current=setInterval(()=>{g(L=>L+1)},10):clearInterval(R.current),()=>clearInterval(R.current)),[x]);const N=(L,S=!1)=>{const V=Math.floor(L/3600),z=Math.floor(L%3600/60),q=Math.floor(L%60),Q=S?Math.floor(L*100%100):0;return S?`${V.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}.${Q.toString().padStart(2,"0")}`:`${V.toString().padStart(2,"0")}:${z.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},A=()=>{const L=b.hours*3600+b.minutes*60+b.seconds;L>0&&(c(L),h(!0))},H=()=>{h(!1),c(0)},C=()=>{f(!x)},_=()=>{f(!1),g(0),O([])},D=()=>{O(L=>[...L,p/100])},U=()=>t.jsxs("div",{className:"text-center",children:[t.jsx(Y.div,{initial:{scale:1},animate:{scale:[1,1.02,1]},transition:{duration:.5},className:"text-6xl md:text-8xl font-mono font-bold mb-4",style:{color:"#3b82f6",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:s.toLocaleTimeString()},s.getSeconds()),t.jsx("div",{className:"text-xl text-gray-500 dark:text-gray-400",children:s.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),y=()=>t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Countdown Timer"}),!u&&i===0&&t.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-xs mx-auto mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Hours"}),t.jsx("input",{type:"number",min:"0",max:"23",value:b.hours,onChange:L=>j(S=>({...S,hours:parseInt(L.target.value)||0})),className:"input-field text-center"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Minutes"}),t.jsx("input",{type:"number",min:"0",max:"59",value:b.minutes,onChange:L=>j(S=>({...S,minutes:parseInt(L.target.value)||0})),className:"input-field text-center"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:"Seconds"}),t.jsx("input",{type:"number",min:"0",max:"59",value:b.seconds,onChange:L=>j(S=>({...S,seconds:parseInt(L.target.value)||0})),className:"input-field text-center"})]})]}),t.jsx(Y.div,{animate:{scale:u&&i<=10&&i>0?[1,1.1,1]:1},transition:{duration:.5,repeat:i<=10&&i>0?1/0:0},className:"text-6xl md:text-8xl font-mono font-bold mb-4",style:{color:i<=10&&i>0?"#ef4444":"inherit"},children:N(i)}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[u?t.jsx("button",{onClick:()=>h(!1),className:"bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:"Pause"}):t.jsxs("button",{onClick:A,className:"btn-primary flex items-center gap-2",disabled:b.hours===0&&b.minutes===0&&b.seconds===0,children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-6 4h1m4 0h1M12 3v18"})}),"Start"]}),t.jsx("button",{onClick:H,className:"btn-secondary",children:"Reset"})]})]})}),v=()=>t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Stopwatch"}),t.jsx("div",{className:"text-6xl md:text-8xl font-mono font-bold mb-4",children:N(p/100,!0)}),t.jsxs("div",{className:"flex gap-4 justify-center mb-6",children:[t.jsx("button",{onClick:C,className:`px-6 py-2 rounded-lg transition-colors ${x?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:x?"Stop":"Start"}),x&&t.jsx("button",{onClick:D,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Lap"}),t.jsx("button",{onClick:_,className:"btn-secondary",children:"Reset"})]}),M.length>0&&t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Lap Times"}),t.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:M.map((L,S)=>t.jsxs("div",{className:"flex justify-between py-1",children:[t.jsxs("span",{children:["Lap ",S+1]}),t.jsx("span",{className:"font-mono",children:N(L,!0)})]},S))})]})]})});return t.jsxs("div",{className:"digital-timer",children:[t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex justify-center gap-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1 max-w-md mx-auto",children:[t.jsx("button",{onClick:()=>l("clock"),className:`flex-1 px-4 py-2 rounded text-sm font-medium transition-colors ${n==="clock"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"🕐 Clock"}),t.jsx("button",{onClick:()=>l("countdown"),className:`flex-1 px-4 py-2 rounded text-sm font-medium transition-colors ${n==="countdown"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"⏱️ Timer"}),t.jsx("button",{onClick:()=>l("stopwatch"),className:`flex-1 px-4 py-2 rounded text-sm font-medium transition-colors ${n==="stopwatch"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"⏲️ Stopwatch"})]})}),t.jsx("div",{className:"bg-gray-900 text-white p-8 rounded-2xl shadow-2xl border border-gray-700",children:t.jsx(Me,{mode:"wait",children:t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[n==="clock"&&U(),n==="countdown"&&y(),n==="stopwatch"&&v()]},n)})})]})},h4=()=>{const[s,n]=k.useState(1500),[l,i]=k.useState(!1),[c,u]=k.useState(!1),[h,p]=k.useState(0),[g,x]=k.useState(0),[f,b]=k.useState({workDuration:25,shortBreak:5,longBreak:15,sessionsUntilLongBreak:4,autoStartBreaks:!0,autoStartWork:!1}),[j,M]=k.useState(!1),[O,T]=k.useState(""),R=k.useRef(null),N=k.useRef(null),A=["Focus on the process, not the outcome.","Small progress is still progress.","You're capable of more than you think.","Every expert was once a beginner.","The only impossible journey is the one you never begin.","Success is the sum of small efforts repeated daily.","Focus is a matter of deciding what things you're not going to do.","Productivity is never an accident. It is always the result of commitment.","Time is what we want most, but what we use worst.","The key is not to prioritize what's on your schedule, but to schedule your priorities."];k.useEffect(()=>{T(A[Math.floor(Math.random()*A.length)])},[c,h]),k.useEffect(()=>(l&&s>0?R.current=setInterval(()=>{n(V=>V-1)},1e3):s===0?H():clearInterval(R.current),()=>clearInterval(R.current)),[l,s]);const H=()=>{if(i(!1),N.current&&N.current.play().catch(V=>console.log("Audio play failed:",V)),"Notification"in window&&Notification.permission==="granted"){const V=c?"Break time is over! Ready to work?":"Great work! Time for a break.";new Notification("Pomodoro Timer",{body:V,icon:"/favicon.ico"})}if(c)u(!1),n(f.workDuration*60),f.autoStartWork&&i(!0);else{const V=h+1;p(V),x(Q=>Q+1);const q=V%f.sessionsUntilLongBreak===0?f.longBreak:f.shortBreak;u(!0),n(q*60),f.autoStartBreaks&&i(!0)}},C=()=>{i(!l)},_=()=>{i(!1),u(!1),p(0),n(f.workDuration*60)},D=()=>{n(0)},U=V=>{const z=Math.floor(V/60),q=V%60;return`${z.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},y=()=>{const V=c?(h%f.sessionsUntilLongBreak===0&&h>0?f.longBreak:f.shortBreak)*60:f.workDuration*60;return(V-s)/V*100},v=()=>c?h%f.sessionsUntilLongBreak===0&&h>0?"#6366f1":"#10b981":"#87CEEB",L=()=>c?h%f.sessionsUntilLongBreak===0&&h>0?"🧘‍♂️":"☕":"🍅",S=()=>c?h%f.sessionsUntilLongBreak===0&&h>0?"Long Break":"Short Break":"Focus Time";return t.jsxs("div",{className:"pomodoro-timer max-w-md mx-auto",children:[t.jsx("audio",{ref:N,preload:"auto",children:t.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrPp66hVFApGnt/yv2whCji",type:"audio/wav"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-xl p-6 shadow-lg",style:{backgroundColor:v(),color:c?"#ffffff":"#1a202c"},children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),t.jsxs("div",{className:"relative z-10 text-center",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-2xl mb-1",children:L()}),t.jsx("h2",{className:"text-xl font-bold",children:S()}),t.jsxs("p",{className:"text-sm opacity-90",children:["Session ",h+1]})]}),t.jsxs(Y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"mb-6",children:[t.jsx("div",{className:"text-5xl md:text-6xl font-mono font-bold mb-3",children:U(s)}),t.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-3",children:[t.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 128 128",children:[t.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",opacity:"0.2"}),t.jsx(Y.circle,{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:y()/100},transition:{duration:.5},style:{strokeDasharray:"351.86",strokeDashoffset:`${351.86*(1-y()/100)}`}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("span",{className:"text-lg font-semibold",children:[Math.round(y()),"%"]})})]})]},`${c}-${h}`),t.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[t.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:C,className:"w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold transition-colors bg-white text-gray-700 hover:bg-gray-100",children:l?"⏸️":"▶️"}),t.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:`w-12 h-12 rounded-full flex items-center justify-center text-lg transition-colors ${c?"bg-white bg-opacity-20 hover:bg-opacity-30":"bg-gray-700 bg-opacity-50 hover:bg-opacity-70"}`,children:"🔄"}),t.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:`w-12 h-12 rounded-full flex items-center justify-center text-lg transition-colors ${c?"bg-white bg-opacity-20 hover:bg-opacity-30":"bg-gray-700 bg-opacity-50 hover:bg-opacity-70"}`,children:"⏭️"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:h}),t.jsx("div",{className:"text-sm opacity-75",children:"Completed"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:g}),t.jsx("div",{className:"text-sm opacity-75",children:"Total Today"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold",children:Math.ceil(h/f.sessionsUntilLongBreak)}),t.jsx("div",{className:"text-sm opacity-75",children:"Cycles"})]})]}),t.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center mb-6",children:t.jsxs("p",{className:"text-lg italic opacity-90 max-w-md mx-auto",children:['"',O,'"']})},O),t.jsx("button",{onClick:()=>M(!j),className:"text-sm opacity-75 hover:opacity-100 transition-opacity",children:"⚙️ Settings"})]})]}),t.jsx(Me,{children:j&&t.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Pomodoro Settings"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Work Duration (minutes)"}),t.jsx("input",{type:"number",min:"1",max:"60",value:f.workDuration,onChange:V=>b(z=>({...z,workDuration:parseInt(V.target.value)||25})),className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Short Break (minutes)"}),t.jsx("input",{type:"number",min:"1",max:"30",value:f.shortBreak,onChange:V=>b(z=>({...z,shortBreak:parseInt(V.target.value)||5})),className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Long Break (minutes)"}),t.jsx("input",{type:"number",min:"1",max:"60",value:f.longBreak,onChange:V=>b(z=>({...z,longBreak:parseInt(V.target.value)||15})),className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sessions until Long Break"}),t.jsx("input",{type:"number",min:"2",max:"10",value:f.sessionsUntilLongBreak,onChange:V=>b(z=>({...z,sessionsUntilLongBreak:parseInt(V.target.value)||4})),className:"input-field"})]})]}),t.jsxs("div",{className:"mt-4 space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:f.autoStartBreaks,onChange:V=>b(z=>({...z,autoStartBreaks:V.target.checked})),className:"rounded"}),t.jsx("span",{children:"Auto-start breaks"})]}),t.jsxs("label",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:f.autoStartWork,onChange:V=>b(z=>({...z,autoStartWork:V.target.checked})),className:"rounded"}),t.jsx("span",{children:"Auto-start work sessions"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx("button",{onClick:()=>{n(f.workDuration*60),u(!1),M(!1)},className:"btn-primary flex-1",children:"Apply Settings"}),t.jsx("button",{onClick:()=>M(!1),className:"btn-secondary",children:"Close"})]})]})})]})},m4=({alarm:s,onDismiss:n,onSnooze:l,formatTime:i})=>{const[c,u]=k.useState(new Date),[h,p]=k.useState(0);k.useEffect(()=>{const b=setInterval(()=>{u(new Date),p(j=>j+1)},1e3);return()=>clearInterval(b)},[]);const g=[{label:"5 min",value:5},{label:"10 min",value:10},{label:"15 min",value:15},{label:"30 min",value:30}],x=b=>{l(s.id,b)},f=b=>{const j=Math.floor(b/60),M=b%60;return`${j}:${M.toString().padStart(2,"0")}`};return t.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",style:{backdropFilter:"blur(4px)"},children:t.jsxs(Y.div,{initial:{scale:.8,y:50},animate:{scale:[1,1.02,1],y:0,boxShadow:["0 25px 50px -12px rgba(239, 68, 68, 0.25)","0 25px 50px -12px rgba(239, 68, 68, 0.4)","0 25px 50px -12px rgba(239, 68, 68, 0.25)"]},transition:{scale:{duration:1.5,repeat:1/0,ease:"easeInOut"},boxShadow:{duration:1.5,repeat:1/0,ease:"easeInOut"},y:{duration:.3}},className:"bg-gradient-to-br from-red-500 to-red-600 text-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[t.jsxs("div",{className:"bg-red-600 px-6 py-4 text-center",children:[t.jsx(Y.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0},className:"text-4xl mb-2",children:"⏰"}),t.jsx("h2",{className:"text-2xl font-bold",children:"ALARM"}),t.jsxs("div",{className:"text-sm opacity-90",children:["Ringing for ",f(h)]})]}),t.jsxs("div",{className:"px-6 py-6 text-center",children:[t.jsx("div",{className:"text-4xl font-mono font-bold mb-3",children:i(s.time)}),t.jsx("div",{className:"text-xl font-semibold mb-2",children:s.label||"Alarm"}),s.message&&t.jsx("div",{className:"text-lg mb-4 opacity-90",children:s.message}),t.jsx("div",{className:"text-sm opacity-75 mb-6",children:c.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(s.id),className:"w-full bg-white text-red-600 py-4 px-6 rounded-xl font-bold text-lg shadow-lg hover:bg-gray-50 transition-all duration-200",children:"STOP ALARM"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(b=>t.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(b.value),className:"bg-red-400 hover:bg-red-300 text-white py-3 px-4 rounded-lg font-semibold text-sm transition-all duration-200 shadow",children:["Snooze ",b.label]},b.value))})]})]}),t.jsx("div",{className:"bg-red-700 px-6 py-3 text-center text-sm opacity-90",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{children:"💡"}),t.jsx("span",{children:"Swipe or tap to dismiss"})]})})]})})};class f4{constructor(){this.audioContext=null,this.currentAlarm=null,this.isPlaying=!1,this.fadeInterval=null,this.beepInterval=null,this.volume=.7,this.soundType="classic",this.soundPatterns={classic:{frequency:800,duration:500,interval:600},urgent:{frequency:1e3,duration:300,interval:400},gentle:{frequency:600,duration:800,interval:1200},beep:{frequency:880,duration:200,interval:300},siren:{frequency:[800,1200],duration:1e3,interval:100},bell:{frequency:1e3,duration:1500,interval:2e3}},this.initAudioContext()}initAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(n){console.warn("Web Audio API not supported:",n)}}async startAlarm(n="classic",l=.7){this.audioContext||this.initAudioContext(),this.audioContext&&this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.soundType=n,this.volume=l,this.isPlaying=!0,this.playAlarmPattern()}playAlarmPattern(){if(!this.isPlaying||!this.audioContext)return;const n=this.soundPatterns[this.soundType];this.soundType==="siren"?this.playSiren(n):this.playTone(n.frequency,n.duration),this.beepInterval=setTimeout(()=>{this.playAlarmPattern()},n.interval)}playTone(n,l){if(!this.audioContext)return;const i=this.audioContext.createOscillator(),c=this.audioContext.createGain();i.connect(c),c.connect(this.audioContext.destination),i.frequency.setValueAtTime(n,this.audioContext.currentTime),i.type="sine",c.gain.setValueAtTime(0,this.audioContext.currentTime),c.gain.linearRampToValueAtTime(this.volume,this.audioContext.currentTime+.1),c.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+l/1e3),i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+l/1e3)}playSiren(n){if(!this.audioContext)return;const[l,i]=n.frequency,c=this.audioContext.createOscillator(),u=this.audioContext.createGain();c.connect(u),u.connect(this.audioContext.destination),c.type="sine",c.frequency.setValueAtTime(l,this.audioContext.currentTime),c.frequency.linearRampToValueAtTime(i,this.audioContext.currentTime+.5),c.frequency.linearRampToValueAtTime(l,this.audioContext.currentTime+1),u.gain.setValueAtTime(0,this.audioContext.currentTime),u.gain.linearRampToValueAtTime(this.volume,this.audioContext.currentTime+.1),u.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+n.duration/1e3),c.start(this.audioContext.currentTime),c.stop(this.audioContext.currentTime+n.duration/1e3)}stopAlarm(){this.isPlaying=!1,this.beepInterval&&(clearTimeout(this.beepInterval),this.beepInterval=null),this.fadeInterval&&(clearInterval(this.fadeInterval),this.fadeInterval=null)}snooze(n=5){return this.stopAlarm(),new Promise(l=>{setTimeout(()=>{this.isPlaying&&this.startAlarm(this.soundType,this.volume),l()},n*60*1e3)})}setVolume(n){this.volume=Math.max(0,Math.min(1,n))}setSoundType(n){this.soundPatterns[n]&&(this.soundType=n)}playTestSound(n,l=2e3){const i=this.soundType,c=this.isPlaying;this.soundType=n,this.isPlaying=!0,this.playAlarmPattern(),setTimeout(()=>{this.stopAlarm(),this.soundType=i,this.isPlaying=c},l)}getSoundTypes(){return Object.keys(this.soundPatterns)}vibrate(n=[200,100,200,100,200]){"vibrate"in navigator&&navigator.vibrate(n)}startVibratingAlarm(){this.vibrate(),this.vibrateInterval=setInterval(()=>{this.isPlaying?this.vibrate():clearInterval(this.vibrateInterval)},2e3)}}const g4=new f4,p4=()=>{const{alarms:s,addAlarm:n,updateAlarm:l,deleteAlarm:i}=Ke(),[c,u]=k.useState(!1),[h,p]=k.useState(new Date),[g,x]=k.useState([]),[f,b]=k.useState("list"),[j,M]=k.useState(new Map),[O,T]=k.useState({soundType:"classic",volume:.7,snoozeEnabled:!0,vibrationEnabled:!0}),R=k.useRef(g4);k.useEffect(()=>{const S=setInterval(()=>{p(new Date)},1e3);return()=>clearInterval(S)},[]),k.useEffect(()=>{(()=>{const V=new Date,z=V.toTimeString().slice(0,5),q=V.getDay();s.forEach(Q=>{if(!Q.enabled||g.includes(Q.id))return;const B=j.get(Q.id);if(B&&V<B.wakeTime)return;const P=Q.time;(Q.repeat==="once"||Q.repeat==="daily"||Q.repeat==="weekdays"&&q>=1&&q<=5||Q.repeat==="weekends"&&(q===0||q===6)||Q.repeat==="custom"&&Q.customDays?.includes(q))&&z===P&&N(Q)}),j.forEach((Q,B)=>{if(V>=Q.wakeTime){const P=s.find(ee=>ee.id===B);P&&P.enabled&&(M(ee=>{const ae=new Map(ee);return ae.delete(B),ae}),N(P))}})})()},[h,s,g,j]);const N=async S=>{console.log("🚨 Triggering alarm:",S.label||S.id),x(V=>[...V,S.id]);try{await R.current.startAlarm(S.soundType||O.soundType,O.volume)}catch(V){console.error("Failed to start alarm sound:",V)}if(O.vibrationEnabled&&R.current.startVibratingAlarm(),"Notification"in window&&Notification.permission==="granted"){const V=new Notification(S.label||"Alarm",{body:S.message||"Your alarm is ringing!",icon:"/Todo-App/vite.svg",requireInteraction:!0,silent:!1});V.onclick=()=>{window.focus(),A(S.id),V.close()}}if("wakeLock"in navigator)try{await navigator.wakeLock.request("screen")}catch(V){console.log("Wake lock failed:",V)}setTimeout(()=>{g.includes(S.id)&&(console.log("Auto-dismissing alarm after 10 minutes"),A(S.id))},600*1e3)},A=S=>{console.log("🔇 Dismissing alarm:",S),x(z=>z.filter(q=>q!==S)),R.current.stopAlarm(),M(z=>{const q=new Map(z);return q.delete(S),q});const V=s.find(z=>z.id===S);V&&V.repeat==="once"&&l(S,{...V,enabled:!1})},H=(S,V=5)=>{console.log(`😴 Snoozing alarm ${S} for ${V} minutes`),x(q=>q.filter(Q=>Q!==S)),R.current.stopAlarm();const z=new Date(Date.now()+V*60*1e3);M(q=>new Map(q).set(S,{wakeTime:z,minutes:V})),"Notification"in window&&Notification.permission==="granted"&&new Notification("Alarm Snoozed",{body:`Will ring again in ${V} minutes at ${z.toTimeString().slice(0,5)}`,icon:"/Todo-App/vite.svg"})},C=async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},_=S=>{n({...S,id:Date.now().toString(),enabled:!0,createdAt:new Date().toISOString()}),u(!1)},D=S=>{const V=s.find(z=>z.id===S);V&&l(S,{...V,enabled:!V.enabled})},U=S=>{window.confirm("Are you sure you want to delete this alarm?")&&(i(S),A(S))},y=S=>{const[V,z]=S.split(":"),q=parseInt(V),Q=q>=12?"PM":"AM";return`${q===0?12:q>12?q-12:q}:${z} ${Q}`},v=()=>g.length===0?null:t.jsx(Me,{children:g.map(S=>{const V=s.find(z=>z.id===S);return V?t.jsx(m4,{alarm:V,onDismiss:A,onSnooze:H,formatTime:y},S):null})}),L=S=>{R.current.playTestSound(S,3e3)};return t.jsxs("div",{className:"alarm-manager",children:[v(),t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Alarms & Timers"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 mb-4",children:[t.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>b("list"),className:`px-3 py-1.5 rounded text-sm transition-colors ${f==="list"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Alarms"}),t.jsx("button",{onClick:()=>b("digital"),className:`px-3 py-1.5 rounded text-sm transition-colors ${f==="digital"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Timer"}),t.jsx("button",{onClick:()=>b("pomodoro"),className:`px-3 py-1.5 rounded text-sm transition-colors ${f==="pomodoro"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Focus"})]}),f==="list"&&t.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Add Alarm"})]})]}),t.jsxs("div",{className:"flex flex-col items-center gap-3 mb-4",children:[t.jsx("button",{onClick:C,className:"text-sm text-blue-600 hover:text-blue-700",children:"Enable notifications for better alarm experience"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 w-full max-w-2xl",children:[t.jsx("h3",{className:"text-sm font-semibold mb-3 text-center",children:"Alarm Settings"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium mb-2",children:"Sound Type"}),t.jsx("select",{value:O.soundType,onChange:S=>T(V=>({...V,soundType:S.target.value})),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:R.current.getSoundTypes().map(S=>t.jsx("option",{value:S,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),t.jsx("button",{onClick:()=>L(O.soundType),className:"mt-1 w-full text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 py-1 px-2 rounded transition-colors",children:"Test Sound"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium mb-2",children:["Volume: ",Math.round(O.volume*100),"%"]}),t.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:O.volume,onChange:S=>{const V=parseFloat(S.target.value);T(z=>({...z,volume:V})),R.current.setVolume(V)},className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[t.jsx("input",{type:"checkbox",checked:O.vibrationEnabled,onChange:S=>T(V=>({...V,vibrationEnabled:S.target.checked})),className:"rounded"}),t.jsx("span",{children:"Vibration"})]}),t.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[t.jsx("input",{type:"checkbox",checked:O.snoozeEnabled,onChange:S=>T(V=>({...V,snoozeEnabled:S.target.checked})),className:"rounded"}),t.jsx("span",{children:"Snooze Option"})]})]})]})]})]})]}),t.jsx(Me,{children:c&&t.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:t.jsx(d4,{onSave:_,onCancel:()=>u(!1)})})}),f==="digital"&&t.jsx(u4,{currentTime:h}),f==="pomodoro"&&t.jsx(h4,{}),f==="list"&&t.jsx("div",{className:"space-y-4",children:s.length>0?s.map(S=>t.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"text-2xl font-mono font-bold",children:y(S.time)}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:S.label||"Alarm"}),S.message&&t.jsx("div",{className:"text-sm text-gray-500",children:S.message}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Repeat: ",S.repeat,S.repeat==="custom"&&S.customDays&&t.jsxs("span",{children:[" (",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].filter((V,z)=>S.customDays.includes(z)).join(", "),")"]})]}),j.has(S.id)&&t.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1 flex items-center gap-1",children:[t.jsx("span",{children:"😴"}),t.jsxs("span",{children:["Snoozed until ",j.get(S.id).wakeTime.toTimeString().slice(0,5)]})]}),g.includes(S.id)&&t.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1 flex items-center gap-1",children:[t.jsx("span",{children:"🔥"}),t.jsx("span",{children:"Currently ringing!"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>D(S.id),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${S.enabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,children:t.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${S.enabled?"translate-x-5":"translate-x-0"}`})}),t.jsx("button",{onClick:()=>U(S.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},S.id)):t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("div",{className:"text-6xl mb-4",children:"⏰"}),t.jsx("p",{className:"text-lg text-gray-500 mb-4",children:"No alarms set"}),t.jsx("button",{onClick:()=>u(!0),className:"text-blue-600 hover:text-blue-700",children:"Create your first alarm"})]})})]})};var Hl={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var x4=Hl.exports,jp;function y4(){return jp||(jp=1,(function(s,n){((l,i)=>{s.exports=i()})(x4,function l(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},c,u=!i.document&&!!i.postMessage,h=i.IS_PAPA_WORKER||!1,p={},g=0,x={};function f(y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(v){var L=_(v);L.chunkSize=parseInt(L.chunkSize),v.step||v.chunk||(L.chunkSize=null),this._handle=new T(L),(this._handle.streamer=this)._config=L}).call(this,y),this.parseChunk=function(v,L){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let z=this._config.newline;z||(V=this._config.quoteChar||'"',z=this._handle.guessLineEndings(v,V)),v=[...v.split(z).slice(S)].join(z)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&(V=this._config.beforeFirstChunk(v))!==void 0&&(v=V),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+v,V=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(v=V.meta.cursor,S=(this._finished||(this._partialLine=S.substring(v-this._baseIndex),this._baseIndex=v),V&&V.data&&(this._rowCount+=V.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),h)i.postMessage({results:V,workerId:x.WORKER_ID,finished:S});else if(U(this._config.chunk)&&!L){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=V=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),this._completed||!S||!U(this._config.complete)||V&&V.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||V&&V.meta.paused||this._nextChunk(),V}this._halted=!0},this._sendError=function(v){U(this._config.error)?this._config.error(v):h&&this._config.error&&i.postMessage({workerId:x.WORKER_ID,error:v,finished:!1})}}function b(y){var v;(y=y||{}).chunkSize||(y.chunkSize=x.RemoteChunkSize),f.call(this,y),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),u||(v.onload=D(this._chunkLoaded,this),v.onerror=D(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var L,S=this._config.downloadRequestHeaders;for(L in S)v.setRequestHeader(L,S[L])}var V;this._config.chunkSize&&(V=this._start+this._config.chunkSize-1,v.setRequestHeader("Range","bytes="+this._start+"-"+V));try{v.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}u&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize||v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(v),this.parseChunk(v.responseText)))},this._chunkError=function(L){L=v.statusText||L,this._sendError(new Error(L))}}function j(y){(y=y||{}).chunkSize||(y.chunkSize=x.LocalChunkSize),f.call(this,y);var v,L,S=typeof FileReader<"u";this.stream=function(V){this._input=V,L=V.slice||V.webkitSlice||V.mozSlice,S?((v=new FileReader).onload=D(this._chunkLoaded,this),v.onerror=D(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input,z=(this._config.chunkSize&&(z=Math.min(this._start+this._config.chunkSize,this._input.size),V=L.call(V,this._start,z)),v.readAsText(V,this._config.encoding));S||this._chunkLoaded({target:{result:z}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(v.error)}}function M(y){var v;f.call(this,y=y||{}),this.stream=function(L){return v=L,this._nextChunk()},this._nextChunk=function(){var L,S;if(!this._finished)return L=this._config.chunkSize,v=L?(S=v.substring(0,L),v.substring(L)):(S=v,""),this._finished=!v,this.parseChunk(S)}}function O(y){f.call(this,y=y||{});var v=[],L=!0,S=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):L=!0},this._streamData=D(function(V){try{v.push(typeof V=="string"?V:V.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(z){this._streamError(z)}},this),this._streamError=D(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=D(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(y){var v,L,S,V,z=Math.pow(2,53),q=-z,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,P=this,ee=0,ae=0,I=!1,W=!1,re=[],te={data:[],errors:[],meta:{}};function oe(he){return y.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function le(){if(te&&S&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),S=!1),y.skipEmptyLines&&(te.data=te.data.filter(function(Be){return!oe(Be)})),ce()){let Be=function(Je,_e){U(y.transformHeader)&&(Je=y.transformHeader(Je,_e)),re.push(Je)};var ye=Be;if(te)if(Array.isArray(te.data[0])){for(var he=0;ce()&&he<te.data.length;he++)te.data[he].forEach(Be);te.data.splice(0,1)}else te.data.forEach(Be)}function ve(Be,Je){for(var _e=y.header?{}:[],De=0;De<Be.length;De++){var je=De,Pe=Be[De],Pe=((Te,Ie)=>(et=>(y.dynamicTypingFunction&&y.dynamicTyping[et]===void 0&&(y.dynamicTyping[et]=y.dynamicTypingFunction(et)),(y.dynamicTyping[et]||y.dynamicTyping)===!0))(Te)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((et=>{if(Q.test(et)&&(et=parseFloat(et),q<et&&et<z))return 1})(Ie)?parseFloat(Ie):B.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(je=y.header?De>=re.length?"__parsed_extra":re[De]:je,Pe=y.transform?y.transform(Pe,je):Pe);je==="__parsed_extra"?(_e[je]=_e[je]||[],_e[je].push(Pe)):_e[je]=Pe}return y.header&&(De>re.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+re.length+" fields but parsed "+De,ae+Je):De<re.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+re.length+" fields but parsed "+De,ae+Je)),_e}var $e;te&&(y.header||y.dynamicTyping||y.transform)&&($e=1,!te.data.length||Array.isArray(te.data[0])?(te.data=te.data.map(ve),$e=te.data.length):te.data=ve(te.data,0),y.header&&te.meta&&(te.meta.fields=re),ae+=$e)}function ce(){return y.header&&re.length===0}function Re(he,ve,$e,ye){he={type:he,code:ve,message:$e},ye!==void 0&&(he.row=ye),te.errors.push(he)}U(y.step)&&(V=y.step,y.step=function(he){te=he,ce()?le():(le(),te.data.length!==0&&(ee+=he.data.length,y.preview&&ee>y.preview?L.abort():(te.data=te.data[0],V(te,P))))}),this.parse=function(he,ve,$e){var ye=y.quoteChar||'"',ye=(y.newline||(y.newline=this.guessLineEndings(he,ye)),S=!1,y.delimiter?U(y.delimiter)&&(y.delimiter=y.delimiter(he),te.meta.delimiter=y.delimiter):((ye=((Be,Je,_e,De,je)=>{var Pe,Te,Ie,et;je=je||[",","	","|",";",x.RECORD_SEP,x.UNIT_SEP];for(var na=0;na<je.length;na++){for(var qt,Pa=je[na],ht=0,$t=0,Ge=0,ze=(Ie=void 0,new N({comments:De,delimiter:Pa,newline:Je,preview:10}).parse(Be)),mt=0;mt<ze.data.length;mt++)_e&&oe(ze.data[mt])?Ge++:(qt=ze.data[mt].length,$t+=qt,Ie===void 0?Ie=qt:0<qt&&(ht+=Math.abs(qt-Ie),Ie=qt));0<ze.data.length&&($t/=ze.data.length-Ge),(Te===void 0||ht<=Te)&&(et===void 0||et<$t)&&1.99<$t&&(Te=ht,Pe=Pa,et=$t)}return{successful:!!(y.delimiter=Pe),bestDelimiter:Pe}})(he,y.newline,y.skipEmptyLines,y.comments,y.delimitersToGuess)).successful?y.delimiter=ye.bestDelimiter:(S=!0,y.delimiter=x.DefaultDelimiter),te.meta.delimiter=y.delimiter),_(y));return y.preview&&y.header&&ye.preview++,v=he,L=new N(ye),te=L.parse(v,ve,$e),le(),I?{meta:{paused:!0}}:te||{meta:{paused:!1}}},this.paused=function(){return I},this.pause=function(){I=!0,L.abort(),v=U(y.chunk)?"":v.substring(L.getCharIndex())},this.resume=function(){P.streamer._halted?(I=!1,P.streamer.parseChunk(v,!0)):setTimeout(P.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,L.abort(),te.meta.aborted=!0,U(y.complete)&&y.complete(te),v=""},this.guessLineEndings=function(Be,ye){Be=Be.substring(0,1048576);var ye=new RegExp(R(ye)+"([^]*?)"+R(ye),"gm"),$e=(Be=Be.replace(ye,"")).split("\r"),ye=Be.split(`
`),Be=1<ye.length&&ye[0].length<$e[0].length;if($e.length===1||Be)return`
`;for(var Je=0,_e=0;_e<$e.length;_e++)$e[_e][0]===`
`&&Je++;return Je>=$e.length/2?`\r
`:"\r"}}function R(y){return y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(y){var v=(y=y||{}).delimiter,L=y.newline,S=y.comments,V=y.step,z=y.preview,q=y.fastMode,Q=null,B=!1,P=y.quoteChar==null?'"':y.quoteChar,ee=P;if(y.escapeChar!==void 0&&(ee=y.escapeChar),(typeof v!="string"||-1<x.BAD_DELIMITERS.indexOf(v))&&(v=","),S===v)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<x.BAD_DELIMITERS.indexOf(S))&&(S=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var ae=0,I=!1;this.parse=function(W,re,te){if(typeof W!="string")throw new Error("Input must be a string");var oe=W.length,le=v.length,ce=L.length,Re=S.length,he=U(V),ve=[],$e=[],ye=[],Be=ae=0;if(!W)return ht();if(q||q!==!1&&W.indexOf(P)===-1){for(var Je=W.split(L),_e=0;_e<Je.length;_e++){if(ye=Je[_e],ae+=ye.length,_e!==Je.length-1)ae+=L.length;else if(te)return ht();if(!S||ye.substring(0,Re)!==S){if(he){if(ve=[],et(ye.split(v)),$t(),I)return ht()}else et(ye.split(v));if(z&&z<=_e)return ve=ve.slice(0,z),ht(!0)}}return ht()}for(var De=W.indexOf(v,ae),je=W.indexOf(L,ae),Pe=new RegExp(R(ee)+R(P),"g"),Te=W.indexOf(P,ae);;)if(W[ae]===P)for(Te=ae,ae++;;){if((Te=W.indexOf(P,Te+1))===-1)return te||$e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ve.length,index:ae}),qt();if(Te===oe-1)return qt(W.substring(ae,Te).replace(Pe,P));if(P===ee&&W[Te+1]===ee)Te++;else if(P===ee||Te===0||W[Te-1]!==ee){De!==-1&&De<Te+1&&(De=W.indexOf(v,Te+1));var Ie=na((je=je!==-1&&je<Te+1?W.indexOf(L,Te+1):je)===-1?De:Math.min(De,je));if(W.substr(Te+1+Ie,le)===v){ye.push(W.substring(ae,Te).replace(Pe,P)),W[ae=Te+1+Ie+le]!==P&&(Te=W.indexOf(P,ae)),De=W.indexOf(v,ae),je=W.indexOf(L,ae);break}if(Ie=na(je),W.substring(Te+1+Ie,Te+1+Ie+ce)===L){if(ye.push(W.substring(ae,Te).replace(Pe,P)),Pa(Te+1+Ie+ce),De=W.indexOf(v,ae),Te=W.indexOf(P,ae),he&&($t(),I))return ht();if(z&&ve.length>=z)return ht(!0);break}$e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ve.length,index:ae}),Te++}}else if(S&&ye.length===0&&W.substring(ae,ae+Re)===S){if(je===-1)return ht();ae=je+ce,je=W.indexOf(L,ae),De=W.indexOf(v,ae)}else if(De!==-1&&(De<je||je===-1))ye.push(W.substring(ae,De)),ae=De+le,De=W.indexOf(v,ae);else{if(je===-1)break;if(ye.push(W.substring(ae,je)),Pa(je+ce),he&&($t(),I))return ht();if(z&&ve.length>=z)return ht(!0)}return qt();function et(Ge){ve.push(Ge),Be=ae}function na(Ge){var ze=0;return ze=Ge!==-1&&(Ge=W.substring(Te+1,Ge))&&Ge.trim()===""?Ge.length:ze}function qt(Ge){return te||(Ge===void 0&&(Ge=W.substring(ae)),ye.push(Ge),ae=oe,et(ye),he&&$t()),ht()}function Pa(Ge){ae=Ge,et(ye),ye=[],je=W.indexOf(L,ae)}function ht(Ge){if(y.header&&!re&&ve.length&&!B){var ze=ve[0],mt=Object.create(null),bt=new Set(ze);let hi=!1;for(let Ia=0;Ia<ze.length;Ia++){let Ft=ze[Ia];if(mt[Ft=U(y.transformHeader)?y.transformHeader(Ft,Ia):Ft]){let ca,xs=mt[Ft];for(;ca=Ft+"_"+xs,xs++,bt.has(ca););bt.add(ca),ze[Ia]=ca,mt[Ft]++,hi=!0,(Q=Q===null?{}:Q)[ca]=Ft}else mt[Ft]=1,ze[Ia]=Ft;bt.add(Ft)}hi&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:ve,errors:$e,meta:{delimiter:v,linebreak:L,aborted:I,truncated:!!Ge,cursor:Be+(re||0),renamedHeaders:Q}}}function $t(){V(ht()),ve=[],$e=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return ae}}function A(y){var v=y.data,L=p[v.workerId],S=!1;if(v.error)L.userError(v.error,v.file);else if(v.results&&v.results.data){var V={abort:function(){S=!0,H(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(U(L.userStep)){for(var z=0;z<v.results.data.length&&(L.userStep({data:v.results.data[z],errors:v.results.errors,meta:v.results.meta},V),!S);z++);delete v.results}else U(L.userChunk)&&(L.userChunk(v.results,V,v.file),delete v.results)}v.finished&&!S&&H(v.workerId,v.results)}function H(y,v){var L=p[y];U(L.userComplete)&&L.userComplete(v),L.terminate(),delete p[y]}function C(){throw new Error("Not implemented.")}function _(y){if(typeof y!="object"||y===null)return y;var v,L=Array.isArray(y)?[]:{};for(v in y)L[v]=_(y[v]);return L}function D(y,v){return function(){y.apply(v,arguments)}}function U(y){return typeof y=="function"}return x.parse=function(y,v){var L=(v=v||{}).dynamicTyping||!1;if(U(L)&&(v.dynamicTypingFunction=L,L={}),v.dynamicTyping=L,v.transform=!!U(v.transform)&&v.transform,!v.worker||!x.WORKERS_SUPPORTED)return L=null,x.NODE_STREAM_INPUT,typeof y=="string"?(y=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(y),L=new(v.download?b:M)(v)):y.readable===!0&&U(y.read)&&U(y.on)?L=new O(v):(i.File&&y instanceof File||y instanceof Object)&&(L=new j(v)),L.stream(y);(L=(()=>{var S;return!!x.WORKERS_SUPPORTED&&(S=(()=>{var V=i.URL||i.webkitURL||null,z=l.toString();return x.BLOB_URL||(x.BLOB_URL=V.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",z,")();"],{type:"text/javascript"})))})(),(S=new i.Worker(S)).onmessage=A,S.id=g++,p[S.id]=S)})()).userStep=v.step,L.userChunk=v.chunk,L.userComplete=v.complete,L.userError=v.error,v.step=U(v.step),v.chunk=U(v.chunk),v.complete=U(v.complete),v.error=U(v.error),delete v.worker,L.postMessage({input:y,config:v,workerId:L.id})},x.unparse=function(y,v){var L=!1,S=!0,V=",",z=`\r
`,q='"',Q=q+q,B=!1,P=null,ee=!1,ae=((()=>{if(typeof v=="object"){if(typeof v.delimiter!="string"||x.BAD_DELIMITERS.filter(function(re){return v.delimiter.indexOf(re)!==-1}).length||(V=v.delimiter),typeof v.quotes!="boolean"&&typeof v.quotes!="function"&&!Array.isArray(v.quotes)||(L=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(B=v.skipEmptyLines),typeof v.newline=="string"&&(z=v.newline),typeof v.quoteChar=="string"&&(q=v.quoteChar),typeof v.header=="boolean"&&(S=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");P=v.columns}v.escapeChar!==void 0&&(Q=v.escapeChar+q),v.escapeFormulae instanceof RegExp?ee=v.escapeFormulae:typeof v.escapeFormulae=="boolean"&&v.escapeFormulae&&(ee=/^[=+\-@\t\r].*$/)}})(),new RegExp(R(q),"g"));if(typeof y=="string"&&(y=JSON.parse(y)),Array.isArray(y)){if(!y.length||Array.isArray(y[0]))return I(null,y,B);if(typeof y[0]=="object")return I(P||Object.keys(y[0]),y,B)}else if(typeof y=="object")return typeof y.data=="string"&&(y.data=JSON.parse(y.data)),Array.isArray(y.data)&&(y.fields||(y.fields=y.meta&&y.meta.fields||P),y.fields||(y.fields=Array.isArray(y.data[0])?y.fields:typeof y.data[0]=="object"?Object.keys(y.data[0]):[]),Array.isArray(y.data[0])||typeof y.data[0]=="object"||(y.data=[y.data])),I(y.fields||[],y.data||[],B);throw new Error("Unable to serialize unrecognized input");function I(re,te,oe){var le="",ce=(typeof re=="string"&&(re=JSON.parse(re)),typeof te=="string"&&(te=JSON.parse(te)),Array.isArray(re)&&0<re.length),Re=!Array.isArray(te[0]);if(ce&&S){for(var he=0;he<re.length;he++)0<he&&(le+=V),le+=W(re[he],he);0<te.length&&(le+=z)}for(var ve=0;ve<te.length;ve++){var $e=(ce?re:te[ve]).length,ye=!1,Be=ce?Object.keys(te[ve]).length===0:te[ve].length===0;if(oe&&!ce&&(ye=oe==="greedy"?te[ve].join("").trim()==="":te[ve].length===1&&te[ve][0].length===0),oe==="greedy"&&ce){for(var Je=[],_e=0;_e<$e;_e++){var De=Re?re[_e]:_e;Je.push(te[ve][De])}ye=Je.join("").trim()===""}if(!ye){for(var je=0;je<$e;je++){0<je&&!Be&&(le+=V);var Pe=ce&&Re?re[je]:je;le+=W(te[ve][Pe],je)}ve<te.length-1&&(!oe||0<$e&&!Be)&&(le+=z)}}return le}function W(re,te){var oe,le;return re==null?"":re.constructor===Date?JSON.stringify(re).slice(1,25):(le=!1,ee&&typeof re=="string"&&ee.test(re)&&(re="'"+re,le=!0),oe=re.toString().replace(ae,Q),(le=le||L===!0||typeof L=="function"&&L(re,te)||Array.isArray(L)&&L[te]||((ce,Re)=>{for(var he=0;he<Re.length;he++)if(-1<ce.indexOf(Re[he]))return!0;return!1})(oe,x.BAD_DELIMITERS)||-1<oe.indexOf(V)||oe.charAt(0)===" "||oe.charAt(oe.length-1)===" ")?q+oe+q:oe)}},x.RECORD_SEP="",x.UNIT_SEP="",x.BYTE_ORDER_MARK="\uFEFF",x.BAD_DELIMITERS=["\r",`
`,'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!u&&!!i.Worker,x.NODE_STREAM_INPUT=1,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=N,x.ParserHandle=T,x.NetworkStreamer=b,x.FileStreamer=j,x.StringStreamer=M,x.ReadableStreamStreamer=O,i.jQuery&&((c=i.jQuery).fn.parse=function(y){var v=y.config||{},L=[];return this.each(function(z){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)L.push({file:this.files[q],inputElem:this,instanceConfig:c.extend({},v)})}),S(),this;function S(){if(L.length===0)U(y.complete)&&y.complete();else{var z,q,Q,B,P=L[0];if(U(y.before)){var ee=y.before(P.file,P.inputElem);if(typeof ee=="object"){if(ee.action==="abort")return z="AbortError",q=P.file,Q=P.inputElem,B=ee.reason,void(U(y.error)&&y.error({name:z},q,Q,B));if(ee.action==="skip")return void V();typeof ee.config=="object"&&(P.instanceConfig=c.extend(P.instanceConfig,ee.config))}else if(ee==="skip")return void V()}var ae=P.instanceConfig.complete;P.instanceConfig.complete=function(I){U(ae)&&ae(I,P.file,P.inputElem),V()},x.parse(P.file,P.instanceConfig)}}function V(){L.splice(0,1),S()}}),h&&(i.onmessage=function(y){y=y.data,x.WORKER_ID===void 0&&y&&(x.WORKER_ID=y.workerId),typeof y.input=="string"?i.postMessage({workerId:x.WORKER_ID,results:x.parse(y.input,y.config),finished:!0}):(i.File&&y.input instanceof File||y.input instanceof Object)&&(y=x.parse(y.input,y.config))&&i.postMessage({workerId:x.WORKER_ID,results:y,finished:!0})}),(b.prototype=Object.create(f.prototype)).constructor=b,(j.prototype=Object.create(f.prototype)).constructor=j,(M.prototype=Object.create(M.prototype)).constructor=M,(O.prototype=Object.create(f.prototype)).constructor=O,x})})(Hl)),Hl.exports}var b4=y4();const v4=kp(b4);class j4{constructor(){this.movies=[],this.isLoaded=!1,this.loadingPromise=null,this.csvPath="/imdb_top_1000.csv",this.recommendationMessages=["Our AI picked these just for you","Based on your mood","Specially curated recommendations","Handpicked by our algorithm","Perfect matches for you","Discovered these gems","You might enjoy these"],this.moodGenreMap={happy:["Comedy","Animation","Musical","Family"],sad:["Drama","Romance","Biography"],excited:["Action","Adventure","Thriller","Sci-Fi"],relaxed:["Comedy","Romance","Family","Animation"],scared:["Horror","Thriller","Mystery"],thoughtful:["Drama","Documentary","Biography","History"],romantic:["Romance","Drama"],adventurous:["Adventure","Action","Fantasy"]}}async loadMoviesData(){return this.isLoaded?this.movies:this.loadingPromise?this.loadingPromise:(this.loadingPromise=new Promise(async(n,l)=>{try{const c=await(await fetch(this.csvPath)).text();v4.parse(c,{header:!0,complete:u=>{this.movies=u.data.filter(h=>h.Series_Title).map((h,p)=>this.transformMovieData(h,p)),this.isLoaded=!0,n(this.movies)},error:u=>{console.error("CSV parsing error:",u),l(u)}})}catch(i){console.error("Error loading movie data:",i),this.loadingPromise=null,l(i)}}),this.loadingPromise)}transformMovieData(n,l){return{id:`movie-${l}`,title:n.Series_Title||"Unknown",year:parseInt(n.Released_Year)||2e3,runtime:n.Runtime||"N/A",genres:n.Genre?n.Genre.split(",").map(i=>i.trim()):[],rating:parseFloat(n.IMDB_Rating)||0,overview:n.Overview||"No description available",poster:n.Poster_Link||"https://via.placeholder.com/300x450?text=No+Poster"}}getRandomMessage(){return this.recommendationMessages[Math.floor(Math.random()*this.recommendationMessages.length)]}async getRecommendations(n={}){await this.loadMoviesData();let l=[...this.movies];const{genre:i,year:c,language:u,limit:h=6,offset:p=0}=n;if(i&&i!==""&&(l=l.filter(f=>f.genres.some(b=>b.toLowerCase().includes(i.toLowerCase())))),c){const f=parseInt(c);if(!isNaN(f)){const b=Math.floor(f/10)*10,j=b+9;l=l.filter(M=>M.year>=b&&M.year<=j)}}if(u){const f=u.charCodeAt(0)+(p||0);l=this.shuffleArrayWithSeed(l,f)}else l=this.shuffleArray(l);l.sort((f,b)=>b.rating-f.rating);const g=Math.min(p,l.length),x=Math.min(g+h,l.length);return{success:!0,movies:l.slice(g,x),message:this.getRandomMessage(),totalResults:l.length}}shuffleArrayWithSeed(n,l){const i=[...n];let c=l;const u=()=>{const h=Math.sin(c++)*1e4;return h-Math.floor(h)};for(let h=i.length-1;h>0;h--){const p=Math.floor(u()*(h+1));[i[h],i[p]]=[i[p],i[h]]}return i}shuffleArray(n){const l=[...n];for(let i=l.length-1;i>0;i--){const c=Math.floor(Math.random()*(i+1));[l[i],l[c]]=[l[c],l[i]]}return l}async getTrending(){return await this.loadMoviesData(),{success:!0,movies:this.movies.filter(l=>l.year>=2010).sort((l,i)=>i.rating-l.rating).slice(0,12),message:"Trending movies everyone's watching"}}async saveFavorite(n){try{const l=JSON.parse(localStorage.getItem("movieFavorites")||"[]"),i={movieName:n.title,date:new Date().toISOString().split("T")[0],rating:n.rating,year:n.year};return l.some(u=>u.movieName===n.title)||(l.push(i),localStorage.setItem("movieFavorites",JSON.stringify(l)),window.googleSheetsService&&window.googleSheetsService.isInitialized&&await window.googleSheetsService.appendData("MovieFavorites",[[i.date,i.movieName,i.year,i.rating]])),{success:!0,message:"Added to favorites!"}}catch(l){return console.error("Error saving favorite:",l),{success:!1,message:"Failed to save favorite"}}}async removeFavorite(n){try{const i=JSON.parse(localStorage.getItem("movieFavorites")||"[]").filter(c=>c.movieName!==n);return localStorage.setItem("movieFavorites",JSON.stringify(i)),{success:!0}}catch(l){return console.error("Error removing favorite:",l),{success:!1}}}isFavorited(n){return JSON.parse(localStorage.getItem("movieFavorites")||"[]").some(i=>i.movieName===n)}getFavorites(){return JSON.parse(localStorage.getItem("movieFavorites")||"[]")}}const Ml=new j4,w4=()=>{const[s,n]=k.useState([]),[l,i]=k.useState(!1),[c,u]=k.useState(!1),[h,p]=k.useState({genre:"",year:"",language:""}),[g,x]=k.useState(""),[f,b]=k.useState([]),[j,M]=k.useState(0),O=[{value:"",label:"Select Language"},{value:"english",label:"English"},{value:"hindi",label:"Hindi"},{value:"spanish",label:"Spanish"},{value:"french",label:"French"},{value:"korean",label:"Korean"},{value:"japanese",label:"Japanese"},{value:"chinese",label:"Chinese"},{value:"german",label:"German"},{value:"italian",label:"Italian"},{value:"other",label:"Other"}],T=[{value:"",label:"Select Genre"},{value:"action",label:"Action"},{value:"comedy",label:"Comedy"},{value:"drama",label:"Drama"},{value:"horror",label:"Horror"},{value:"romance",label:"Romance"},{value:"sci-fi",label:"Sci-Fi"},{value:"thriller",label:"Thriller"},{value:"animation",label:"Animation"},{value:"adventure",label:"Adventure"},{value:"fantasy",label:"Fantasy"},{value:"mystery",label:"Mystery"},{value:"documentary",label:"Documentary"}],R=[{value:"",label:"Select Year Range"},{value:"2020",label:"2020s"},{value:"2010",label:"2010s"},{value:"2000",label:"2000s"},{value:"1990",label:"1990s"},{value:"1980",label:"1980s"},{value:"1970",label:"1970s"}];k.useEffect(()=>{H()},[]);const N=async()=>{if(!h.genre||!h.year||!h.language){alert("Please select all filters: Genre, Year Range, and Language");return}i(!0),u(!0),await new Promise(y=>setTimeout(y,2e3));try{const y=await Ml.getRecommendations({...h,limit:6,offset:j*6});y.success&&(n(y.movies.slice(0,6)),x("We've curated these recommendations specially for you"),M(v=>v+1))}catch(y){console.error("Error loading recommendations:",y),x("Unable to load recommendations")}i(!1)},A=async()=>{await N()},H=()=>{const y=Ml.getFavorites();b(y.map(v=>v.movieName))},C=async y=>{f.includes(y.title)?(await Ml.removeFavorite(y.title),b(L=>L.filter(S=>S!==y.title))):(await Ml.saveFavorite(y),b(L=>[...L,y.title]))},_=y=>{p(v=>({...v,genre:y}))},D=y=>{p(v=>({...v,year:y}))},U=y=>{p(v=>({...v,language:y}))};return t.jsxs("div",{className:"movie-recommendations",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"🎬 Movie Recommendations"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c?g:"Select your preferences and we'll curate the perfect movies for you"})]}),t.jsxs("div",{className:"mb-8 p-6 ultra-card",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Your Preferences"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Genre *"}),t.jsx("select",{value:h.genre,onChange:y=>_(y.target.value),className:"w-full px-4 py-2 input-ultra",children:T.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Year Range *"}),t.jsx("select",{value:h.year,onChange:y=>D(y.target.value),className:"w-full px-4 py-2 input-ultra",children:R.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Language *"}),t.jsx("select",{value:h.language,onChange:y=>U(y.target.value),className:"w-full px-4 py-2 input-ultra",children:O.map(y=>t.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),t.jsx("div",{className:"mt-6 flex justify-center",children:t.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,disabled:l,className:"btn-ultra px-8 py-3 flex items-center gap-2 disabled:opacity-50",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l?"Curating...":"Find Movies"]})})]}),l&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"🎬"})})]}),t.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-400 animate-pulse",children:"Curating the best recommendations for you..."}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Analyzing thousands of movies to find your perfect match"})]}),!l&&c&&s.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((y,v)=>t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},className:"ultra-card hover-ultra overflow-hidden group ultra-smooth transform transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer",children:[t.jsxs("div",{className:"relative aspect-[2/3] bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800",children:[t.jsx("img",{src:y.poster,alt:y.title,className:"w-full h-full object-cover movie-poster transition-all duration-300 group-hover:scale-105",loading:"lazy",onError:L=>{L.target.src=`https://via.placeholder.com/500x750/667eea/ffffff?text=${encodeURIComponent(y.title)}`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex flex-col items-center justify-end p-4",children:t.jsxs("div",{className:"w-full transform translate-y-10 group-hover:translate-y-0 transition-transform duration-300",children:[t.jsx("p",{className:"text-white text-xs mb-3 line-clamp-3",children:y.overview}),t.jsxs("button",{onClick:()=>C(y),className:"w-full py-2 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center gap-2 hover:bg-white/30 transition-all",children:[t.jsx("span",{className:`text-2xl ${f.includes(y.title)?"text-red-500":"text-white"}`,children:f.includes(y.title)?"❤️":"🤍"}),t.jsx("span",{className:"text-white text-sm font-medium",children:f.includes(y.title)?"Favorited":"Add to Favorites"})]})]})}),t.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 rounded-full font-bold text-sm ultra-smooth flex items-center gap-1 shadow-xl",children:[t.jsx("span",{className:"text-yellow-400 text-base",children:"⭐"}),t.jsx("span",{children:y.rating})]})]}),t.jsxs("div",{className:"p-4 bg-gradient-to-b from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:[t.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 text-ultra leading-tight hover:text-blue-600 transition-colors",children:y.title}),t.jsxs("div",{className:"flex items-center gap-2 text-xs mb-3",children:[t.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-blue-100 to-blue-50 dark:from-blue-900/30 dark:to-blue-800/20 text-blue-700 dark:text-blue-300 rounded-full font-medium",children:y.year}),t.jsx("span",{className:"px-2 py-1 bg-gradient-to-r from-green-100 to-green-50 dark:from-green-900/30 dark:to-green-800/20 text-green-700 dark:text-green-300 rounded-full font-medium",children:y.runtime})]}),y.genres&&y.genres.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.genres.slice(0,2).map((L,S)=>t.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-full",children:L.trim()},S))})]})]},y.id))}),!l&&c&&s.length>0&&t.jsxs("div",{className:"mt-8 text-center",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Not satisfied with these recommendations?"}),t.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:A,className:"btn-ultra px-6 py-2 flex items-center gap-2 mx-auto",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Search Again"]})]}),!l&&c&&s.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:"😔"}),t.jsx("p",{className:"text-lg text-gray-500",children:"No movies found matching your criteria."}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Try adjusting your filters and search again."})]}),!l&&!c&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4 opacity-50",children:"🎞️"}),t.jsx("p",{className:"text-lg text-gray-500",children:"Select your preferences above to discover amazing movies"}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Choose Genre, Year Range, and Language to get started"})]}),c&&f.length>0&&t.jsx("div",{className:"mt-8 p-4 ultra-card",children:t.jsxs("p",{className:"text-sm text-ultra",children:["❤️ You have ",f.length," favorite movie",f.length>1?"s":""," saved"]})})]})},k4=({reminder:s,onSave:n,onCancel:l})=>{const[i,c]=k.useState({name:"",phone:"",date:new Date().toISOString().split("T")[0],time:"",priority:"medium",recurring:"none",notes:"",category:"personal",email:"",company:"",reminderBefore:15,tags:[]}),[u,h]=k.useState(""),p=[{value:"high",label:"High",color:"text-red-600"},{value:"medium",label:"Medium",color:"text-yellow-600"},{value:"low",label:"Low",color:"text-green-600"}],g=[{value:"none",label:"No Repeat"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"biweekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"yearly",label:"Yearly"}],x=[{value:"personal",label:"Personal",icon:"👤"},{value:"work",label:"Work",icon:"💼"},{value:"family",label:"Family",icon:"👨‍👩‍👧‍👦"},{value:"medical",label:"Medical",icon:"🏥"},{value:"business",label:"Business",icon:"🏢"},{value:"other",label:"Other",icon:"📞"}],f=[{value:0,label:"At time of call"},{value:5,label:"5 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"},{value:1440,label:"1 day before"}];k.useEffect(()=>{s&&c({...s,tags:s.tags||[]})},[s]);const b=T=>{if(T.preventDefault(),!i.name.trim()){alert("Please enter a name for the reminder");return}let R=i.time;if(i.time&&i.reminderBefore>0){const[N,A]=i.time.split(":").map(Number),H=new Date;H.setHours(N,A),H.setMinutes(H.getMinutes()-i.reminderBefore),R=H.toTimeString().slice(0,5)}n({...i,actualReminderTime:R})},j=()=>{u.trim()&&!i.tags.includes(u.trim())&&(c({...i,tags:[...i.tags,u.trim()]}),h(""))},M=T=>{c({...i,tags:i.tags.filter(R=>R!==T)})},O=T=>{const R=T.replace(/\D/g,"");if(R.length<=10){const N=R.match(/^(\d{0,3})(\d{0,3})(\d{0,4})$/);if(N)return N[2]?`(${N[1]}) ${N[3]?N[2]+"-"+N[3]:N[2]}`:N[1]}return T};return t.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Call Reminder":"New Call Reminder"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Name/Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.name,onChange:T=>c({...i,name:T.target.value}),className:"input-field",placeholder:"e.g., Call Mom, Client Meeting",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:i.phone,onChange:T=>c({...i,phone:O(T.target.value)}),className:"input-field",placeholder:"(555) 123-4567"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:i.date,onChange:T=>c({...i,date:T.target.value}),className:"input-field",min:new Date().toISOString().split("T")[0],required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Time"}),t.jsx("input",{type:"time",value:i.time,onChange:T=>c({...i,time:T.target.value}),className:"input-field"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),t.jsx("select",{value:i.category,onChange:T=>c({...i,category:T.target.value}),className:"input-field",children:x.map(T=>t.jsxs("option",{value:T.value,children:[T.icon," ",T.label]},T.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Priority"}),t.jsx("select",{value:i.priority,onChange:T=>c({...i,priority:T.target.value}),className:"input-field",children:p.map(T=>t.jsx("option",{value:T.value,children:T.label},T.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Remind Me"}),t.jsx("select",{value:i.reminderBefore,onChange:T=>c({...i,reminderBefore:parseInt(T.target.value)}),className:"input-field",children:f.map(T=>t.jsx("option",{value:T.value,children:T.label},T.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Repeat"}),t.jsx("select",{value:i.recurring,onChange:T=>c({...i,recurring:T.target.value}),className:"input-field",children:g.map(T=>t.jsx("option",{value:T.value,children:T.label},T.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Email ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"email",value:i.email,onChange:T=>c({...i,email:T.target.value}),className:"input-field",placeholder:"contact@example.com"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Company/Organization ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"text",value:i.company,onChange:T=>c({...i,company:T.target.value}),className:"input-field",placeholder:"Company name"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tags"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:u,onChange:T=>h(T.target.value),onKeyPress:T=>{T.key==="Enter"&&(T.preventDefault(),j())},className:"input-field flex-1",placeholder:"Add a tag..."}),t.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Add"})]}),i.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((T,R)=>t.jsxs("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 rounded-full text-sm flex items-center gap-1",children:[T,t.jsx("button",{type:"button",onClick:()=>M(T),className:"text-red-500 hover:text-red-700 ml-1",children:"×"})]},R))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Notes ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("textarea",{value:i.notes,onChange:T=>c({...i,notes:T.target.value}),className:"input-field",rows:"3",placeholder:"Additional notes or talking points..."})]}),i.priority==="high"&&t.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:t.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"⚠️ This is marked as a high priority reminder"})}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:s?"Update Reminder":"Create Reminder"}),t.jsx("button",{type:"button",onClick:l,className:"flex-1 btn-secondary",children:"Cancel"})]})]})},N4=({reminder:s,onEdit:n,onDelete:l,onComplete:i,onSnooze:c})=>{const[u,h]=k.useState(!1),p=T=>{switch(T){case"high":return"border-red-500 bg-red-50 dark:bg-red-900/20";case"low":return"border-green-500 bg-green-50 dark:bg-green-900/20";default:return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20"}},g=T=>({personal:"👤",work:"💼",family:"👨‍👩‍👧‍👦",medical:"🏥",business:"🏢",other:"📞"})[T]||"📞",x=T=>{if(!T)return"";const[R,N]=T.split(":"),A=parseInt(R),H=A>=12?"PM":"AM";return`${A===0?12:A>12?A-12:A}:${N} ${H}`},f=T=>{const R=new Date(T),N=new Date,A=new Date;return A.setDate(A.getDate()+1),T===N.toISOString().split("T")[0]?"Today":T===A.toISOString().split("T")[0]?"Tomorrow":R.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},b=()=>{if(s.completedDate)return!1;const T=new Date;return new Date(`${s.date} ${s.time||"00:00"}`)<T},j=()=>{const T=new Date,N=new Date(`${s.date} ${s.time||"00:00"}`)-T;if(N<0)return"Overdue";const A=Math.floor(N/(1e3*60*60)),H=Math.floor(N%(1e3*60*60)/(1e3*60));if(A>24){const C=Math.floor(A/24);return`in ${C} day${C!==1?"s":""}`}else return A>0?`in ${A}h ${H}m`:`in ${H} minutes`},M=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"1 hour",value:60},{label:"2 hours",value:120},{label:"Tomorrow",value:1440}],O=b();return t.jsx(Y.div,{whileHover:{scale:1.01},className:`rounded-lg shadow-sm border-2 overflow-hidden ${s.completedDate?"bg-gray-50 dark:bg-gray-900 border-gray-300 dark:border-gray-700 opacity-75":O?"bg-red-50 dark:bg-red-900/20 border-red-500":p(s.priority)}`,children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-2xl mt-1",children:g(s.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`font-semibold text-gray-900 dark:text-gray-100 ${s.completedDate?"line-through":""}`,children:s.name}),s.company&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.company}),t.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.phone&&t.jsxs("a",{href:`tel:${s.phone.replace(/\D/g,"")}`,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),s.phone]}),s.email&&t.jsxs("a",{href:`mailto:${s.email}`,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email"]})]})]})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.priority==="high"?"bg-red-200 text-red-800":s.priority==="low"?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:s.priority})]}),t.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("span",{className:O?"text-red-600 font-medium":"text-gray-600 dark:text-gray-400",children:f(s.date)})]}),s.time&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{className:O?"text-red-600 font-medium":"text-gray-600 dark:text-gray-400",children:x(s.time)})]}),!s.completedDate&&t.jsx("span",{className:`text-sm font-medium ${O?"text-red-600":"text-gray-500"}`,children:j()}),s.recurring!=="none"&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:["🔁 ",s.recurring]})]}),s.tags&&s.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.tags.map((T,R)=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:T},R))}),s.notes&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 p-3 bg-gray-50 dark:bg-gray-900 rounded",children:s.notes}),s.completedDate&&t.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Completed on ",new Date(s.completedDate).toLocaleDateString()]}),t.jsxs("div",{className:"flex gap-2",children:[!s.completedDate&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:i,className:"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm flex items-center justify-center gap-1",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Complete"]}),s.time&&t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>h(!u),className:"px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 text-sm",children:"Snooze"}),u&&t.jsx("div",{className:"absolute bottom-full mb-2 left-0 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:M.map(T=>t.jsx("button",{onClick:()=>{c(T.value),h(!1)},className:"block w-full px-4 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700",children:T.label},T.value))})]})]}),t.jsx("button",{onClick:n,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Edit"}),t.jsx("button",{onClick:l,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"Delete"})]})]})})},S4=()=>{const{callReminders:s,completedCallReminders:n,addCallReminder:l,updateCallReminder:i,deleteCallReminder:c,completeCallReminder:u}=Ke(),[h,p]=k.useState(!1),[g,x]=k.useState(null),[f,b]=k.useState("pending"),[j,M]=k.useState(""),O=k.useMemo(()=>{let D=[];return(f==="pending"||f==="all")&&(D=[...D,...s]),(f==="completed"||f==="all")&&(D=[...D,...n]),j&&(D=D.filter(U=>U.name.toLowerCase().includes(j.toLowerCase())||U.phone?.includes(j)||U.notes?.toLowerCase().includes(j.toLowerCase()))),D.sort((U,y)=>{if(!U.completedDate&&y.completedDate)return-1;if(U.completedDate&&!y.completedDate)return 1;const v={high:0,medium:1,low:2},L=(v[U.priority]||2)-(v[y.priority]||2);if(L!==0)return L;const S=new Date(`${U.date} ${U.time||"00:00"}`),V=new Date(`${y.date} ${y.time||"00:00"}`);return S-V})},[s,n,f,j]),T=k.useMemo(()=>{const D=new Date,U=new Date;U.setDate(U.getDate()+1);const y=D.toISOString().split("T")[0],v=U.toISOString().split("T")[0];return s.filter(L=>L.date===y||L.date===v)},[s]),R=k.useMemo(()=>{const D=new Date,U=D.toISOString().split("T")[0],y=D.getHours()*60+D.getMinutes();return s.filter(v=>{if(v.date<U)return!0;if(v.date===U&&v.time){const[L,S]=v.time.split(":").map(Number);return L*60+S<y}return!1})},[s]),N=async D=>{g?(await i(g.id,D),x(null)):await l(D),p(!1)},A=async D=>{window.confirm("Are you sure you want to delete this reminder?")&&await c(D)},H=async D=>{await u(D.id)},C=async(D,U=30)=>{if(!s.find(L=>L.id===D))return;const v=new Date;v.setMinutes(v.getMinutes()+U),await i(D,{date:v.toISOString().split("T")[0],time:v.toTimeString().slice(0,5),snoozedUntil:v.toISOString()})},_={total:s.length,overdue:R.length,today:T.filter(D=>D.date===new Date().toISOString().split("T")[0]).length,completed:n.length};return t.jsxs("div",{className:"call-reminders",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Call Reminders"}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"btn-primary flex items-center gap-2 px-4 py-2",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Add Reminder"})]})}),t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search by name, phone, or notes...",value:j,onChange:D=>M(D.target.value),className:"input-field"})}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsxs("button",{onClick:()=>b("pending"),className:`px-4 py-2 rounded-lg ${f==="pending"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:["Pending (",s.length,")"]}),t.jsxs("button",{onClick:()=>b("completed"),className:`px-4 py-2 rounded-lg ${f==="completed"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:["Completed (",n.length,")"]}),t.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg ${f==="all"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:"All"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Pending"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:_.total})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:`p-4 rounded-lg border ${_.overdue>0?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Overdue"}),t.jsx("p",{className:`text-2xl font-bold ${_.overdue>0?"text-red-600":"text-gray-900 dark:text-gray-100"}`,children:_.overdue})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Today"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:_.today})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.completed})]})]}),R.length>0&&f!=="completed"&&t.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),t.jsxs("span",{className:"font-medium text-red-800 dark:text-red-200",children:["You have ",R.length," overdue reminder",R.length!==1?"s":""]})]})})]}),t.jsx(Me,{children:h&&t.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:t.jsx(k4,{reminder:g,onSave:N,onCancel:()=>{p(!1),x(null)}})})}),t.jsx("div",{className:"space-y-4",children:t.jsx(Me,{children:O.length>0?O.map((D,U)=>t.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},transition:{delay:U*.05},children:t.jsx(N4,{reminder:D,onEdit:()=>{x(D),p(!0)},onDelete:()=>A(D.id),onComplete:()=>H(D),onSnooze:y=>C(D.id,y)})},D.id)):t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.jsx("p",{className:"text-lg text-gray-500",children:j?"No reminders found matching your search":"No call reminders yet"}),!j&&t.jsx("button",{onClick:()=>p(!0),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Create your first reminder"})]})})})]})},C4=({entry:s,date:n,onSave:l,onDelete:i})=>{const[c,u]=k.useState({content:"",mood:"",weather:"",gratitude:["","",""],goals:["","",""],tags:[],highlights:"",challenges:"",lessons:"",tomorrowFocus:""}),[h,p]=k.useState(""),[g,x]=k.useState(""),f=[{value:"amazing",icon:gS,label:"Amazing"},{value:"good",icon:pS,label:"Good"},{value:"okay",icon:xS,label:"Okay"},{value:"bad",icon:yS,label:"Bad"},{value:"terrible",icon:bS,label:"Terrible"}],b=[{value:"sunny",icon:wy,label:"Sunny"},{value:"cloudy",icon:xp,label:"Cloudy"},{value:"rainy",icon:yp,label:"Rainy"},{value:"snowy",icon:xp,label:"Snowy"},{value:"stormy",icon:yp,label:"Stormy"}],j=["What made you smile today?","What challenged you today?","What did you learn today?","How did you grow today?","What are you grateful for?","Describe your day in three words.","What would you do differently?","What moment do you want to remember?","How did you take care of yourself today?","What inspired you today?"];k.useEffect(()=>{s&&u({content:s.content||"",mood:s.mood||"",weather:s.weather||"",gratitude:s.gratitude||["","",""],goals:s.goals||["","",""],tags:s.tags||[],highlights:s.highlights||"",challenges:s.challenges||"",lessons:s.lessons||"",tomorrowFocus:s.tomorrowFocus||""})},[s]),k.useEffect(()=>{const C=setTimeout(()=>{(c.content||c.mood||c.gratitude.some(_=>_))&&M(!1)},2e3);return()=>clearTimeout(C)},[c]);const M=async(C=!0)=>{const _={...c,date:n,updatedAt:new Date().toISOString()};await l(_),C&&(x("Saved!"),setTimeout(()=>x(""),2e3))},O=(C,_)=>{const D=[...c.gratitude];D[C]=_,u({...c,gratitude:D})},T=(C,_)=>{const D=[...c.goals];D[C]=_,u({...c,goals:D})},R=()=>{h.trim()&&!c.tags.includes(h.trim())&&(u({...c,tags:[...c.tags,h.trim()]}),p(""))},N=C=>{u({...c,tags:c.tags.filter(_=>_!==C)})},A=()=>{const C=j[Math.floor(Math.random()*j.length)];u({...c,content:c.content+(c.content?`

`:"")+C+`
`})},H=()=>c.content?c.content.split(/\s+/).filter(C=>C.length>0).length:0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"How are you feeling today?"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:f.map(C=>t.jsxs("button",{onClick:()=>u({...c,mood:C.value}),className:`p-3 sm:p-4 rounded-lg border-2 transition-all flex flex-col items-center ${c.mood===C.value?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[t.jsx(C.icon,{className:"w-8 h-8 sm:w-12 sm:h-12 mb-1 sm:mb-2"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium",children:C.label})]},C.value))}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Today's Weather"}),t.jsx("div",{className:"flex gap-2",children:b.map(C=>t.jsx("button",{onClick:()=>u({...c,weather:C.value}),className:`p-2 rounded-lg border ${c.weather===C.value?"border-blue-500 bg-blue-50 dark:bg-blue-900":"border-gray-200 dark:border-gray-700"}`,title:C.label,children:t.jsx(C.icon,{className:"w-6 h-6"})},C.value))})]})]}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Today's Journal"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:[H()," words"]}),g&&t.jsx("span",{className:"text-sm text-green-600",children:g})]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("button",{onClick:A,className:"text-sm text-blue-600 hover:text-blue-700",children:"Need inspiration? Get a prompt →"}),t.jsx(Hn,{onResult:C=>u({...c,content:c.content+" "+C}),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full text-blue-500",title:"Voice Input"})]}),t.jsx("textarea",{value:c.content,onChange:C=>u({...c,content:C.target.value}),className:`w-full p-4 border border-gray-200 dark:border-gray-700 rounded-lg
                     bg-gray-50 dark:bg-gray-900 focus:outline-none focus:ring-2
                     focus:ring-blue-500 resize-none`,rows:"12",placeholder:"Start writing about your day..."})]}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("span",{className:"text-lg",children:"🙏"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Three Things I'm Grateful For"})]}),[0,1,2].map(C=>t.jsx("div",{className:"mb-3",children:t.jsx("input",{type:"text",value:c.gratitude[C],onChange:_=>O(C,_.target.value),className:"input-field",placeholder:`${C+1}. I'm grateful for...`})},C))]}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Fl,{className:"w-5 h-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Tomorrow's Top 3 Goals"})]}),[0,1,2].map(C=>t.jsx("div",{className:"mb-3",children:t.jsx("input",{type:"text",value:c.goals[C],onChange:_=>T(C,_.target.value),className:"input-field",placeholder:`${C+1}. Tomorrow I will...`})},C))]}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Reflection"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Today's Highlights"}),t.jsx("textarea",{value:c.highlights,onChange:C=>u({...c,highlights:C.target.value}),className:"input-field",rows:"2",placeholder:"What were the best moments of your day?"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Challenges Faced"}),t.jsx("textarea",{value:c.challenges,onChange:C=>u({...c,challenges:C.target.value}),className:"input-field",rows:"2",placeholder:"What obstacles did you overcome?"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lessons Learned"}),t.jsx("textarea",{value:c.lessons,onChange:C=>u({...c,lessons:C.target.value}),className:"input-field",rows:"2",placeholder:"What did today teach you?"})]})]})]}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tags"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("input",{type:"text",value:h,onChange:C=>p(C.target.value),onKeyPress:C=>{C.key==="Enter"&&(C.preventDefault(),R())},className:"input-field flex-1",placeholder:"Add a tag..."}),t.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add"})]}),c.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:c.tags.map((C,_)=>t.jsxs("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 rounded-full text-sm flex items-center gap-1",children:["#",C,t.jsx("button",{onClick:()=>N(C),className:"text-red-500 hover:text-red-700 ml-1 text-lg leading-none",children:"×"})]},_))})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>M(!0),className:"flex-1 btn-primary",children:"Save Entry"}),i&&t.jsx("button",{onClick:i,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Entry"})]})]})},T4=({entries:s,onDateSelect:n})=>{const[l,i]=k.useState(new Date),c=M=>{const O=M.getFullYear(),T=M.getMonth(),R=new Date(O,T,1),A=new Date(O,T+1,0).getDate(),H=R.getDay();return{daysInMonth:A,startingDayOfWeek:H}},{daysInMonth:u,startingDayOfWeek:h}=c(l),p=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},g=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},x=l.toLocaleDateString("en-US",{month:"long",year:"numeric"}),f=M=>({amazing:"😄",good:"😊",okay:"😐",bad:"😟",terrible:"😢"})[M]||"",b=M=>{const T=new Date(l.getFullYear(),l.getMonth(),M).toISOString().split("T")[0];return s.find(R=>R.date===T)},j=new Date().toISOString().split("T")[0];return t.jsxs("div",{className:"journal-calendar",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg",children:[t.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h3",{className:"text-lg font-semibold",children:x}),t.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[t.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(M=>t.jsx("div",{className:"text-center text-sm font-medium text-gray-500",children:M},M))}),t.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[[...Array(h)].map((M,O)=>t.jsx("div",{className:"aspect-square"},`empty-${O}`)),[...Array(u)].map((M,O)=>{const T=O+1,N=new Date(l.getFullYear(),l.getMonth(),T).toISOString().split("T")[0],A=b(T),H=N===j,C=N>j;return t.jsx(Y.div,{whileHover:{scale:C?1:1.05},className:`aspect-square rounded-lg border-2 p-2 ${H?"border-blue-500":"border-gray-200 dark:border-gray-700"} ${C?"opacity-50 cursor-not-allowed":"cursor-pointer"} ${A?"bg-blue-50 dark:bg-blue-900/20":"bg-white dark:bg-gray-800"}`,onClick:()=>!C&&n(N),children:t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:T}),A&&t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[A.mood&&t.jsx("span",{className:"text-xl",children:f(A.mood)}),A.gratitude&&A.gratitude.filter(_=>_).length>0&&t.jsx("span",{className:"text-xs",children:"🙏"}),A.content&&A.content.length>100&&t.jsx("span",{className:"text-xs text-blue-600",children:"📝"})]})]})},T)})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Legend"}),t.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-blue-50 dark:bg-blue-900/20 rounded border border-gray-300"}),t.jsx("span",{className:"text-gray-500",children:"Has entry"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:"😄"}),t.jsx("span",{className:"text-gray-500",children:"Mood tracked"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:"🙏"}),t.jsx("span",{className:"text-gray-500",children:"Gratitude logged"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:"📝"}),t.jsx("span",{className:"text-gray-500",children:"Long entry"})]})]})]})]})},E4=({stats:s})=>{const n=l=>({amazing:"😄",good:"😊",okay:"😐",bad:"😟",terrible:"😢"})[l]||"😐";return t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Entries"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s.totalEntries})]}),t.jsx("span",{className:"text-2xl",children:"📖"})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Streak"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.currentStreak})]}),t.jsx("span",{className:"text-2xl",children:"🔥"})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Avg Words"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.avgWords})]}),t.jsx("span",{className:"text-2xl",children:"📝"})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mood"}),t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 capitalize",children:s.dominantMood})]}),t.jsx("span",{className:"text-2xl",children:n(s.dominantMood)})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gratitude"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.gratitudeItems})]}),t.jsx("span",{className:"text-2xl",children:"🙏"})]})}),t.jsx(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This Month"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Math.round(s.totalEntries/30*100),"%"]})]}),t.jsx("span",{className:"text-2xl",children:"🏆"})]})})]})},A4=()=>{const{journalEntries:s,addJournalEntry:n,updateJournalEntry:l,deleteJournalEntry:i}=Ke(),[c,u]=k.useState(new Date().toISOString().split("T")[0]),[h,p]=k.useState("write"),[g,x]=k.useState(""),[f,b]=k.useState("all"),j=k.useMemo(()=>s.find(C=>C.date===c)||null,[s,c]),M=k.useMemo(()=>{let C=[...s];return g&&(C=C.filter(_=>_.content?.toLowerCase().includes(g.toLowerCase())||_.gratitude?.some(D=>D.toLowerCase().includes(g.toLowerCase()))||_.tags?.some(D=>D.toLowerCase().includes(g.toLowerCase())))),f!=="all"&&(C=C.filter(_=>_.mood===f)),C.sort((_,D)=>new Date(D.date)-new Date(_.date))},[s,g,f]),O=C=>{if(C.length===0)return 0;const _=C.map(S=>S.date).sort((S,V)=>new Date(V)-new Date(S));let D=1;const U=new Date,y=new Date(U);y.setDate(y.getDate()-1);const v=new Date(_[0]);if(Math.floor((U-v)/(1e3*60*60*24))>1)return 0;for(let S=1;S<_.length;S++){const V=new Date(_[S-1]),z=new Date(_[S]);if(Math.floor((V-z)/(1e3*60*60*24))===1)D++;else break}return D},T=k.useMemo(()=>{const C=s.length,_=O(s),D={};let U=0,y=0;s.forEach(V=>{V.mood&&(D[V.mood]=(D[V.mood]||0)+1),V.content&&(U+=V.content.split(" ").length),V.gratitude&&(y+=V.gratitude.length)});const v=C>0?Math.round(U/C):0;let L="neutral",S=0;return Object.entries(D).forEach(([V,z])=>{z>S&&(S=z,L=V)}),{totalEntries:C,currentStreak:_,avgWords:v,dominantMood:L,moodCounts:D,gratitudeItems:y}},[s]),R=async C=>{j?await l(j.id,C):await n({...C,date:c})},N=async()=>{j&&window.confirm("Are you sure you want to delete this journal entry?")&&await i(j.id)},A=C=>{const _=new Date(c);_.setDate(_.getDate()+C),u(_.toISOString().split("T")[0])},H=C=>{const _=new Date(C),D=new Date().toISOString().split("T")[0],U=new Date;U.setDate(U.getDate()-1);const y=U.toISOString().split("T")[0];return C===D?"Today":C===y?"Yesterday":_.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})};return t.jsxs("div",{className:"daily-journal",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Daily Journal"}),t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>p("write"),className:`px-3 py-1.5 rounded text-sm transition-colors ${h==="write"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Write"}),t.jsx("button",{onClick:()=>p("calendar"),className:`px-3 py-1.5 rounded text-sm transition-colors ${h==="calendar"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Calendar"}),t.jsx("button",{onClick:()=>p("insights"),className:`px-3 py-1.5 rounded text-sm transition-colors ${h==="insights"?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Insights"})]})}),h!=="write"&&t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search entries...",value:g,onChange:C=>x(C.target.value),className:"input-field"})}),h==="write"&&t.jsxs("div",{className:"flex items-center justify-between mb-4 bg-white dark:bg-gray-800 p-4 rounded-lg",children:[t.jsx("button",{onClick:()=>A(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-lg font-semibold",children:H(c)}),t.jsx("p",{className:"text-sm text-gray-500",children:c})]}),t.jsx("button",{onClick:()=>A(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:c>=new Date().toISOString().split("T")[0],children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsx(E4,{stats:T})]}),h==="write"&&t.jsx(C4,{entry:j,date:c,onSave:R,onDelete:j?N:null}),h==="calendar"&&t.jsx(T4,{entries:M,onDateSelect:C=>{u(C),p("write")}}),h==="insights"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-lg text-sm ${f==="all"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:"All Moods"}),["amazing","good","okay","bad","terrible"].map(C=>t.jsx("button",{onClick:()=>b(C),className:`px-3 py-1.5 rounded-lg text-sm ${f===C?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))]}),t.jsx(Me,{children:M.length>0?M.map((C,_)=>t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:_*.05},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg",children:H(C.date)}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[C.mood&&t.jsx("span",{className:"text-2xl",children:D4(C.mood)}),C.weather&&t.jsx("span",{className:"text-sm text-gray-500",children:C.weather})]})]}),t.jsx("button",{onClick:()=>{u(C.date),p("write")},className:"text-blue-600 hover:text-blue-700",children:"Edit"})]}),C.content&&t.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3 line-clamp-3",children:C.content}),C.gratitude&&C.gratitude.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Grateful for:"}),t.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600 dark:text-gray-400",children:C.gratitude.map((D,U)=>t.jsx("li",{children:D},U))})]}),C.tags&&C.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:C.tags.map((D,U)=>t.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs",children:["#",D]},U))})]},C.id)):t.jsx("div",{className:"text-center py-12 text-gray-400",children:t.jsx("p",{className:"text-lg",children:"No entries found"})})})]})]})},D4=s=>({amazing:"😄",good:"😊",okay:"😐",bad:"😟",terrible:"😢"})[s]||"😐",M4=({item:s,onSave:n,onCancel:l})=>{const[i,c]=k.useState({title:"",description:"",category:"personal",priority:"medium",deadline:"",estimatedCost:"",location:"",steps:[],resources:[],motivation:"",imageUrl:"",status:"not-started",progress:0}),[u,h]=k.useState(""),[p,g]=k.useState(""),x=[{value:"travel",label:"Travel",icon:"✈️"},{value:"adventure",label:"Adventure",icon:"🎢"},{value:"career",label:"Career",icon:"💼"},{value:"education",label:"Education",icon:"🎓"},{value:"fitness",label:"Fitness",icon:"💪"},{value:"creative",label:"Creative",icon:"🎨"},{value:"financial",label:"Financial",icon:"💰"},{value:"personal",label:"Personal",icon:"✨"},{value:"other",label:"Other",icon:"🎯"}],f=[{value:"high",label:"High Priority",color:"text-red-600"},{value:"medium",label:"Medium Priority",color:"text-yellow-600"},{value:"low",label:"Low Priority",color:"text-green-600"}];k.useEffect(()=>{s&&c({...s,steps:s.steps||[],resources:s.resources||[]})},[s]);const b=N=>{if(N.preventDefault(),!i.title.trim()){alert("Please enter a title for your bucket list item");return}n(i)},j=()=>{u.trim()&&(c({...i,steps:[...i.steps,{id:Date.now(),text:u.trim(),completed:!1}]}),h(""))},M=N=>{c({...i,steps:i.steps.map(A=>A.id===N?{...A,completed:!A.completed}:A)})},O=N=>{c({...i,steps:i.steps.filter(A=>A.id!==N)})},T=()=>{p.trim()&&(c({...i,resources:[...i.resources,p.trim()]}),g(""))},R=N=>{c({...i,resources:i.resources.filter((A,H)=>H!==N)})};return t.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Dream":"Add New Dream"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Dream Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.title,onChange:N=>c({...i,title:N.target.value}),className:"input-field",placeholder:"e.g., Visit all 7 continents",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),t.jsx("textarea",{value:i.description,onChange:N=>c({...i,description:N.target.value}),className:"input-field",rows:"3",placeholder:"Describe your dream in detail..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),t.jsx("select",{value:i.category,onChange:N=>c({...i,category:N.target.value}),className:"input-field",children:x.map(N=>t.jsxs("option",{value:N.value,children:[N.icon," ",N.label]},N.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Priority"}),t.jsx("select",{value:i.priority,onChange:N=>c({...i,priority:N.target.value}),className:"input-field",children:f.map(N=>t.jsx("option",{value:N.value,children:N.label},N.value))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Target Date ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"date",value:i.deadline,onChange:N=>c({...i,deadline:N.target.value}),className:"input-field",min:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Estimated Cost ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"text",value:i.estimatedCost,onChange:N=>c({...i,estimatedCost:N.target.value}),className:"input-field",placeholder:"e.g., $5000"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Location ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"text",value:i.location,onChange:N=>c({...i,location:N.target.value}),className:"input-field",placeholder:"e.g., Paris, France"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Inspiration Image URL ",t.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),t.jsx("input",{type:"url",value:i.imageUrl,onChange:N=>c({...i,imageUrl:N.target.value}),className:"input-field",placeholder:"https://example.com/image.jpg"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Why This Matters ",t.jsx("span",{className:"text-xs text-gray-500",children:"(motivation)"})]}),t.jsx("textarea",{value:i.motivation,onChange:N=>c({...i,motivation:N.target.value}),className:"input-field",rows:"2",placeholder:"Why is this important to you?"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Action Steps"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("input",{type:"text",value:u,onChange:N=>h(N.target.value),onKeyPress:N=>{N.key==="Enter"&&(N.preventDefault(),j())},className:"input-field flex-1",placeholder:"Add a step to achieve this dream..."}),t.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add"})]}),i.steps.length>0&&t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:i.steps.map(N=>t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-900 rounded",children:[t.jsx("input",{type:"checkbox",checked:N.completed,onChange:()=>M(N.id),className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:`flex-1 ${N.completed?"line-through text-gray-500":""}`,children:N.text}),t.jsx("button",{type:"button",onClick:()=>O(N.id),className:"text-red-500 hover:text-red-700",children:"×"})]},N.id))})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Resources & Links"}),t.jsxs("div",{className:"flex gap-2 mb-3",children:[t.jsx("input",{type:"text",value:p,onChange:N=>g(N.target.value),onKeyPress:N=>{N.key==="Enter"&&(N.preventDefault(),T())},className:"input-field flex-1",placeholder:"Add a helpful resource or link..."}),t.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Add"})]}),i.resources.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:i.resources.map((N,A)=>t.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm flex items-center gap-1",children:[N,t.jsx("button",{type:"button",onClick:()=>R(A),className:"text-red-500 hover:text-red-700 ml-1",children:"×"})]},A))})]}),s&&t.jsxs("div",{className:"mt-6",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Progress: ",i.progress,"%"]}),t.jsx("input",{type:"range",min:"0",max:"100",value:i.progress,onChange:N=>c({...i,progress:parseInt(N.target.value)}),className:"w-full"})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:s?"Update Dream":"Add Dream"}),t.jsx("button",{type:"button",onClick:l,className:"flex-1 btn-secondary",children:"Cancel"})]})]})},R4=({item:s,onEdit:n,onDelete:l,onUpdateProgress:i})=>{const[c,u]=k.useState(!1),h=O=>({travel:"✈️",adventure:"🎢",career:"💼",education:"🎓",fitness:"💪",creative:"🎨",financial:"💰",personal:"✨",other:"🎯"})[O]||"🎯",p=O=>{switch(O){case"high":return"border-red-500 bg-red-50 dark:bg-red-900/20";case"low":return"border-green-500 bg-green-50 dark:bg-green-900/20";default:return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20"}},g=O=>{switch(O){case"completed":return{text:"Completed",class:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"};case"in-progress":return{text:"In Progress",class:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"};default:return{text:"Not Started",class:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}},x=()=>{if(!s.deadline)return null;const O=Math.ceil((new Date(s.deadline)-new Date)/(1e3*60*60*24));return O<0?"Overdue":O===0?"Today":O===1?"Tomorrow":`${O} days`},f=s.steps?.filter(O=>O.completed).length||0,b=s.steps?.length||0,j=g(s.status),M=x();return t.jsxs(Y.div,{whileHover:{y:-4},className:`bg-white dark:bg-gray-800 rounded-lg shadow-md border-2 overflow-hidden ${p(s.priority)} ${s.status==="completed"?"opacity-75":""}`,children:[s.imageUrl&&t.jsx("div",{className:"h-48 overflow-hidden",children:t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover",onError:O=>O.target.style.display="none"})}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("span",{className:"text-2xl mt-1",children:h(s.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`font-semibold text-gray-900 dark:text-gray-100 ${s.status==="completed"?"line-through":""}`,children:s.title}),t.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${j.class}`,children:j.text})]})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.priority==="high"?"bg-red-200 text-red-800":s.priority==="low"?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:s.priority})]}),s.description&&t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:s.description}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-500 mb-3",children:[s.location&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:"📍"}),t.jsx("span",{children:s.location})]}),s.estimatedCost&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{children:"💵"}),t.jsx("span",{children:s.estimatedCost})]}),M&&t.jsxs("div",{className:`flex items-center gap-1 ${M==="Overdue"?"text-red-600 font-medium":""}`,children:[t.jsx("span",{children:"📅"}),t.jsx("span",{children:M})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Progress"}),t.jsxs("span",{className:"text-xs font-medium",children:[s.progress||0,"%"]})]}),t.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${s.progress||0}%`},transition:{duration:.5},className:`h-full ${s.progress>=80?"bg-green-500":s.progress>=50?"bg-blue-500":s.progress>=20?"bg-yellow-500":"bg-gray-400"}`})})]}),b>0&&t.jsx("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-900 rounded",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Steps"}),t.jsxs("span",{className:"text-xs font-medium",children:[f," / ",b," completed"]})]})}),s.motivation&&t.jsxs("button",{onClick:()=>u(!c),className:"text-xs text-blue-600 hover:text-blue-700 mb-3",children:[c?"Hide":"Show"," motivation →"]}),c&&s.motivation&&t.jsxs("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded text-sm text-gray-700 dark:text-gray-300",children:[t.jsx("p",{className:"font-medium mb-1",children:"Why this matters:"}),t.jsx("p",{children:s.motivation})]}),t.jsxs("div",{className:"flex gap-2",children:[s.status!=="completed"&&t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Update Progress"}),t.jsx("input",{type:"range",min:"0",max:"100",value:s.progress||0,onChange:O=>i(parseInt(O.target.value)),className:"w-full h-8"})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:n,className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900 rounded",title:"Edit",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:l,className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900 rounded",title:"Delete",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},L4=()=>{const{visionBoard:s,addVisionImage:n,updateVisionImage:l,deleteVisionImage:i,togglePinVisionImage:c}=Ke(),[u,h]=k.useState("masonry"),[p,g]=k.useState("all"),[x,f]=k.useState(""),[b,j]=k.useState(null),[M,O]=k.useState(!1),[T,R]=k.useState(null),[N,A]=k.useState("none"),H=k.useRef(null),C=[{id:"none",name:"No Frame",style:{}},{id:"polaroid",name:"Polaroid",style:{padding:"10px",paddingBottom:"60px",background:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},{id:"vintage",name:"Vintage",style:{border:"8px solid #8B4513",borderRadius:"4px",boxShadow:"inset 0 0 20px rgba(139,69,19,0.2)"}},{id:"golden",name:"Golden",style:{border:"6px solid",borderImage:"linear-gradient(45deg, #FFD700, #FFA500, #FFD700) 1",boxShadow:"0 0 20px rgba(255,215,0,0.3)"}},{id:"neon",name:"Neon Glow",style:{border:"2px solid #00ff00",boxShadow:"0 0 20px #00ff00, inset 0 0 10px rgba(0,255,0,0.1)"}},{id:"film",name:"Film Strip",style:{border:"15px solid black",borderLeft:"25px solid black",borderRight:"25px solid black",position:"relative"}},{id:"scrapbook",name:"Scrapbook",style:{transform:"rotate(-2deg)",background:"linear-gradient(45deg, #f5f5dc 25%, transparent 25%), linear-gradient(-45deg, #f5f5dc 25%, transparent 25%)",backgroundSize:"20px 20px",padding:"15px"}},{id:"dreamy",name:"Dreamy",style:{borderRadius:"50% 50% 50% 50% / 60% 60% 40% 40%",overflow:"hidden",boxShadow:"0 10px 30px rgba(147,112,219,0.3)"}},{id:"minimalist",name:"Minimalist",style:{border:"1px solid #e0e0e0",padding:"20px",background:"white"}},{id:"magazine",name:"Magazine",style:{clipPath:"polygon(0 0, 100% 0, 100% 90%, 90% 100%, 0 100%)",background:"white",padding:"10px"}}],_=[{value:"all",label:"All",icon:"🎯"},{value:"travel",label:"Travel",icon:"✈️"},{value:"career",label:"Career",icon:"💼"},{value:"health",label:"Health",icon:"💪"},{value:"relationships",label:"Relationships",icon:"💕"},{value:"lifestyle",label:"Lifestyle",icon:"🏡"},{value:"achievement",label:"Achievement",icon:"🏆"},{value:"creativity",label:"Creativity",icon:"🎨"},{value:"finance",label:"Finance",icon:"💰"},{value:"personal",label:"Personal",icon:"✨"}],D=k.useMemo(()=>{let B=[...s];if(p!=="all"&&(B=B.filter(P=>P.category===p)),x){const P=x.toLowerCase();B=B.filter(ee=>ee.title?.toLowerCase().includes(P)||ee.description?.toLowerCase().includes(P)||ee.tags?.some(ae=>ae.toLowerCase().includes(P)))}return B.sort((P,ee)=>P.isPinned&&!ee.isPinned?-1:!P.isPinned&&ee.isPinned?1:new Date(ee.createdAt)-new Date(P.createdAt)),B},[s,p,x]),U=async B=>{const P=Array.from(B).map(async ae=>({imageData:await y(ae),title:ae.name.split(".")[0],category:"personal",tags:[],description:"",frame:N,isPinned:!1})),ee=await Promise.all(P);for(const ae of ee)await n(ae);O(!1)},y=B=>new Promise((P,ee)=>{const ae=new FileReader;ae.readAsDataURL(B),ae.onload=I=>{const W=new Image;W.src=I.target.result,W.onload=()=>{const re=document.createElement("canvas"),te=re.getContext("2d"),oe=800;let le=W.width,ce=W.height;le>ce?le>oe&&(ce=ce*oe/le,le=oe):ce>oe&&(le=le*oe/ce,ce=oe),re.width=le,re.height=ce,te.drawImage(W,0,0,le,ce);const Re=re.toDataURL("image/jpeg",.7);P(Re)}},ae.onerror=ee}),v=async(B,P)=>{await l(B,P),R(null)},L=async B=>{window.confirm("Are you sure you want to delete this image from your vision board?")&&(await i(B),j(null))},S=()=>t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add Images to Vision Board"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),t.jsx("input",{ref:H,type:"file",multiple:!0,accept:"image/*",onChange:B=>U(B.target.files),className:"hidden"}),t.jsx("button",{onClick:()=>H.current?.click(),className:"btn-primary mb-2",children:"Select Images"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Or drag and drop images here"}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Frame Style for New Images"}),t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:C.map(B=>t.jsx("button",{onClick:()=>A(B.id),className:`p-2 text-xs rounded border transition-all ${N===B.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:B.name},B.id))})]})]}),t.jsx("button",{onClick:()=>O(!1),className:"mt-4 w-full btn-secondary",children:"Cancel"})]})}),V=({image:B})=>{const[P,ee]=k.useState({title:B.title||"",description:B.description||"",category:B.category||"personal",tags:B.tags?.join(", ")||"",frame:B.frame||"none"});return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Image Details"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),t.jsx("input",{type:"text",value:P.title,onChange:ae=>ee({...P,title:ae.target.value}),className:"input-field",placeholder:"Give your vision a title..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),t.jsx("textarea",{value:P.description,onChange:ae=>ee({...P,description:ae.target.value}),className:"input-field",rows:"3",placeholder:"Describe your vision..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),t.jsx("select",{value:P.category,onChange:ae=>ee({...P,category:ae.target.value}),className:"input-field",children:_.slice(1).map(ae=>t.jsxs("option",{value:ae.value,children:[ae.icon," ",ae.label]},ae.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma-separated)"}),t.jsx("input",{type:"text",value:P.tags,onChange:ae=>ee({...P,tags:ae.target.value}),className:"input-field",placeholder:"goals, dreams, 2024..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frame Style"}),t.jsx("select",{value:P.frame,onChange:ae=>ee({...P,frame:ae.target.value}),className:"input-field",children:C.map(ae=>t.jsx("option",{value:ae.id,children:ae.name},ae.id))})]})]}),t.jsxs("div",{className:"flex gap-2 mt-6",children:[t.jsx("button",{onClick:()=>{v(B.id,{...P,tags:P.tags.split(",").map(ae=>ae.trim()).filter(Boolean),frame:P.frame})},className:"flex-1 btn-primary",children:"Save Changes"}),t.jsx("button",{onClick:()=>R(null),className:"flex-1 btn-secondary",children:"Cancel"})]})]})})},z=B=>{const P=C.find(ee=>ee.id===B);return P?P.style:{}},q=({image:B,index:P})=>{const ee=z(B.frame||"none"),ae=B.frame==="film",I=B.frame==="polaroid";return t.jsxs(Y.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{delay:P*.05},className:`relative group transition-all duration-300 cursor-pointer
                  ${u==="masonry"?"":"aspect-square"}
                  ${B.frame==="scrapbook"?"hover:rotate-0":""}`,style:ee,onClick:()=>j(B),children:[ae&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-6 flex flex-col justify-evenly items-center",children:[...Array(6)].map((W,re)=>t.jsx("div",{className:"w-3 h-4 bg-gray-800 rounded-sm"},re))}),t.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-6 flex flex-col justify-evenly items-center",children:[...Array(6)].map((W,re)=>t.jsx("div",{className:"w-3 h-4 bg-gray-800 rounded-sm"},re))})]}),t.jsxs("div",{className:`${ae?"mx-8":""} ${I?"bg-white":""} relative overflow-hidden rounded-lg`,children:[t.jsx("img",{src:B.imageData,alt:B.title||"Vision",className:`w-full ${u==="grid"?"h-full object-cover":""}`,loading:"lazy"}),I&&t.jsx("div",{className:"text-center py-3 px-2 bg-white",children:t.jsx("p",{className:"font-handwriting text-gray-700 text-sm truncate",children:B.title||new Date(B.createdAt).toLocaleDateString()})})]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:B.title||"Untitled"}),B.description&&t.jsx("p",{className:"text-white/80 text-sm line-clamp-2",children:B.description}),B.tags?.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:B.tags.slice(0,3).map((W,re)=>t.jsx("span",{className:"text-xs bg-white/20 text-white px-2 py-1 rounded-full",children:W},re))})]})}),B.isPinned&&t.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-gray-900 p-2 rounded-full shadow-lg",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1z"})})}),t.jsx("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:W=>{W.stopPropagation(),c(B.id)},className:"bg-white/90 dark:bg-gray-800/90 p-2 rounded-full shadow hover:bg-white dark:hover:bg-gray-800",title:B.isPinned?"Unpin":"Pin",children:t.jsx("svg",{className:`w-4 h-4 ${B.isPinned?"text-yellow-500":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707z"})})}),t.jsx("button",{onClick:W=>{W.stopPropagation(),R(B)},className:"bg-white/90 dark:bg-gray-800/90 p-2 rounded-full shadow hover:bg-white dark:hover:bg-gray-800",title:"Edit",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})})]})},Q=({image:B})=>t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",onClick:()=>j(null),children:t.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative max-w-4xl max-h-[90vh] flex flex-col bg-white dark:bg-gray-900 rounded-lg overflow-hidden",onClick:P=>P.stopPropagation(),children:[t.jsx("div",{className:"flex-1 flex items-center justify-center bg-black",children:t.jsx("img",{src:B.imageData,alt:B.title||"Vision",className:"max-w-full max-h-full object-contain"})}),t.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("h2",{className:"text-xl font-bold",children:B.title||"Untitled"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>c(B.id),className:`p-2 rounded ${B.isPinned?"text-yellow-500":"text-gray-400"} hover:bg-gray-100 dark:hover:bg-gray-700`,title:B.isPinned?"Unpin":"Pin",children:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3z"})})}),t.jsx("button",{onClick:()=>{j(null),R(B)},className:"p-2 rounded text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Edit",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),t.jsx("button",{onClick:()=>L(B.id),className:"p-2 rounded text-red-500 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Delete",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),B.description&&t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:B.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[_.find(P=>P.value===B.category)?.icon,_.find(P=>P.value===B.category)?.label]}),B.tags?.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:B.tags.map((P,ee)=>t.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:["#",P]},ee))})]})]}),t.jsx("button",{onClick:()=>j(null),className:"absolute top-4 right-4 text-white bg-black/50 p-2 rounded-full hover:bg-black/70",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})});return t.jsxs("div",{className:"vision-board",children:[t.jsxs("div",{className:"mb-6 space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",placeholder:"Search your visions...",value:x,onChange:B=>f(B.target.value),className:"flex-1 input-field"}),t.jsxs("button",{onClick:()=>O(!0),className:"btn-primary flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Images"]})]}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:_.map(B=>t.jsx("button",{onClick:()=>g(B.value),className:`px-3 py-1.5 rounded-full whitespace-nowrap transition-all ${p===B.value?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:t.jsxs("span",{className:"flex items-center gap-1",children:[B.icon," ",B.label,B.value==="all"&&s.length>0&&t.jsxs("span",{className:"ml-1 text-xs",children:["(",s.length,")"]})]})},B.value))}),t.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>h("masonry"),className:`px-3 py-1.5 rounded ${u==="masonry"?"bg-white dark:bg-gray-700 shadow-sm":"text-gray-600 dark:text-gray-400"}`,title:"Masonry View",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v8a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h4a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6z"})})}),t.jsx("button",{onClick:()=>h("grid"),className:`px-3 py-1.5 rounded ${u==="grid"?"bg-white dark:bg-gray-700 shadow-sm":"text-gray-600 dark:text-gray-400"}`,title:"Grid View",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})]}),D.length>0&&t.jsxs("p",{className:"text-sm text-gray-500",children:[D.length," vision",D.length!==1?"s":""," found",x&&` for "${x}"`,p!=="all"&&` in ${_.find(B=>B.value===p)?.label}`]})]}),D.length>0?t.jsx("div",{className:u==="masonry"?"columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.jsx(Me,{children:D.map((B,P)=>t.jsx(q,{image:B,index:P},B.id))})}):t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("p",{className:"text-lg text-gray-500 mb-4",children:x||p!=="all"?"No visions found matching your criteria":"Your vision board is empty"}),!x&&p==="all"&&t.jsx("button",{onClick:()=>O(!0),className:"text-blue-600 hover:text-blue-700",children:"Add your first vision →"})]}),t.jsxs(Me,{children:[M&&t.jsx(S,{}),T&&t.jsx(V,{image:T}),b&&t.jsx(Q,{image:b})]})]})},O4=()=>{const{bucketList:s,addBucketItem:n,updateBucketItem:l,deleteBucketItem:i}=Ke(),[c,u]=k.useState("list"),[h,p]=k.useState(!1),[g,x]=k.useState(null),[f,b]=k.useState("all"),[j,M]=k.useState("all"),[O,T]=k.useState(""),[R,N]=k.useState("priority"),A=k.useMemo(()=>{let y=[...s];return f!=="all"&&(y=y.filter(v=>v.category===f)),j!=="all"&&(y=y.filter(v=>v.status===j)),O&&(y=y.filter(v=>v.title.toLowerCase().includes(O.toLowerCase())||v.description?.toLowerCase().includes(O.toLowerCase())||v.steps?.some(L=>L.toLowerCase().includes(O.toLowerCase())))),y.sort((v,L)=>{switch(R){case"priority":const S={high:0,medium:1,low:2};return(S[v.priority]||2)-(S[L.priority]||2);case"deadline":return!v.deadline&&!L.deadline?0:v.deadline?L.deadline?new Date(v.deadline)-new Date(L.deadline):-1:1;case"progress":return(L.progress||0)-(v.progress||0);default:return 0}}),y},[s,f,j,O,R]),H=k.useMemo(()=>{const y=s.length,v=s.filter(Q=>Q.status==="completed").length,L=s.filter(Q=>Q.status==="in-progress").length,S=s.filter(Q=>Q.status==="not-started").length,V={};s.forEach(Q=>{V[Q.category]=(V[Q.category]||0)+1});const z=s.length>0?Math.round(s.reduce((Q,B)=>Q+(B.progress||0),0)/s.length):0,q=s.filter(Q=>{if(!Q.deadline||Q.status==="completed")return!1;const B=Math.ceil((new Date(Q.deadline)-new Date)/(1e3*60*60*24));return B<=30&&B>0}).length;return{total:y,completed:v,inProgress:L,notStarted:S,categoryCounts:V,avgProgress:z,upcomingDeadlines:q,completionRate:y>0?Math.round(v/y*100):0}},[s]),C=async y=>{g?(await l(g.id,y),x(null)):await n(y),p(!1)},_=async y=>{window.confirm("Are you sure you want to delete this bucket list item?")&&await i(y)},D=async(y,v)=>{if(!s.find(V=>V.id===y))return;const S={progress:v};v===0?S.status="not-started":v===100?(S.status="completed",S.completedDate=new Date().toISOString()):S.status="in-progress",await l(y,S)},U=[{value:"travel",label:"Travel",icon:"✈️"},{value:"adventure",label:"Adventure",icon:"🎢"},{value:"career",label:"Career",icon:"💼"},{value:"education",label:"Education",icon:"🎓"},{value:"fitness",label:"Fitness",icon:"💪"},{value:"creative",label:"Creative",icon:"🎨"},{value:"financial",label:"Financial",icon:"💰"},{value:"personal",label:"Personal",icon:"✨"},{value:"other",label:"Other",icon:"🎯"}];return t.jsxs("div",{className:"bucket-list",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4",children:"Bucket List"}),t.jsx("div",{className:"flex justify-center mb-6",children:t.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-1 inline-flex",children:[t.jsx("button",{onClick:()=>u("list"),className:`px-4 py-2 rounded-md transition-all duration-200 ${c==="list"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Dreams List"]})}),t.jsx("button",{onClick:()=>u("vision"),className:`px-4 py-2 rounded-md transition-all duration-200 ${c==="vision"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Vision Board"]})})]})}),c==="list"&&t.jsx("div",{className:"flex justify-center mb-4",children:t.jsxs("button",{onClick:()=>{x(null),p(!0)},className:"btn-primary flex items-center gap-2 px-4 py-2",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.jsx("span",{className:"text-sm sm:text-base",children:"Add Dream"})]})}),c==="list"&&t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search your dreams...",value:O,onChange:y=>T(y.target.value),className:"input-field"})}),c==="list"&&t.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[t.jsxs("select",{value:f,onChange:y=>b(y.target.value),className:`px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg
                       bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[t.jsx("option",{value:"all",children:"All Categories"}),U.map(y=>t.jsxs("option",{value:y.value,children:[y.icon," ",y.label]},y.value))]}),t.jsxs("select",{value:j,onChange:y=>M(y.target.value),className:`px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg
                       bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"not-started",children:"Not Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:R,onChange:y=>N(y.target.value),className:`px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg
                       bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[t.jsx("option",{value:"priority",children:"Sort by Priority"}),t.jsx("option",{value:"deadline",children:"Sort by Deadline"}),t.jsx("option",{value:"progress",children:"Sort by Progress"})]})]}),c==="list"&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Dreams"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:H.total})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:H.completed}),t.jsxs("p",{className:"text-xs text-gray-500",children:[H.completionRate,"%"]})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"In Progress"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:H.inProgress}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Avg ",H.avgProgress,"%"]})]}),t.jsxs(Y.div,{whileHover:{scale:1.05},className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Upcoming"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:H.upcomingDeadlines}),t.jsx("p",{className:"text-xs text-gray-500",children:"Next 30 days"})]})]})]}),c==="list"?t.jsxs(t.Fragment,{children:[t.jsx(Me,{children:h&&t.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-6",children:t.jsx(M4,{item:g,onSave:C,onCancel:()=>{p(!1),x(null)}})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.jsx(Me,{children:A.length>0?A.map((y,v)=>t.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:v*.05},children:t.jsx(R4,{item:y,onEdit:()=>{x(y),p(!0)},onDelete:()=>_(y.id),onUpdateProgress:L=>D(y.id,L)})},y.id)):t.jsxs("div",{className:"col-span-full text-center py-12 bg-white dark:bg-gray-800 rounded-lg",children:[t.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),t.jsx("p",{className:"text-lg text-gray-500",children:O||f!=="all"||j!=="all"?"No items found matching your filters":"Your bucket list is empty"}),!O&&f==="all"&&j==="all"&&t.jsx("button",{onClick:()=>p(!0),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Add your first dream →"})]})})}),H.completed>0&&t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-6 bg-blue-600 rounded-lg text-white text-center",children:[t.jsxs("p",{className:"text-lg font-medium mb-2",children:["🎆 You've completed ",H.completed," dream",H.completed!==1?"s":"","!"]}),t.jsx("p",{className:"text-sm opacity-90",children:'"The only impossible journey is the one you never begin." - Tony Robbins'})]})]}):t.jsx(L4,{})]})},An=[{text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{text:"Innovation distinguishes between a leader and a follower.",author:"Steve Jobs"},{text:"Your time is limited, don't waste it living someone else's life.",author:"Steve Jobs"},{text:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt"},{text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill"},{text:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{text:"In the middle of difficulty lies opportunity.",author:"Albert Einstein"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"The way to get started is to quit talking and begin doing.",author:"Walt Disney"}],B4=()=>{const s=ii(),{tasks:n,expenses:l,notes:i,habits:c,habitHistory:u,meals:h,callReminders:p,bucketList:g,journalEntries:x,quotes:f,setCurrentView:b}=Ke(),[j,M]=k.useState(null),[O,T]=k.useState(""),[R,N]=k.useState(0);k.useEffect(()=>{const y=new Date().getHours();y<12?T("Good Morning"):y<17?T("Good Afternoon"):T("Good Evening");const v=f.length>0?f:An;M(v[0])},[f]),k.useEffect(()=>{const y=f.length>0?f:An;if(y.length===0)return;const v=setInterval(()=>{N(L=>(L+1)%y.length)},4e3);return()=>clearInterval(v)},[f.length]),k.useEffect(()=>{const y=f.length>0?f:An;y.length>0&&M(y[R])},[R,f.length]);const A=()=>{const y=f.length>0?f:An;N(v=>(v+1)%y.length)},H=()=>{const y=f.length>0?f:An;N(v=>(v-1+y.length)%y.length)},C=()=>{if(x.length===0)return 0;const y=x.map(z=>z.date).sort((z,q)=>new Date(q)-new Date(z));let v=1;const L=new Date,S=new Date(y[0]);if(Math.floor((L-S)/(1e3*60*60*24))>1)return 0;for(let z=1;z<y.length;z++){const q=new Date(y[z-1]),Q=new Date(y[z]);if(Math.floor((q-Q)/(1e3*60*60*24))===1)v++;else break}return v},_=k.useMemo(()=>{const y=new Date().toISOString().split("T")[0],v=n.filter(le=>le.date===y),L=v.filter(le=>le.completed).length,S=v.filter(le=>!le.completed).length,V=new Date().getMonth(),z=new Date().getFullYear(),Q=l.filter(le=>{const ce=new Date(le.date);return ce.getMonth()===V&&ce.getFullYear()===z}).reduce((le,ce)=>le+(ce.amount||0),0),B=c.length,P=c.filter(le=>u[le.id]&&u[le.id][y]).length,ae=h.filter(le=>le.date===y).reduce((le,ce)=>le+(ce.calories||0),0),I=p.filter(le=>{const ce=new Date(le.date),he=Math.ceil((ce-new Date)/(1e3*60*60*24));return he>=0&&he<=7}).length,W=g.filter(le=>le.status==="in-progress").length,re=g.filter(le=>le.status==="completed").length,te=x.some(le=>le.date===y),oe=C();return{todayTasks:v.length,completedTasks:L,pendingTasks:S,taskCompletionRate:v.length>0?Math.round(L/v.length*100):0,monthlyExpenses:Q,notesCount:i.length,activeHabits:B,habitsCompletedToday:P,habitCompletionRate:B>0?Math.round(P/B*100):0,todayCalories:ae,upcomingReminders:I,bucketInProgress:W,bucketCompleted:re,hasJournalToday:te,journalStreak:oe}},[n,l,i,c,u,h,p,g,x]),D=[{id:"tasks",label:"Add Task",icon:hS,color:"bg-blue-500",path:"/tasks"},{id:"expenses",label:"Log Expense",icon:nu,color:"bg-green-500",path:"/expenses"},{id:"notes",label:"New Note",icon:ru,color:"bg-purple-500",path:"/notes"},{id:"meals",label:"Log Meal",icon:by,color:"bg-orange-500",path:"/meals"},{id:"alarms",label:"Set Alarm",icon:"⏰",color:"bg-red-500",path:"/alarms",isEmoji:!0},{id:"reminders",label:"Add Reminder",icon:"🔔",color:"bg-yellow-500",path:"/reminders",isEmoji:!0},{id:"journal",label:"Write Journal",icon:iu,color:"bg-pink-500",path:"/journal"},{id:"habits",label:"Track Habits",icon:Fl,color:"bg-indigo-500",path:"/habits"}],U=y=>{b(y.id),s(y.path)};return t.jsxs("div",{className:"dashboard",children:[t.jsx("div",{className:"mb-6",children:t.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-white p-6 glass-card",style:{backgroundColor:"rgb(48, 61, 89)"},children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold",children:[O,"!"]}),t.jsx(fS,{className:"w-8 h-8 text-white"})]}),t.jsx("p",{className:"text-base sm:text-lg mb-4",children:"Here's your overview for today"}),j&&t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("button",{onClick:H,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Previous quote",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("div",{className:"flex-1 text-center px-2",children:t.jsxs("p",{className:"text-sm sm:text-lg italic",children:['"',j.text,'"']})}),t.jsx("button",{onClick:A,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Next quote",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsxs("p",{className:"text-sm text-right",children:["— ",j.author]}),t.jsx("div",{className:"flex justify-center mt-2",children:(f.length>0?f:An).map((y,v)=>t.jsx("button",{onClick:()=>N(v),className:`w-2 mx-1 rounded-full transition-colors ${v===R?"bg-white":"bg-white/40"}`,style:{minHeight:"8px",height:"8px"}},v))})]})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:D.map((y,v)=>t.jsxs(Y.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:v*.05},whileHover:{scale:1.05},onClick:()=>U(y),className:`${y.color} text-white p-4 rounded-lg flex flex-col items-center justify-center hover:shadow-lg transition-all duration-300 hover:scale-105`,children:[y.isEmoji?t.jsx("span",{className:"text-2xl sm:text-3xl mb-2",children:y.icon}):t.jsx(y.icon,{className:"w-8 h-8 mb-2 text-white"}),t.jsx("span",{className:"text-xs font-medium",children:y.label})]},y.id))})]}),t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(pp,{className:"w-6 h-6 text-green-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Tasks"})]}),t.jsxs("p",{className:"text-2xl font-bold",children:[_.completedTasks,"/",_.todayTasks]}),t.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${_.taskCompletionRate}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.taskCompletionRate,"% complete"]})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(Fl,{className:"w-6 h-6 text-blue-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Habits"})]}),t.jsxs("p",{className:"text-2xl font-bold",children:[_.habitsCompletedToday,"/",_.activeHabits]}),t.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${_.habitCompletionRate}%`}})}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.habitCompletionRate,"% done today"]})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(nu,{className:"w-6 h-6 text-green-600"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Month Spend"})]}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",_.monthlyExpenses.toFixed(2)]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This month"})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(mS,{className:"w-6 h-6 text-orange-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Calories"})]}),t.jsx("p",{className:"text-2xl font-bold",children:_.todayCalories}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Today"})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(iu,{className:"w-6 h-6 text-purple-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Journal"})]}),t.jsxs("p",{className:"text-2xl font-bold",children:[_.journalStreak," days"]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_.hasJournalToday?t.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(pp,{className:"w-3 h-3"})," Written today"]}):t.jsx("span",{className:"text-orange-500",children:"Write today"})})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(vy,{className:"w-6 h-6 text-red-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Reminders"})]}),t.jsx("p",{className:"text-2xl font-bold",children:_.upcomingReminders}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Next 7 days"})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(ru,{className:"w-6 h-6 text-purple-600"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Notes"})]}),t.jsx("p",{className:"text-2xl font-bold",children:_.notesCount}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total notes"})]}),t.jsxs(Y.div,{whileHover:{scale:1.02},className:"ultra-card hover-lift p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(jy,{className:"w-6 h-6 text-yellow-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Dreams"})]}),t.jsxs("p",{className:"text-2xl font-bold",children:[_.bucketCompleted,"/",g.length]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_.bucketInProgress," in progress"]})]})]}),t.jsxs("div",{className:"ultra-card p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),t.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map((y,v)=>t.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[t.jsx("input",{type:"checkbox",checked:y.completed,className:"w-5 h-5",readOnly:!0}),t.jsx("span",{className:y.completed?"line-through text-gray-500":"",children:y.text}),t.jsx("span",{className:"ml-auto text-xs text-gray-500",children:y.date})]},y.id)),n.length===0&&t.jsx("p",{className:"text-center text-gray-500 py-4",children:"No recent tasks"})]})]})]})},_4=()=>{const{darkMode:s,toggleDarkMode:n,isAuthenticated:l,userEmail:i,sheetUrl:c,signInToGoogle:u,signOutFromGoogle:h,syncStatus:p,syncToSheets:g,syncFromSheets:x,lastSyncTime:f}=Ke(),[b,j]=k.useState(null),[M,O]=k.useState(null),T=()=>{const C=Ke.getState(),_={tasks:C.tasks,expenses:C.expenses,notes:C.notes,habits:C.habits,habitHistory:C.habitHistory,meals:C.meals,callReminders:C.callReminders,completedCallReminders:C.completedCallReminders,bucketList:C.bucketList,journalEntries:C.journalEntries,quotes:C.quotes,exportDate:new Date().toISOString()},D=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),U=URL.createObjectURL(D),y=document.createElement("a");y.href=U,y.download=`smart-todo-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(U)},R=async C=>{const _=C.target.files[0];if(_)try{const D=await _.text(),U=JSON.parse(D);if(window.confirm("This will replace all your current data. Are you sure you want to import?")){const y=Ke.getState();U.tasks&&(y.tasks=U.tasks),U.expenses&&(y.expenses=U.expenses),U.notes&&(y.notes=U.notes),U.habits&&(y.habits=U.habits),U.habitHistory&&(y.habitHistory=U.habitHistory),U.meals&&(y.meals=U.meals),U.callReminders&&(y.callReminders=U.callReminders),U.completedCallReminders&&(y.completedCallReminders=U.completedCallReminders),U.bucketList&&(y.bucketList=U.bucketList),U.journalEntries&&(y.journalEntries=U.journalEntries),U.quotes&&(y.quotes=U.quotes),alert("Data imported successfully!"),window.location.reload()}}catch(D){alert("Error importing data. Please check the file format."),console.error("Import error:",D)}},N=()=>{window.confirm("This will permanently delete ALL your data. This action cannot be undone. Are you sure?")&&window.confirm("Are you ABSOLUTELY sure? This will delete everything!")&&(localStorage.clear(),window.location.reload())},A=C=>C?new Date(C).toLocaleString():"Never",H=[{title:"Appearance",items:[{title:"Dark Mode",description:"Toggle between light and dark themes",component:t.jsx("button",{onClick:n,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?"bg-blue-600":"bg-gray-200"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})}]},{title:"Cloud Sync",items:[{title:"Google Sheets Integration",description:l?`Connected as ${i}`:"Sync your data with Google Sheets",component:t.jsx("div",{className:"flex flex-col gap-2",children:l?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:g,disabled:p==="syncing",className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50",children:p==="syncing"?"Syncing...":"Sync Now"}),t.jsx("button",{onClick:x,disabled:p==="syncing",className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 disabled:opacity-50",children:"Pull from Sheets"})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Last sync: ",A(f)]}),c&&t.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View Spreadsheet"}),t.jsx("button",{onClick:h,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:"Disconnect"})]}):t.jsx("button",{onClick:u,className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"Connect Google Sheets"})})}]},{title:"Data Management",items:[{title:"Export Data",description:"Download a backup of all your data",component:t.jsx("button",{onClick:T,className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:"Export JSON"})},{title:"Import Data",description:"Restore data from a backup file",component:t.jsxs("label",{className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 cursor-pointer",children:["Choose File",t.jsx("input",{type:"file",accept:".json",onChange:R,className:"hidden"})]})},{title:"Clear All Data",description:"Permanently delete all data (cannot be undone)",component:t.jsx("button",{onClick:N,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:"Clear All"})}]},{title:"About",items:[{title:"Version",description:"LIFE v2.0",component:t.jsx("span",{className:"text-sm text-gray-500",children:"React + PWA"})},{title:"Features",description:"Offline-first, Cloud sync, Voice input, Screenshots",component:null}]}];return t.jsxs("div",{className:"settings max-w-4xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Settings"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your preferences and data"})]}),t.jsx("div",{className:"space-y-6",children:H.map((C,_)=>t.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:C.title}),t.jsx("div",{className:"space-y-4",children:C.items.map((D,U)=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-700 last:border-b-0",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:D.title}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:D.description})]}),D.component&&t.jsx("div",{className:"ml-4",children:D.component})]},U))})]})},C.title))}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[t.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-200 mb-2",children:"💡 Install as App"}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Add LIFE to your home screen for a native app experience. Works offline and syncs when you're back online!"})]})]})},z4=()=>{const s=ii(),{addTask:n,addNote:l,addJournalEntry:i}=Ke(),[c,u]=k.useState(!1),[h,p]=k.useState(""),[g,x]=k.useState(!1),[f,b]=k.useState(""),[j,M]=k.useState(""),[O,T]=k.useState([]),R=k.useRef(null),N=k.useRef(null);k.useEffect(()=>{const v=window.SpeechRecognition||window.webkitSpeechRecognition,L=window.speechSynthesis;return v&&L&&(x(!0),R.current=new v,R.current.continuous=!1,R.current.interimResults=!1,R.current.lang="en-US",R.current.onstart=()=>u(!0),R.current.onend=()=>u(!1),R.current.onresult=S=>{const V=S.results[0][0].transcript;p(V),_(V)},R.current.onerror=S=>{console.error("Speech recognition error:",S.error),u(!1),M(`Error: ${S.error}`)},N.current=L),()=>{R.current&&R.current.stop()}},[]);const A=v=>{if(N.current){const L=new SpeechSynthesisUtterance(v);L.rate=.8,L.pitch=1,N.current.speak(L)}},H=()=>{R.current&&!c&&(R.current.start(),p(""),M(""))},C=()=>{R.current&&c&&R.current.stop()},_=async v=>{const L=v.toLowerCase();let S="",V="";try{if(L.includes("add task")||L.includes("create task")||L.includes("new task")){const q=v.replace(/(add task|create task|new task)/i,"").trim();q?(await n(q),S=`Task "${q}" added successfully!`,V="Task Added"):S="Please specify what task to add."}else if(L.includes("add note")||L.includes("create note")||L.includes("new note")){const q=v.replace(/(add note|create note|new note)/i,"").trim();q?(await l({title:q.split(" ").slice(0,5).join(" "),content:q,folder:"Voice Notes",tags:["voice"]}),S="Note created successfully!",V="Note Added"):S="Please specify the note content."}else if(L.includes("journal")||L.includes("diary")){const q=v.replace(/(add to journal|create journal|journal|diary)/i,"").trim();q?(await i({date:new Date().toISOString().split("T")[0],content:q,mood:"good",tags:["voice"]}),S="Journal entry added successfully!",V="Journal Added"):S="Please specify the journal content."}else L.includes("go to")||L.includes("open")||L.includes("show")?L.includes("task")?(s("/tasks"),S="Opening tasks page.",V="Navigation"):L.includes("note")?(s("/notes"),S="Opening notes page.",V="Navigation"):L.includes("journal")?(s("/journal"),S="Opening journal page.",V="Navigation"):L.includes("dashboard")?(s("/"),S="Opening dashboard.",V="Navigation"):L.includes("settings")&&(s("/settings"),S="Opening settings.",V="Navigation"):L.includes("help")||L.includes("what can you do")?(S='I can help you add tasks, create notes, write journal entries, and navigate the app. Try saying "add task call mom" or "create note meeting notes".',V="Help"):(S=`I heard "${v}" but I'm not sure what to do with that. Try "add task", "create note", "journal", or "help".`,V="Unknown")}catch(q){S=`Error processing command: ${q.message}`,V="Error"}M(S),A(S);const z={id:Date.now(),timestamp:new Date().toLocaleTimeString(),command:v,action:V,response:S};T(q=>[z,...q.slice(0,9)])},D=()=>{f.trim()&&(_(f),b(""))},U=()=>{T([])},y=[{text:"Add task buy groceries",description:"Creates a new task"},{text:"Create note meeting summary",description:"Creates a new note"},{text:"Journal had a great day today",description:"Adds journal entry"},{text:"Go to tasks",description:"Navigate to tasks page"},{text:"Open notes",description:"Navigate to notes page"},{text:"Show dashboard",description:"Navigate to dashboard"},{text:"Help",description:"Shows available commands"}];return g?t.jsxs("div",{className:"voice-commands max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"🎤 Voice Commands"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Control your app with voice commands. Add tasks, create notes, and navigate hands-free."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Voice Input"}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c?C:H,className:`w-24 h-24 rounded-full flex items-center justify-center text-4xl transition-all ${c?"bg-red-500 text-white animate-pulse":"bg-blue-500 text-white hover:bg-blue-600"}`,children:c?"🔴":"🎤"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:c?"Listening... Click to stop":"Click to start voice input"})]}),h&&t.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"You said:"}),t.jsx("p",{className:"font-medium",children:h})]}),j&&t.jsxs("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Response:"}),t.jsx("p",{className:"font-medium",children:j})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Or Type a Command"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:f,onChange:v=>b(v.target.value),onKeyPress:v=>v.key==="Enter"&&D(),placeholder:"Type a command...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"}),t.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Send"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Commands"}),t.jsx("div",{className:"space-y-3",children:y.map((v,L)=>t.jsxs("div",{className:"border-l-4 border-blue-500 pl-3",children:[t.jsxs("p",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:['"',v.text,'"']}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v.description})]},L))})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Command History"}),O.length>0&&t.jsx("button",{onClick:U,className:"text-sm text-red-500 hover:text-red-600",children:"Clear"})]}),O.length===0?t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No commands yet"}):t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:O.map(v=>t.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-3",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:v.timestamp}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.action==="Error"?"bg-red-100 text-red-700":v.action==="Task Added"?"bg-green-100 text-green-700":v.action==="Note Added"?"bg-blue-100 text-blue-700":v.action==="Journal Added"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:v.action})]}),t.jsx("p",{className:"text-sm font-medium",children:v.command}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:v.response})]},v.id))})]})]})]})]}):t.jsx("div",{className:"voice-commands max-w-4xl mx-auto p-6",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[t.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Voice Commands Not Supported"}),t.jsx("p",{className:"text-red-700",children:"Your browser doesn't support voice recognition. Please use a modern browser like Chrome, Edge, or Safari."})]})})},H4=()=>{const{addTask:s,addNote:n}=Ke(),[l,i]=k.useState(""),[c,u]=k.useState(!1),[h,p]=k.useState([]),[g,x]=k.useState(null),f=k.useRef(null),b=k.useRef(null),j=k.useRef(null),M=async C=>{await new Promise(D=>setTimeout(D,2e3));const _=[`Meeting Notes
• Discuss project timeline
• Review budget requirements
• Plan next sprint`,`Shopping List
- Milk
- Bread
- Eggs
- Chicken
- Vegetables`,`Important Reminders
□ Call dentist appointment
□ Submit expense report
□ Review contract terms`,`Contact Information
John Smith
Phone: (555) 123-4567
Email: john@example.com
Address: 123 Main St`,`Recipe Instructions
1. Preheat oven to 350°F
2. Mix ingredients in bowl
3. Bake for 25 minutes
4. Let cool before serving`,`Event Details
Date: Friday, Oct 15
Time: 2:00 PM
Location: Conference Room A
Attendees: Team leads`,`Quick Notes
- Follow up with client
- Update documentation
- Schedule team meeting
- Review performance metrics`];return _[Math.floor(Math.random()*_.length)]},O=async C=>{const _=C.target.files[0];if(_){if(!_.type.startsWith("image/")){alert("Please select an image file");return}x(URL.createObjectURL(_)),u(!0);try{const D=await M(_);i(D);const U={id:Date.now(),timestamp:new Date().toLocaleString(),image:URL.createObjectURL(_),text:D,source:"File Upload"};p(y=>[U,...y.slice(0,9)])}catch(D){alert("Error processing image: "+D.message)}finally{u(!1)}}},T=async()=>{try{u(!0);const C=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),_=b.current;_.srcObject=C,_.autoplay=!0,await new Promise(S=>{_.onloadedmetadata=S,_.play()}),await new Promise(S=>setTimeout(S,1e3));const D=j.current,U=D.getContext("2d");D.width=_.videoWidth,D.height=_.videoHeight,U.drawImage(_,0,0),C.getTracks().forEach(S=>S.stop());const y=D.toDataURL("image/jpeg");x(y);const v=await M(y);i(v);const L={id:Date.now(),timestamp:new Date().toLocaleString(),image:y,text:v,source:"Camera Capture"};p(S=>[L,...S.slice(0,9)])}catch(C){alert("Camera error: "+C.message)}finally{u(!1)}},R=()=>{if(l.trim()){const C=l.split(`
`).filter(_=>_.trim());C.forEach(_=>{const D=_.replace(/^[•\-□☐✓\d\.]+\s*/,"").trim();D&&s(D)}),alert(`Created ${C.length} tasks from extracted text!`),i("")}},N=()=>{if(l.trim()){const C=l.split(`
`)[0].substring(0,50)||"OCR Extracted Note";n({title:C,content:l,folder:"OCR Extracts",tags:["ocr","extracted"]}),alert("Note created from extracted text!"),i("")}},A=C=>{i(C),x(null)},H=()=>{i(""),x(null),p([])};return t.jsxs("div",{className:"text-extraction max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"📝 OCR Text Extraction"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Extract text from images using OCR technology. Upload photos or capture with camera."})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Image Input"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(Y.label,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"cursor-pointer border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-blue-500 transition-colors",children:[t.jsx("div",{className:"text-4xl mb-2",children:"📁"}),t.jsx("p",{className:"text-sm font-medium",children:"Upload Image"}),t.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, GIF"}),t.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:O,disabled:c,className:"hidden"})]}),t.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:T,disabled:c,className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-green-500 transition-colors disabled:opacity-50",children:[t.jsx("div",{className:"text-4xl mb-2",children:"📷"}),t.jsx("p",{className:"text-sm font-medium",children:"Camera Capture"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Live photo"})]})]}),c&&t.jsx("div",{className:"mt-4 text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),t.jsx("span",{children:"Processing image..."})]})})]}),g&&t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Selected Image"}),t.jsx("img",{src:g,alt:"Selected for OCR",className:"w-full max-h-64 object-contain rounded-lg border"})]}),t.jsx("video",{ref:b,style:{display:"none"}}),t.jsx("canvas",{ref:j,style:{display:"none"}})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Extracted Text"}),l&&t.jsx("button",{onClick:()=>i(""),className:"text-sm text-red-500 hover:text-red-600",children:"Clear"})]}),t.jsx("textarea",{value:l,onChange:C=>i(C.target.value),placeholder:"Extracted text will appear here...",className:"w-full h-40 p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 resize-none"}),l&&t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"📋 Create Tasks"}),t.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"📝 Save as Note"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Processing History"}),h.length>0&&t.jsx("button",{onClick:H,className:"text-sm text-red-500 hover:text-red-600",children:"Clear All"})]}),h.length===0?t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No processed images yet"}):t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:h.map(C=>t.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("img",{src:C.image,alt:"Processed",className:"w-16 h-16 object-cover rounded border"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:C.timestamp}),t.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:C.source})]}),t.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2 mb-2",children:C.text}),t.jsx("button",{onClick:()=>A(C.text),className:"text-xs text-blue-500 hover:text-blue-600",children:"Edit Text"})]})]})},C.id))})]})]})]}),t.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"💡 OCR Tips"}),t.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[t.jsx("li",{children:"• Use high-contrast images with clear, readable text"}),t.jsx("li",{children:"• Ensure text is horizontal and not skewed"}),t.jsx("li",{children:"• Good lighting improves extraction accuracy"}),t.jsx("li",{children:"• Works best with printed text rather than handwriting"}),t.jsx("li",{children:"• Multiple languages supported"})]})]})]})},V4=()=>{const{user:s}=Ke(),[n,l]=k.useState([]),[i,c]=k.useState(""),[u,h]=k.useState(!1),[p,g]=k.useState(""),[x,f]=k.useState("all"),[b,j]=k.useState(""),M=["all","work","personal","resources","social","news","entertainment"];k.useEffect(()=>{const D=localStorage.getItem("linkManager_links");D&&l(JSON.parse(D))},[]),k.useEffect(()=>{localStorage.setItem("linkManager_links",JSON.stringify(n))},[n]);const O=async D=>{h(!0);try{await new Promise(S=>setTimeout(S,1500));const y=new URL(D).hostname.replace("www.","");return{...{"github.com":{title:"GitHub Repository",description:"A collaborative platform for version control and code hosting.",favicon:"🐙",image:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"},"stackoverflow.com":{title:"Stack Overflow Question",description:"Programming questions and answers from the developer community.",favicon:"📚",image:null},"youtube.com":{title:"YouTube Video",description:"Video content on the world's largest video sharing platform.",favicon:"📺",image:null},"medium.com":{title:"Medium Article",description:"Thoughtful articles and stories from writers and experts.",favicon:"📰",image:null},"docs.google.com":{title:"Google Docs",description:"Collaborative document editing and sharing.",favicon:"📄",image:null}}[y]||{title:`Website - ${y}`,description:`Content from ${y}`,favicon:"🌐",image:null},url:D,domain:y,addedAt:new Date().toISOString()}}catch{throw new Error("Failed to fetch link preview")}finally{h(!1)}},T=async()=>{if(i.trim())try{if(new URL(i),n.some(y=>y.url===i)){alert("This link has already been saved!");return}const D=await O(i),U={id:Date.now(),...D,category:b||"personal",tags:[],notes:"",isBookmarked:!1,visitCount:0,lastVisited:null};l(y=>[U,...y]),c(""),j("")}catch{alert("Please enter a valid URL")}},R=D=>{l(U=>U.filter(y=>y.id!==D))},N=D=>{l(U=>U.map(y=>y.id===D?{...y,isBookmarked:!y.isBookmarked}:y))},A=(D,U)=>{l(y=>y.map(v=>v.id===D?{...v,visitCount:v.visitCount+1,lastVisited:new Date().toISOString()}:v)),window.open(U,"_blank")},H=n.filter(D=>{const U=D.title.toLowerCase().includes(p.toLowerCase())||D.description.toLowerCase().includes(p.toLowerCase())||D.domain.toLowerCase().includes(p.toLowerCase()),y=x==="all"||D.category===x;return U&&y}),C=()=>{const D=JSON.stringify(n,null,2),U=new Blob([D],{type:"application/json"}),y=URL.createObjectURL(U),v=document.createElement("a");v.href=y,v.download="my-links.json",v.click()},_=D=>{const U=D.target.files[0];if(U){const y=new FileReader;y.onload=v=>{try{const L=JSON.parse(v.target.result);l(S=>[...S,...L])}catch{alert("Error importing links. Please check the file format.")}},y.readAsText(U)}};return t.jsxs("div",{className:"link-manager max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"🔗 Link Manager"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Save, organize, and manage your important links with previews and notes."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 lg:p-6 shadow-sm border",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Link"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{children:t.jsx("input",{type:"url",value:i,onChange:D=>c(D.target.value),onKeyPress:D=>D.key==="Enter"&&T(),placeholder:"Enter URL (e.g., https://example.com)",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[t.jsxs("select",{value:b,onChange:D=>j(D.target.value),className:"w-full sm:flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",children:[t.jsx("option",{value:"",children:"Select category..."}),M.slice(1).map(D=>t.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))]}),t.jsx("button",{onClick:T,disabled:u||!i.trim(),className:"w-full sm:w-auto px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:u?"Processing...":"Add Link"})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[t.jsx("input",{type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"Search links...",className:"w-full sm:flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700"}),t.jsx("select",{value:x,onChange:D=>f(D.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",children:M.map(D=>t.jsx("option",{value:D,children:D==="all"?"All Categories":D.charAt(0).toUpperCase()+D.slice(1)},D))})]})}),t.jsx("div",{className:"space-y-4",children:H.length===0?t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 text-center shadow-sm border",children:[t.jsx("div",{className:"text-6xl mb-4",children:"🔗"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No links yet"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add your first link to get started!"})]}):H.map(D=>t.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-2xl",children:D.favicon}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:D.title}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(D.id),className:`p-1 rounded ${D.isBookmarked?"text-yellow-500":"text-gray-400"}`,children:D.isBookmarked?"⭐":"☆"}),t.jsx("button",{onClick:()=>R(D.id),className:"p-1 rounded text-red-500 hover:bg-red-50",children:"🗑️"})]})]}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2 line-clamp-2",children:D.description}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[t.jsx("span",{children:D.domain}),t.jsxs("span",{children:["Category: ",D.category]}),t.jsxs("span",{children:["Visits: ",D.visitCount]}),D.lastVisited&&t.jsxs("span",{children:["Last: ",new Date(D.lastVisited).toLocaleDateString()]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>A(D.id,D.url),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"Visit"}),t.jsx("button",{onClick:()=>navigator.clipboard.writeText(D.url),className:"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600",children:"Copy URL"})]})]})]})},D.id))})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Statistics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Total Links:"}),t.jsx("span",{className:"font-semibold",children:n.length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Bookmarked:"}),t.jsx("span",{className:"font-semibold",children:n.filter(D=>D.isBookmarked).length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Categories:"}),t.jsx("span",{className:"font-semibold",children:new Set(n.map(D=>D.category)).size})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),t.jsx("div",{className:"space-y-2",children:M.slice(1).map(D=>{const U=n.filter(y=>y.category===D).length;return U>0?t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"capitalize",children:D}),t.jsx("span",{className:"font-semibold",children:U})]},D):null})})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:C,className:"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"📤 Export Links"}),t.jsxs("label",{className:"w-full px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 cursor-pointer block text-center",children:["📥 Import Links",t.jsx("input",{type:"file",accept:".json",onChange:_,className:"hidden"})]})]})]}),t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"💡 Tips"}),t.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[t.jsx("li",{children:"• Bookmark important links with the star"}),t.jsx("li",{children:"• Use categories to organize your links"}),t.jsx("li",{children:"• Export your links as backup"}),t.jsx("li",{children:"• Search works on title and description"})]})]})]})]})]})},U4=()=>{const{tasks:s,expenses:n,notes:l,habits:i,meals:c,callReminders:u,bucketList:h,journalEntries:p,lastSyncTime:g}=Ke(),[x,f]=k.useState([]),[b,j]=k.useState("all"),[M,O]=k.useState("all"),T=[{value:"all",label:"All Activities",icon:"📊"},{value:"tasks",label:"Tasks",icon:"✅"},{value:"expenses",label:"Expenses",icon:"💰"},{value:"notes",label:"Notes",icon:"📝"},{value:"habits",label:"Habits",icon:"🎯"},{value:"meals",label:"Meals",icon:"🍽️"},{value:"reminders",label:"Reminders",icon:"📞"},{value:"bucket",label:"Bucket List",icon:"🏆"},{value:"journal",label:"Journal",icon:"📖"}],R=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}];k.useEffect(()=>{N()},[s,n,l,i,c,u,h,p]);const N=()=>{const U=[];new Date().toISOString().split("T")[0],s.forEach(v=>{v.createdAt&&U.push({id:`task-${v.id}`,type:"tasks",action:"created",title:`Created task: ${v.text}`,description:v.text,timestamp:v.createdAt,icon:"✅",data:v}),v.completed&&v.completedAt&&U.push({id:`task-completed-${v.id}`,type:"tasks",action:"completed",title:`Completed task: ${v.text}`,description:v.text,timestamp:v.completedAt,icon:"✓",data:v})}),n.forEach(v=>{v.createdAt&&U.push({id:`expense-${v.id}`,type:"expenses",action:"added",title:`Added expense: ₹${v.amount}`,description:`${v.description} (${v.category})`,timestamp:v.createdAt,icon:"💰",data:v})}),l.forEach(v=>{v.createdAt&&U.push({id:`note-${v.id}`,type:"notes",action:"created",title:`Created note: ${v.title}`,description:v.title,timestamp:v.createdAt,icon:"📝",data:v}),v.updatedAt&&v.updatedAt!==v.createdAt&&U.push({id:`note-updated-${v.id}`,type:"notes",action:"updated",title:`Updated note: ${v.title}`,description:v.title,timestamp:v.updatedAt,icon:"📝",data:v})}),i.forEach(v=>{v.createdAt&&U.push({id:`habit-${v.id}`,type:"habits",action:"created",title:`Created habit: ${v.name}`,description:`${v.name} - ${v.frequency}`,timestamp:v.createdAt,icon:"🎯",data:v})}),c.forEach(v=>{v.createdAt&&U.push({id:`meal-${v.id}`,type:"meals",action:"logged",title:`Logged ${v.type}: ${v.name}`,description:`${v.name} - ${v.calories} cal`,timestamp:v.createdAt,icon:"🍽️",data:v})}),u.forEach(v=>{v.createdAt&&U.push({id:`reminder-${v.id}`,type:"reminders",action:"created",title:`Created reminder: ${v.name}`,description:`Call ${v.name} - ${v.phone}`,timestamp:v.createdAt,icon:"📞",data:v}),v.completed&&v.completedAt&&U.push({id:`reminder-completed-${v.id}`,type:"reminders",action:"completed",title:`Completed call: ${v.name}`,description:`Called ${v.name}`,timestamp:v.completedAt,icon:"✓",data:v})}),h.forEach(v=>{v.createdAt&&U.push({id:`bucket-${v.id}`,type:"bucket",action:"added",title:`Added goal: ${v.title}`,description:v.title,timestamp:v.createdAt,icon:"🏆",data:v}),v.status==="completed"&&v.completedAt&&U.push({id:`bucket-completed-${v.id}`,type:"bucket",action:"completed",title:`Achieved goal: ${v.title}`,description:v.title,timestamp:v.completedAt,icon:"🎉",data:v})}),p.forEach(v=>{v.updatedAt&&U.push({id:`journal-${v.id}`,type:"journal",action:"wrote",title:`Journal entry for ${v.date}`,description:v.content?.substring(0,100)+"...",timestamp:v.updatedAt,icon:"📖",data:v})}),U.sort((v,L)=>new Date(L.timestamp)-new Date(v.timestamp)),f(U)},A=()=>{let U=[...x];if(b!=="all"&&(U=U.filter(y=>y.type===b)),M!=="all"){const y=new Date,v=new Date(y.getFullYear(),y.getMonth(),y.getDate()),L=new Date(v.getTime()-10080*60*1e3),S=new Date(y.getFullYear(),y.getMonth(),1);U=U.filter(V=>{const z=new Date(V.timestamp);switch(M){case"today":return z>=v;case"week":return z>=L;case"month":return z>=S;default:return!0}})}return U},H=()=>{const U={total:x.length,today:0,week:0,month:0},y=new Date,v=new Date(y.getFullYear(),y.getMonth(),y.getDate()),L=new Date(v.getTime()-10080*60*1e3),S=new Date(y.getFullYear(),y.getMonth(),1);return x.forEach(V=>{const z=new Date(V.timestamp);z>=v&&U.today++,z>=L&&U.week++,z>=S&&U.month++}),U},C=()=>{const U=JSON.stringify(x,null,2),y=new Blob([U],{type:"application/json"}),v=URL.createObjectURL(y),L=document.createElement("a");L.href=v,L.download="activity-history.json",L.click()},_=A(),D=H();return t.jsxs("div",{className:"history max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"📊 Activity History"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your productivity and see all your activities in one place."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"lg:col-span-4 grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:D.total}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Activities"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:D.today}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Today"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:D.week}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Week"})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:D.month}),t.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Month"})]})]}),t.jsx("div",{className:"lg:col-span-4 bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter by Type"}),t.jsx("select",{value:b,onChange:U=>j(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",children:T.map(U=>t.jsx("option",{value:U.value,children:U.label},U.value))})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Timeframe"}),t.jsx("select",{value:M,onChange:U=>O(U.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",children:R.map(U=>t.jsx("option",{value:U.value,children:U.label},U.value))})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"📤 Export"})})]})}),t.jsx("div",{className:"lg:col-span-4",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",_.length," activities",g&&t.jsxs("span",{className:"ml-2",children:["• Last sync: ",new Date(g).toLocaleString()]})]})]}),t.jsx("div",{className:"p-6",children:_.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-6xl mb-4",children:"📊"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No activities found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b!=="all"||M!=="all"?"Try adjusting your filters to see more activities.":"Start using the app to see your activity history here!"})]}):t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:_.map((U,y)=>t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"flex items-start gap-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[t.jsx("div",{className:"text-2xl",children:U.icon}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:U.title}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:U.description}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[t.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded",children:U.type}),t.jsx("span",{children:"•"}),t.jsx("span",{children:new Date(U.timestamp).toLocaleString()})]})]})]},U.id))})})]})})]})]})},P4=()=>{const{tasks:s,expenses:n,notes:l,habits:i,meals:c,callReminders:u,bucketList:h,journalEntries:p,isAuthenticated:g,userEmail:x}=Ke(),f=[{icon:"✓",title:"Smart Task Management",description:"Track daily tasks with automatic rollover for unfinished items. Never lose track of what needs to be done."},{icon:"☁️",title:"Google Sheets Sync",description:"Sync all data automatically with your personal Google Sheet for backup and access from anywhere."},{icon:"💰",title:"Expense Tracking",description:"Comprehensive expense tracking with category-wise monthly budgets in INR currency."},{icon:"🍽️",title:"Meal & Nutrition Logging",description:"Track your daily meals, calories, and nutrition intake with detailed logging capabilities."},{icon:"🎯",title:"Habit Formation",description:"Build positive habits with streak tracking and visual progress indicators."},{icon:"📝",title:"Smart Notes",description:"Rich text notes with voice input, OCR text extraction, and link embedding capabilities."},{icon:"📖",title:"Daily Journaling",description:"Reflect on your day with structured journal entries, mood tracking, and gratitude logging."},{icon:"📞",title:"Call Reminders",description:"Never forget to call important people with smart reminder system."},{icon:"🏆",title:"Bucket List Goals",description:"Track your life goals and dreams with detailed progress monitoring."},{icon:"🎤",title:"Voice Commands",description:"Control the app hands-free with voice commands for adding tasks, notes, and navigation."},{icon:"📸",title:"OCR Text Extraction",description:"Extract text from images using advanced OCR technology with camera or file upload."},{icon:"🔗",title:"Link Management",description:"Save and organize important links with automatic previews and categorization."},{icon:"📱",title:"Progressive Web App",description:"Install on any device and use offline. Works seamlessly across desktop and mobile."},{icon:"🌙",title:"Dark Mode Support",description:"Easy on the eyes with beautiful dark theme that adapts to your preferences."},{icon:"📊",title:"Activity History",description:"Track your productivity and see all your activities with detailed analytics."},{icon:"🔒",title:"Privacy Focused",description:"Your data stays private. Only you have access through your personal Google account."}],b={totalTasks:s.length,completedTasks:s.filter(j=>j.completed).length,totalExpenses:n.length,totalNotes:l.length,totalHabits:i.length,totalMeals:c.length,totalReminders:u.length,totalBucketItems:h.length,totalJournalEntries:p.length};return t.jsxs("div",{className:"about max-w-6xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"About LIFE"}),t.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"A comprehensive life management application designed for individuals who want to track every aspect of their daily life - from tasks and expenses to meals and personal goals."})]})}),g&&t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-blue-600 rounded-lg p-6 mb-8 text-white",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Life in Numbers"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold",children:b.totalTasks}),t.jsx("div",{className:"text-sm opacity-90",children:"Total Tasks"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold",children:b.completedTasks}),t.jsx("div",{className:"text-sm opacity-90",children:"Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold",children:b.totalExpenses}),t.jsx("div",{className:"text-sm opacity-90",children:"Expenses"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold",children:b.totalNotes}),t.jsx("div",{className:"text-sm opacity-90",children:"Notes"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold",children:b.totalHabits}),t.jsx("div",{className:"text-sm opacity-90",children:"Habits"})]})]}),x&&t.jsxs("p",{className:"text-center mt-4 opacity-90",children:["Connected as: ",x]})]}),t.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6 text-center",children:"Powerful Features"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((j,M)=>t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*M},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"text-3xl mb-3",children:j.icon}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:j.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:j.description})]},M))})]}),t.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Why LIFE?"}),t.jsxs("div",{className:"space-y-3 text-gray-600 dark:text-gray-400",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"All-in-One Solution:"})," Instead of using multiple apps, manage your entire life from one unified interface."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Privacy First:"})," Your data belongs to you. Everything syncs to your personal Google Sheet that only you control."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Works Everywhere:"})," Progressive Web App technology means it works seamlessly on any device, online or offline."]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Voice Enabled:"})," Modern voice commands make data entry fast and hands-free when you need it."]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Getting Started"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm",children:"1"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect your Google account in Settings for cloud sync"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm",children:"2"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start adding tasks, expenses, and notes to begin tracking"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm",children:"3"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Install the app on your device for the best experience"})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm",children:"4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore voice commands and advanced features"})]})]})]})]}),t.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-center mt-12 py-8 border-t border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"LIFE - Your Complete Life Management Solution"}),t.jsxs("div",{className:"flex justify-center gap-4 text-sm",children:[t.jsx("span",{children:"Version 2.0.0"}),t.jsx("span",{children:"•"}),t.jsx("span",{children:"Built with ❤️ using React"}),t.jsx("span",{children:"•"}),t.jsx("span",{children:"Privacy Focused"})]})]})]})},wp=()=>{const s=ii(),{addTask:n,addNote:l,addJournalEntry:i}=Ke(),[c,u]=k.useState(!1),[h,p]=k.useState(!1),[g,x]=k.useState(!1),[f,b]=k.useState(""),j=k.useRef(null);k.useEffect(()=>{const N=window.SpeechRecognition||window.webkitSpeechRecognition;return N&&(p(!0),j.current=new N,j.current.continuous=!1,j.current.interimResults=!1,j.current.lang="en-US",j.current.onstart=()=>u(!0),j.current.onend=()=>u(!1),j.current.onresult=A=>{const H=A.results[0][0].transcript;M(H)},j.current.onerror=A=>{console.error("Speech recognition error:",A.error),u(!1),O(`Error: ${A.error}`)}),()=>{j.current&&j.current.stop()}},[]);const M=async N=>{const A=N.toLowerCase();let H="";try{if(A.includes("add task")||A.includes("create task")||A.includes("new task")){const C=N.replace(/(add task|create task|new task)/i,"").trim();C?(await n(C),H=`✅ Task added: "${C}"`):H="❌ Please specify what task to add"}else if(A.includes("add note")||A.includes("create note")||A.includes("new note")){const C=N.replace(/(add note|create note|new note)/i,"").trim();C?(await l({title:C.split(" ").slice(0,5).join(" "),content:C,folder:"Voice Notes",tags:["voice","quick"]}),H="📝 Note created successfully"):H="❌ Please specify the note content"}else if(A.includes("journal")||A.includes("diary")){const C=N.replace(/(add to journal|create journal|journal|diary)/i,"").trim();C?(await i({date:new Date().toISOString().split("T")[0],content:C,mood:"good",tags:["voice","quick"]}),H="📖 Journal entry added"):H="❌ Please specify the journal content"}else A.includes("go to")||A.includes("open")||A.includes("show")?A.includes("task")?(s("/tasks"),H="📋 Opening tasks page"):A.includes("note")?(s("/notes"),H="📝 Opening notes page"):A.includes("journal")?(s("/journal"),H="📖 Opening journal page"):A.includes("dashboard")?(s("/"),H="📊 Opening dashboard"):A.includes("voice")?(s("/voice"),H="🎤 Opening voice commands"):H='❌ Unknown page. Try "go to tasks" or "open notes"':A.includes("help")||A.includes("what can you do")?(s("/voice"),H="🎤 Opening voice commands help"):H='🤔 Try "add task [text]", "create note [text]", or "go to [page]"'}catch(C){H=`❌ Error: ${C.message}`}O(H)},O=N=>{b(N),x(!0),setTimeout(()=>x(!1),3e3)},T=()=>{j.current&&!c&&h&&j.current.start()},R=()=>{j.current&&c&&j.current.stop()};return h?t.jsxs(t.Fragment,{children:[t.jsxs(Y.button,{onClick:c?R:T,whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative p-2 rounded-full transition-all ${c?"bg-red-500 text-white animate-pulse shadow-lg":"bg-blue-500 text-white hover:bg-blue-600 shadow-md"}`,title:c?"Stop voice command":"Quick voice command",children:[c?t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a2 2 0 114 0v4a2 2 0 11-4 0V7z",clipRule:"evenodd"})}):t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})}),c&&t.jsx(Y.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1},className:"absolute -inset-1 bg-red-400 rounded-full opacity-75"})]}),t.jsx(Me,{children:g&&t.jsx(Y.div,{initial:{opacity:0,y:-50,x:50},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-50},className:"fixed top-20 right-4 z-50 bg-white dark:bg-gray-800 shadow-xl rounded-lg p-3 border border-gray-200 dark:border-gray-700 max-w-sm",children:t.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f})})})]}):null},I4=({onComplete:s})=>{const[n,l]=k.useState(!1),[i,c]=k.useState(0),[u,h]=k.useState(""),{migrateFromLegacy:p}=Ke(),g=async()=>{l(!0),c(0);try{h("Reading existing data..."),c(20),await new Promise(f=>setTimeout(f,500)),h("Converting task format..."),c(40),await new Promise(f=>setTimeout(f,500)),h("Migrating expenses and notes..."),c(60),await new Promise(f=>setTimeout(f,500)),h("Importing habits and meals..."),c(80),await new Promise(f=>setTimeout(f,500)),await p(),h("Migration complete!"),c(100),setTimeout(()=>{s()},1500)}catch(f){console.error("Migration failed:",f),h("Migration failed. Please try again."),l(!1)}},x=()=>{window.confirm("Are you sure you want to skip migration? You can migrate your data later from settings.")&&s()};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:t.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Welcome to LIFE!"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We detected existing data from your previous todo app. Would you like to migrate it to the new version?"})]}),n?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[t.jsx("span",{children:u}),t.jsxs("span",{children:[i,"%"]})]}),t.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:t.jsx(Y.div,{initial:{width:0},animate:{width:`${i}%`},transition:{duration:.3},className:"h-full bg-blue-500"})})]}),i===100&&t.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx("svg",{className:"w-12 h-12 text-green-500 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"All data successfully migrated!"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[t.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"What will be migrated:"}),t.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-400 space-y-1",children:[t.jsx("li",{children:"✓ All tasks and completion history"}),t.jsx("li",{children:"✓ Expenses and budgets"}),t.jsx("li",{children:"✓ Notes and journals"}),t.jsx("li",{children:"✓ Habits and streaks"}),t.jsx("li",{children:"✓ Meal tracking data"}),t.jsx("li",{children:"✓ Call reminders"}),t.jsx("li",{children:"✓ Google Sheets configuration"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:g,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Migrate My Data"}),t.jsx("button",{onClick:x,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors",children:"Skip for Now"})]})]})]})})},q4=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Y.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block",children:t.jsxs("svg",{className:"w-16 h-16 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),t.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Loading your tasks..."}),t.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Preparing your offline-first experience"})]})});function $4(){const{initialize:s,isLoading:n,darkMode:l}=Ke(),[i,c]=k.useState(!1),[u,h]=k.useState(!1);k.useEffect(()=>{const g=()=>{window.innerWidth>=768&&h(!0)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),k.useEffect(()=>{s(),p()},[]),k.useEffect(()=>{l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[l]);const p=async()=>{if(typeof localStorage<"u"){const g=localStorage.getItem("tasks")!==null,x=localStorage.getItem("todo_migrationCompleted")!==null;g&&!x&&c(!0)}};return n?t.jsx(q4,{}):i?t.jsx(I4,{onComplete:()=>c(!1)}):t.jsx(n1,{basename:"/Todo-App",children:t.jsx("div",{className:"app min-h-screen bg-gray-50 dark:bg-gray-900",children:t.jsxs("div",{className:"flex h-screen relative",children:[t.jsx(DS,{isOpen:u,onToggle:()=>h(!u)}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300",children:[t.jsx("header",{className:"md:hidden bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("button",{onClick:()=>h(!0),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsx("h1",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:"LIFE"}),t.jsx(wp,{})]})}),t.jsx("header",{className:"hidden md:block bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{})," ",t.jsx(wp,{})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900",children:t.jsx("div",{className:"p-4 md:p-6",children:t.jsxs(B2,{children:[t.jsx(yt,{path:"/",element:t.jsx(B4,{})}),t.jsx(yt,{path:"/tasks",element:t.jsx(BS,{})}),t.jsx(yt,{path:"/expenses",element:t.jsx(US,{})}),t.jsx(yt,{path:"/notes",element:t.jsx(KS,{})}),t.jsx(yt,{path:"/habits",element:t.jsx(e4,{})}),t.jsx(yt,{path:"/meals",element:t.jsx(c4,{})}),t.jsx(yt,{path:"/alarms",element:t.jsx(p4,{})}),t.jsx(yt,{path:"/movies",element:t.jsx(w4,{})}),t.jsx(yt,{path:"/journal",element:t.jsx(A4,{})}),t.jsx(yt,{path:"/reminders",element:t.jsx(S4,{})}),t.jsx(yt,{path:"/bucket",element:t.jsx(O4,{})}),t.jsx(yt,{path:"/voice",element:t.jsx(z4,{})}),t.jsx(yt,{path:"/ocr",element:t.jsx(H4,{})}),t.jsx(yt,{path:"/links",element:t.jsx(V4,{})}),t.jsx(yt,{path:"/history",element:t.jsx(U4,{})}),t.jsx(yt,{path:"/about",element:t.jsx(P4,{})}),t.jsx(yt,{path:"/settings",element:t.jsx(_4,{})})]})})})]})]})})})}Fv.createRoot(document.getElementById("root")).render(t.jsx(k.StrictMode,{children:t.jsx($4,{})}));
